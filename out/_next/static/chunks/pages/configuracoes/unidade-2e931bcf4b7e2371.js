(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6138],{94516:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configuracoes/unidade",function(){return t(78736)}])},47842:function(e,o,t){"use strict";var r=t(85893),n=t(70754),s=t(61953);let a=()=>(0,r.jsx)(s.Z,{sx:{position:"absolute",top:"50%",left:"50%"},children:(0,r.jsx)(n.Z,{})});o.Z=a},46749:function(e,o,t){"use strict";t.d(o,{Lo:function(){return p},OD:function(){return d},OE:function(){return m},OL:function(){return u},g_:function(){return x}});var r=t(85893),n=t(29630),s=t(41664),a=t.n(s),i=t(7071);t(67294),t(40039);var l=t(60664);let c={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"},10:{title:"Pendente",color:"warning"},20:{title:"Acessou o link",color:"warning"},30:{title:"Em preenchimento",color:"warning"},40:{title:"Fornecedor concluiu preenchimento",color:"warning"},50:{title:"Reprovado",color:"error"},60:{title:"Aprovado Parcial",color:"warning"},70:{title:"Aprovado",color:"success"}},u=function(e,o){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.map((s,l)=>{let u=o[l].field;return{...s,flex:s.size,renderCell:s=>(0,r.jsx)(a(),{href:"".concat(e,"/").concat(s.row.id),children:(0,r.jsx)(n.Z,{variant:"body2",sx:{color:"text.primary"},children:o&&o.map((e,o)=>{if(e.field===u){if("status"!=e.field)return s.row[e.field];{let n=c[s.row.status];return t?n.title:(0,r.jsx)(i.Z,{size:"small",skin:"light",color:n.color,label:n.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},o)}}})})})}})},d={successNew:"Dados salvos com sucesso!",successUpdate:"Dados atualizados com sucesso!",errorNew:"Erro ao salvar os dados!",errorRepeated:"Dados j\xe1 existentes!",errorUpdate:"Erro ao atualizar os dados!",errorDelete:"Erro ao excluir os dados!",successDelete:"Dados exclu\xeddos com sucesso!",pendingDelete:"Dado n\xe3o pode ser excluido, pois j\xe1 est\xe1 sendo utilizado!",errorGet:"Erro ao obter os dados!",successGet:"Dados obtidos com sucesso!"},p=e=>{let o=e.split("/"),t=o[o.length-1];return"novo"==t?"new":"edit"},x=e=>{let o=e.split("/");return o.pop(),o.join("/")},m=e=>{let o=e.route;l.h.post(o,e.params,{responseType:"arraybuffer"}).then(e=>{let o=new Blob([e.data],{type:"application/pdf"}),t=URL.createObjectURL(o);window.open(t,"_blank")}).catch(e=>{console.error("Erro ao gerar relat\xf3rio",e)})}},78736:function(e,o,t){"use strict";t.r(o);var r=t(85893),n=t(67294),s=t(60664),a=t(40372),i=t(91359),l=t(60565),c=t(40039),u=t(47842),d=t(11163),p=t(46749),x=t(49837);let m=()=>{let[e,o]=(0,n.useState)(null),t=(0,d.useRouter)(),m=t.pathname,{setTitle:f}=(0,n.useContext)(l.f),{user:h,loggedUnity:w}=(0,n.useContext)(c.V);(0,n.useEffect)(()=>{let e=async()=>{await s.h.get("".concat(m,"?admin=").concat(h.admin,"&unidadeID=").concat(w.unidadeID,"&usuarioID=").concat(h.usuarioID)).then(e=>{o(e.data),f("Unidade")})};e()},[]);let g=(0,p.OL)(m,[{title:"ID",field:"id",size:.1},{title:"Nome",field:"nome",size:.8},{title:"Status",field:"status",size:.1}]);return(0,r.jsxs)(r.Fragment,{children:[!e&&(0,r.jsx)(u.Z,{}),e&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x.Z,{children:(0,r.jsx)(i.Z,{sx:{pt:"0"},children:(0,r.jsx)(a.Z,{rows:e,columns:g,buttonsHeader:{btnNew:!0,btnPrint:!0}})})})})]})};o.default=m},40372:function(e,o,t){"use strict";t.d(o,{Z:function(){return D}});var r=t(85893),n=t(67294),s=t(69655),a=t(62659),i=t(665),l=t(96399),c=t(11163),u=t.n(c),d=t(73338),p=t(75680),x=t(61953),m=t(67836),f=t(80562),h=t(50853),w=t(91359),g=t(75084),b=t(41664),j=t.n(b),Z=t(40039),v=t(21609);let C=e=>{let{btnNew:o,btnPrint:t,openModal:s}=e,a=u(),{routes:i}=(0,n.useContext)(Z.V);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(w.Z,{sx:{display:"flex",justifyContent:"end",alignItems:"center",p:"0",m:"0"},children:(0,r.jsxs)(x.Z,{sx:{display:"flex",gap:"8px"},children:[t&&(0,r.jsx)(g.Z,{onClick:()=>window.print(),type:"button",variant:"outlined",color:"primary",size:"medium",startIcon:(0,r.jsx)(v.Z,{icon:"mdi:printer"}),children:"Imprimir"}),o&&i.find(e=>e.rota===a.pathname&&e.inserir)&&(0,r.jsx)(j(),{href:s?"":"".concat(a.pathname,"/novo"),children:(0,r.jsx)(g.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",startIcon:(0,r.jsx)(v.Z,{icon:"ic:outline-plus"}),onClick:s||null,children:"Novo"})})]})})})},y=e=>(0,r.jsxs)(x.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"baseline",justifyContent:"space-between",p:e=>e.spacing(8,0,0,0)},children:[(0,r.jsxs)(x.Z,{sx:{display:"flex",gap:"8px",textAlig:"end"},children:[(0,r.jsx)(m.Z,{size:"medium",value:e.value,onChange:e.onChange,placeholder:"Buscarâ€¦",variant:"standard",InputProps:{startAdornment:(0,r.jsx)(x.Z,{sx:{mr:2,display:"flex"},children:(0,r.jsx)(v.Z,{icon:"mdi:magnify",fontSize:20})}),endAdornment:(0,r.jsx)(f.Z,{size:"medium",title:"Clear","aria-label":"Clear",onClick:e.clearSearch,children:(0,r.jsx)(v.Z,{icon:"mdi:close",fontSize:20})})},sx:{width:{xs:1,sm:"auto"},"& .MuiInputBase-root > svg":{mr:2}}}),(0,r.jsx)(h.M,{})]}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(C,{btnNew:e.buttonsHeader.btnNew,btnPrint:e.buttonsHeader.btnPrint,openModal:e.buttonsHeader.openModal})})]});var k=t(60565);let z=e=>{let{rows:o,columns:t,buttonsHeader:u,rowColors:x}=e,{handleSearch:m,pageSize:f,setPageSize:h,searchText:w,filteredData:g,setData:b,data:j}=(0,n.useContext)(k.f);b(o);let Z=(0,c.useRouter)(),v=Z.pathname;return(0,r.jsx)(d._,{localeText:p.F.components.MuiDataGrid.defaultProps.localeText,autoHeight:!0,columns:t,pageSize:f,rowsPerPageOptions:[10,20,30,40,50,100],components:{Toolbar:y},rows:w?g:j,onRowClick:e=>Z.push("".concat(v,"/").concat(e.row.id)),onPageSizeChange:e=>h(e),getRowClassName(e){if(x){let o=e.row,t="";return"10"==o.status||"20"==o.status||"30"==o.status?t="warning-row":"40"==o.status?t="primary-row":"50"==o.status?t="error-row":"60"==o.status?t="secondary-row":"70"==o.status&&(t="success-row"),t}},sx:{"& .error-row":{backgroundColor:s.Z[200],"&:hover":{backgroundColor:s.Z[300]}},"& .warning-row":{backgroundColor:a.Z[200],"&:hover":{backgroundColor:a.Z[300]}},"& .success-row":{backgroundColor:i.Z[300],"&:hover":{backgroundColor:i.Z[400]}},"& .primary-row":{backgroundColor:l.Z[200],"&:hover":{backgroundColor:l.Z[300]}},"& .secondary-row":{backgroundColor:i.Z[100],"&:hover":{backgroundColor:i.Z[200]}},"& .MuiDataGrid-cell":{cursor:"pointer"}},componentsProps:{toolbar:{value:w,clearSearch:()=>m(""),onChange:e=>m(e.target.value),buttonsHeader:u}}})};var D=z}},function(e){e.O(0,[975,9774,2888,179],function(){return e(e.s=94516)}),_N_E=e.O()}]);