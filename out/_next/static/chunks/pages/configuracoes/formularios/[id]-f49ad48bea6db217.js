(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8207],{75158:function(e,t,o){"use strict";o.d(t,{Z:function(){return B}});var a=o(63366),n=o(87462),c=o(67294),i=o(86010),s=o(94780),l=o(41796),r=o(37743),d=o(54235),m=o(85893),x=(0,d.Z)((0,m.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),u=(0,d.Z)((0,m.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),h=(0,d.Z)((0,m.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),b=o(36622),j=o(78884),p=o(67074),Z=o(1588),v=o(34867);function g(e){return(0,v.Z)("MuiCheckbox",e)}let f=(0,Z.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),k=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],P=e=>{let{classes:t,indeterminate:o,color:a}=e,c={root:["root",o&&"indeterminate",`color${(0,b.Z)(a)}`]},i=(0,s.Z)(c,g,t);return(0,n.Z)({},t,i)},I=(0,p.ZP)(r.Z,{shouldForwardProp:e=>(0,p.FO)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver(e,t){let{ownerState:o}=e;return[t.root,o.indeterminate&&t.indeterminate,"default"!==o.color&&t[`color${(0,b.Z)(o.color)}`]]}})(({theme:e,ownerState:t})=>(0,n.Z)({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===t.color?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.Fq)("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${f.checked}, &.${f.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${f.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),D=(0,m.jsx)(u,{}),C=(0,m.jsx)(x,{}),y=(0,m.jsx)(h,{}),S=c.forwardRef(function(e,t){var o,s;let l=(0,j.Z)({props:e,name:"MuiCheckbox"}),{checkedIcon:r=D,color:d="primary",icon:x=C,indeterminate:u=!1,indeterminateIcon:h=y,inputProps:b,size:p="medium",className:Z}=l,v=(0,a.Z)(l,k),g=u?h:x,f=u?h:r,S=(0,n.Z)({},l,{color:d,indeterminate:u,size:p}),B=P(S);return(0,m.jsx)(I,(0,n.Z)({type:"checkbox",inputProps:(0,n.Z)({"data-indeterminate":u},b),icon:c.cloneElement(g,{fontSize:null!=(o=g.props.fontSize)?o:p}),checkedIcon:c.cloneElement(f,{fontSize:null!=(s=f.props.fontSize)?s:p}),ownerState:S,ref:t,className:(0,i.Z)(B.root,Z)},v,{classes:B}))});var B=S},64876:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configuracoes/formularios/[id]",function(){return o(98480)}])},47842:function(e,t,o){"use strict";var a=o(85893),n=o(70754),c=o(61953);let i=()=>(0,a.jsx)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%"},children:(0,a.jsx)(n.Z,{})});t.Z=i},98480:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return $}});var a=o(85893),n=o(11163),c=o.n(n),i=o(67294),s=o(87536),l=o(49837),r=o(91359),d=o(85214),m=o(79072),x=o(81284),u=o(95309),h=o(29630),b=o(75158),j=o(67836),p=o(55343),Z=o(19604),v=o(22841),g=o(35966),f=o(75084),k=o(72389),P=o(80562),I=o(46749),D=o(60664),C=o(89191),y=o(60565),S=o(40039),B=o(86501),F=o(47842),O=o(21609),V=o(29620),q=o(77745),M=o(95398),W=o(76779),R=o(44642),N=o(61953),w=o(22416),_=o(16056);let E=e=>{let{openModal:t,setOpenModalConfirmScore:o,itemScore:n,setItemScore:c,getBlocks:i}=e,l=()=>{o(!1)},{handleSubmit:r,register:d}=(0,s.cI)({}),x=e=>{let t={alternativaID:null==n?void 0:n.alternativaID,pontuacao:(null==e?void 0:e.pontuacao)?1:0,parFornecedorBlocoItemID:null==n?void 0:n.parFornecedorBlocoItemID,alternatives:null==n?void 0:n.alternatives.map((t,o)=>({alternativaItemID:null==t?void 0:t.alternativaItemID,score:e[null==t?void 0:t.nome]}))};D.h.post("/formularios/fornecedor/saveItemScore",{data:t}).then(e=>{o(!1),i(),B.Am.success("Pontua\xe7\xe3o salva com sucesso!")})};return(0,a.jsx)(a.Fragment,{children:(null==n?void 0:n.alternatives)&&(0,a.jsx)(V.Z,{open:t,onClose:l,"aria-labelledby":"form-dialog-title",children:(0,a.jsxs)("form",{onSubmit:r(x),children:[(0,a.jsx)(q.Z,{id:"form-dialog-title",children:"Pontua\xe7\xe3o das respostas"}),(0,a.jsxs)(M.Z,{children:[(0,a.jsx)(R.Z,{sx:{mb:3},children:"Defina a pontua\xe7\xe3o para cada alternativa"}),(0,a.jsx)(N.Z,{sx:{mb:4},children:(0,a.jsx)(w.Z,{row:!0,children:(0,a.jsx)(v.Z,{label:"Habilitar pontua\xe7\xe3o",control:(0,a.jsx)(_.Z,{name:"pontuacao",...d("pontuacao"),checked:(null==n?void 0:n.pontuacao)==1,onChange(e){c({...n,pontuacao:e.target.checked?1:0})}})})})}),n&&(null==n?void 0:n.alternatives.map((e,t)=>(0,a.jsx)(m.ZP,{md:12,sx:{mb:4},children:(0,a.jsx)("grid",{item:!0,md:12,children:(0,a.jsx)(p.Z,{fullWidth:!0,children:(0,a.jsx)(j.Z,{disabled:1!=n.pontuacao,id:"outlined-basic",label:null==e?void 0:e.nome,...d("".concat(null==e?void 0:e.nome)),name:"".concat(null==e?void 0:e.nome),defaultValue:null==e?void 0:e.score,variant:"outlined",size:"small",type:"number",title:0!=n.pontuacao||"Habilite a pontua\xe7\xe3o para preencher"})})})},t)))]}),(0,a.jsxs)(W.Z,{className:"dialog-actions-dense",children:[(0,a.jsx)(f.Z,{variant:"outlined",color:"primary",onClick:l,children:"Cancelar"}),(0,a.jsx)(f.Z,{variant:"contained",color:"primary",onClick:r(x),children:"Confirmar"})]})]})})})},z=()=>{var e;let{user:t,loggedUnity:o}=(0,i.useContext)(S.V),[n,V]=(0,i.useState)(),[q,M]=(0,i.useState)([]),[W,R]=(0,i.useState)(),[N,w]=(0,i.useState)(),[_,z]=(0,i.useState)(!1),[H,A]=(0,i.useState)(),$=c(),L=(0,I.g_)($.pathname),{setTitle:T}=(0,i.useContext)(y.f),{setValue:U,register:X,handleSubmit:G,formState:{errors:J}}=(0,s.cI)(),K=async e=>{let t={header:e.headers,blocks:e.blocks,orientacoes:e.orientacoes};try{console.log("onSubmit: ",t),await D.h.put("".concat(L,"/fornecedor/").concat(o.unidadeID),t).then(e=>{B.ZP.success(I.OD.successUpdate)})}catch(a){console.log(a)}},Q=e=>{let t=[...W];t[e].itens.push({ordem:t[e].itens.length+1,obs:1,status:1,obrigatorio:1}),R(t)},Y=(e,t,o)=>{e.removed=!0,U("blocks.[".concat(t,"].itens.[").concat(o,"].removed"),!0),document.getElementById("item-".concat(t,"-").concat(o)).style.display="none",B.ZP.success("Item pr\xe9 removido, salve para concluir!"),console.log("\uD83D\uDE80 item:",e)},ee=e=>{A(null),D.h.post("/formularios/fornecedor/getItemScore",{data:e}).then(e=>{A(e.data)}),A&&z(!0)},et=()=>{let e=[...W];e.push({dados:{ordem:e.length+1,nome:"",status:1},atividades:[...W[0].atividades.map(e=>({...e,checked:0}))],categorias:[...W[0].categorias.map(e=>({...e,checked:0}))],itens:[{ordem:1,obs:1,status:1,obrigatorio:1}]}),R(e)},eo=()=>{D.h.get("".concat(L,"/fornecedor/").concat(o.unidadeID),{headers:{"function-name":"getBlocks"}}).then(e=>{console.log("getBlocks: ",e.data),R(e.data)})},ea=()=>{D.h.get("".concat(L,"/fornecedor/").concat(o.unidadeID),{headers:{"function-name":"getHeader"}}).then(e=>{console.log("getHeader: ",e.data),V(e.data)})},en=()=>{D.h.get("".concat(L,"/fornecedor/").concat(o.unidadeID),{headers:{"function-name":"getOptionsItens"}}).then(e=>{console.log("getOptionsItens: ",e.data),M(e.data)})};return(0,i.useEffect)(()=>{T("Formul\xe1rio do Fornecedor"),ea(),en(),eo()},[]),console.log("blocks: ",W),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{onSubmit:G(K),children:[n&&(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(C.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>G(K)}),(0,a.jsx)(r.Z,{children:(0,a.jsx)(d.Z,{component:"nav","aria-label":"main mailbox",children:(0,a.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(x.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(m.ZP,{item:!0,md:4,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})})]})}),n.map((e,t)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(x.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"headers.[".concat(t,"].parFornecedorID"),defaultValue:e.parFornecedorID,...X("headers.[".concat(t,"].parFornecedorID"))}),(0,a.jsx)(m.ZP,{item:!0,md:4,children:e.nomeCampo}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(b.Z,{name:"headers.[".concat(t,"].mostra"),...X("headers.[".concat(t,"].mostra")),defaultChecked:1==n[t].mostra})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(b.Z,{name:"headers.[".concat(t,"].obrigatorio"),...X("headers.[".concat(t,"].obrigatorio")),defaultChecked:1==n[t].obrigatorio})})]})},t)}))]})})})]}),!W&&(0,a.jsx)(F.Z,{}),W&&W.map((e,t)=>(0,a.jsx)(l.Z,{md:12,sx:{mt:4},children:(0,a.jsxs)(r.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].parFornecedorBlocoID"),defaultValue:e.dados.parFornecedorBlocoID,...X("blocks.[".concat(t,"].parFornecedorBlocoID"))}),(0,a.jsxs)(m.ZP,{container:!0,spacing:4,children:[(0,a.jsx)(m.ZP,{item:!0,xs:12,md:2,children:(0,a.jsx)(j.Z,{label:"Sequ\xeancia",placeholder:"Sequ\xeancia",name:"blocks.[".concat(t,"].sequencia"),defaultValue:e.dados.ordem,...X("blocks.[".concat(t,"].sequencia"))})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(p.Z,{fullWidth:!0,children:(0,a.jsx)(j.Z,{label:"Nome do Bloco",placeholder:"Nome do Bloco",name:"blocks.[".concat(t,"].nome"),defaultValue:e.dados.nome,...X("blocks.[".concat(t,"].nome"))})})}),(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:2,children:[(0,a.jsx)(h.Z,{variant:"body2",children:"Ativo"}),(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"].status"),...X("blocks.[".concat(t,"].status")),defaultChecked:1==W[t].dados.status})]}),(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:2,children:[(0,a.jsx)(h.Z,{variant:"body2",children:"Observa\xe7\xe3o"}),(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"].obs"),...X("blocks.[".concat(t,"].obs")),defaultChecked:1==W[t].dados.obs})]})]}),(0,a.jsx)(m.ZP,{container:!0,spacing:4,sx:{mt:2},children:(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(Z.Z,{severity:"info",children:"Esse bloco ser\xe1 habilitado para o Fornecedor se satisfazer as condi\xe7\xf5es abaixo:"})})}),(0,a.jsxs)(m.ZP,{container:!0,spacing:4,children:[(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:3,children:[(0,a.jsx)(x.ZP,{disablePadding:!0,children:(0,a.jsx)(u.Z,{children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostrar esse bloco quando \xe9:"})})}),e.categorias&&e.categorias.map((e,o)=>(0,a.jsx)(x.ZP,{disablePadding:!0,children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].categorias[").concat(o,"].categoriaID"),defaultValue:e.categoriaID,...X("blocks.[".concat(t,"].categorias[").concat(o,"].categoriaID"))}),(0,a.jsx)(v.Z,{control:(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"].categorias[").concat(o,"].checked"),...X("blocks.[".concat(t,"].categorias[").concat(o,"].checked")),defaultChecked:1==e.checked}),label:e.nome})]})},o))]}),(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:4,children:[(0,a.jsx)(x.ZP,{disablePadding:!0,children:(0,a.jsx)(u.Z,{children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostrar esse bloco se atividade for:"})})}),e.atividades&&e.atividades.map((e,o)=>(0,a.jsx)(x.ZP,{disablePadding:!0,children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].atividades[").concat(o,"].atividadeID"),defaultValue:e.atividadeID,...X("blocks.[".concat(t,"].atividades[").concat(o,"].atividadeID"))}),(0,a.jsx)(v.Z,{control:(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"].atividades[").concat(o,"].checked"),...X("blocks.[".concat(t,"].atividades[").concat(o,"].checked")),defaultChecked:1==e.checked}),label:e.nome})]})},o))]})]}),e.itens&&e.itens.map((e,o)=>(0,a.jsxs)(m.ZP,{id:"item-".concat(t,"-").concat(o),container:!0,spacing:4,sx:{mt:4},children:[(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].itens.[").concat(o,"].parFornecedorBlocoItemID"),defaultValue:e.parFornecedorBlocoItemID,...X("blocks.[".concat(t,"].itens.[").concat(o,"].parFornecedorBlocoItemID"))}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:1,sx:{textAlign:"right"},children:(0,a.jsx)(p.Z,{children:(0,a.jsx)(j.Z,{label:"Sequ\xeancia",placeholder:"Sequ\xeancia",name:"blocks.[".concat(t,"].itens.[").concat(o,"].sequencia"),defaultValue:e.ordem,...X("blocks.[".concat(t,"].itens.[").concat(o,"].sequencia"))})})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:4,children:(0,a.jsx)(p.Z,{fullWidth:!0,children:""!==W[t].itens[o].nome&&(0,a.jsx)(g.Z,{options:q.itens,defaultValue:W[t].itens[o],id:"autocomplete-outlined",getOptionLabel:e=>e.nome||"",disabled:1==e.hasPending,onChange(e,a){U("blocks.[".concat(t,"].itens.[").concat(o,"].itemID"),null==a?void 0:a.itemID)},renderInput:n=>(0,a.jsx)(j.Z,{...n,name:"blocks.[".concat(t,"].itens.[").concat(o,"].nome"),label:e.itemID?"Item [".concat(e.itemID,"]"):"Item",placeholder:e.itemID?"Item [".concat(e.itemID,"]"):"Item",...X("blocks.[".concat(t,"].itens.[").concat(o,"].nome"))})})})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:2,children:(0,a.jsx)(p.Z,{fullWidth:!0,children:(0,a.jsx)(g.Z,{options:q.alternativas,defaultValue:W[t].itens[o],id:"autocomplete-outlined",getOptionLabel:e=>e.alternativa||"",disabled:1==e.hasPending,onChange(e,a){U("blocks.[".concat(t,"].itens.[").concat(o,"].alternativaID"),null==a?void 0:a.alternativaID)},renderInput:e=>(0,a.jsx)(j.Z,{...e,name:"blocks.[".concat(t,"].itens.[").concat(o,"].alternativa"),label:"Alternativa",placeholder:"Alternativa",...X("blocks.[".concat(t,"].itens.[").concat(o,"].alternativa"))})})})}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Ativo":""}),(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"][").concat(o,"].status"),...X("blocks.[".concat(t,"].itens.[").concat(o,"].status")),defaultChecked:1==e.status})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Obs":""}),(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"][").concat(o,"].obs"),disabled:0==e.status,...X("blocks.[".concat(t,"].itens.[").concat(o,"].obs")),defaultChecked:1==e.obs})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Obrigat\xf3rio":""}),(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"][").concat(o,"].obrigatorio"),...X("blocks.[".concat(t,"].itens.[").concat(o,"].obrigatorio")),defaultChecked:1==e.obrigatorio})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Pontua\xe7\xe3o":""}),(0,a.jsx)(f.Z,{style:0===e.pontuacao?{opacity:.3}:{},title:e.parFornecedorBlocoID?"Definir pontua\xe7\xe3o para as respostas":"Salve o bloco para definir a pontua\xe7\xe3o",disabled:!e.parFornecedorBlocoID,onClick:()=>ee(e),children:(0,a.jsx)(O.Z,{icon:"ic:baseline-assessment"})})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Remover":""}),(0,a.jsx)(k.Z,{title:1==e.hasPending?"Este item n\xe3o pode mais ser removido pois j\xe1 foi respondido em um formul\xe1rio":"Remover este item",children:(0,a.jsx)(P.Z,{color:"error",onClick(){1==e.hasPending||Y(e,t,o)},sx:{opacity:1==e.hasPending?.5:1,cursor:1==e.hasPending?"default":"pointer"},children:(0,a.jsx)(O.Z,{icon:"tabler:trash-filled"})})})]})]},o)),_&&H&&(0,a.jsx)(E,{openModal:_,setOpenModalConfirmScore:z,itemScore:H,setItemScore:A,getBlocks:eo}),(0,a.jsx)(m.ZP,{container:!0,spacing:4,sx:{mt:4},children:(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(f.Z,{variant:"outlined",color:"primary",startIcon:(0,a.jsx)(O.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){Q(t)},children:"Inserir Item"})})})]})},t)),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,sx:{mt:4},children:(0,a.jsx)(f.Z,{variant:"outlined",color:"primary",startIcon:(0,a.jsx)(O.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){et()},children:"Inserir Bloco"})}),(0,a.jsx)(l.Z,{md:12,sx:{mt:4},children:(0,a.jsx)(r.Z,{children:(0,a.jsx)(m.ZP,{container:!0,spacing:4,children:(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(j.Z,{label:"Orienta\xe7\xf5es",placeholder:"Orienta\xe7\xf5es",rows:4,multiline:!0,fullWidth:!0,name:"orientacoes",defaultValue:null!==(e=null==N?void 0:N.obs)&&void 0!==e?e:"",...X("orientacoes")})})})})})]})})},H=()=>{let{user:e,loggedUnity:t}=(0,i.useContext)(S.V),[o,n]=(0,i.useState)(),[Z,v]=(0,i.useState)(),[k,P]=(0,i.useState)([]),[F,V]=(0,i.useState)(),[q,M]=(0,i.useState)(),W=c(),R=(0,I.g_)(W.pathname),{setTitle:N}=(0,i.useContext)(y.f),{setValue:w,register:_,handleSubmit:E,formState:{errors:z}}=(0,s.cI)(),H=async e=>{let o={header:e.headers,products:e.products,blocks:e.blocks};console.log("onSubmit: ",o);try{await D.h.put("".concat(R,"/recebimentoMp/").concat(t.unidadeID),o).then(e=>{B.ZP.success(I.OD.successUpdate)})}catch(a){console.log(a)}},A=e=>{let t=[...F];t[e].itens.push({ordem:t[e].itens.length+1,obs:1,status:1,obrigatorio:1}),V(t)},$=()=>{let e=[...F];e.push({dados:{ordem:e.length+1,nome:"",status:1},itens:[{ordem:1,obs:1,status:1,obrigatorio:1}]}),V(e)};return(0,i.useEffect)(()=>{N("Formul\xe1rio do Recebimento de MP"),console.log("=> ",R),D.h.get("".concat(R,"/recebimentoMp/").concat(t.unidadeID),{headers:{"function-name":"getHeader"}}).then(e=>{console.log("getHeader: ",e.data),n(e.data)}),D.h.get("".concat(R,"/recebimentoMp/").concat(t.unidadeID),{headers:{"function-name":"getProducts"}}).then(e=>{console.log("getProducts: ",e.data),v(e.data)}),D.h.get("".concat(R,"/recebimentoMp/").concat(t.unidadeID),{headers:{"function-name":"getBlocks"}}).then(e=>{console.log("getBlocks: ",e.data),V(e.data)}),D.h.get("".concat(R,"/recebimentoMp/").concat(t.unidadeID),{headers:{"function-name":"getOptionsItens"}}).then(e=>{console.log("getOptionsItens: ",e.data),P(e.data)})},[]),console.log("errors: ",z),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{onSubmit:E(H),children:[o&&(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(C.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>E(H)}),(0,a.jsx)(r.Z,{children:(0,a.jsx)(d.Z,{component:"nav","aria-label":"main mailbox",children:(0,a.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(x.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(m.ZP,{item:!0,md:4,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})})]})}),o.map((e,t)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(x.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"headers.[".concat(t,"].parRecebimentompID"),defaultValue:e.parRecebimentompID,..._("headers.[".concat(t,"].parRecebimentompID"))}),(0,a.jsx)(m.ZP,{item:!0,md:4,children:e.nomeCampo}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(b.Z,{name:"headers.[".concat(t,"].mostra"),..._("headers.[".concat(t,"].mostra")),defaultChecked:1==o[t].mostra})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(b.Z,{name:"headers.[".concat(t,"].obrigatorio"),..._("headers.[".concat(t,"].obrigatorio")),defaultChecked:1==o[t].obrigatorio})})]})},t)}))]})})})]}),Z&&(0,a.jsx)(l.Z,{sx:{mt:4},children:(0,a.jsx)(r.Z,{children:(0,a.jsx)(d.Z,{component:"nav","aria-label":"main mailbox",children:(0,a.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(x.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(m.ZP,{item:!0,md:4,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})})]})}),Z.map((e,t)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(x.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"products.[".concat(t,"].parRecebimentoMpProdutoID"),defaultValue:e.parRecebimentoMpProdutoID,..._("products.[".concat(t,"].parRecebimentoMpProdutoID"))}),(0,a.jsx)(m.ZP,{item:!0,md:4,children:e.nomeCampo}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(b.Z,{name:"products.[".concat(t,"].mostra"),..._("products.[".concat(t,"].mostra")),defaultChecked:1==Z[t].mostra})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(b.Z,{name:"products.[".concat(t,"].obrigatorio"),..._("products.[".concat(t,"].obrigatorio")),defaultChecked:1==Z[t].obrigatorio})})]})},t)}))]})})})}),F&&F.map((e,t)=>{var o,n,c,i;return(0,a.jsx)(l.Z,{md:12,sx:{mt:4},children:(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:4},children:"Bloco ".concat(t+1)}),(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].parRecebimentompBlocoID"),defaultValue:e.dados.parRecebimentompBlocoID,..._("blocks.[".concat(t,"].parRecebimentompBlocoID"))}),(0,a.jsxs)(m.ZP,{container:!0,spacing:4,children:[(0,a.jsx)(m.ZP,{item:!0,xs:12,md:2,children:(0,a.jsx)(j.Z,{label:"Sequ\xeancia",placeholder:"Sequ\xeancia",name:"blocks.[".concat(t,"].sequencia"),defaultValue:e.dados.ordem,..._("blocks.[".concat(t,"].sequencia"),{required:!0}),error:null!=z&&null!==(o=z.blocks)&&void 0!==o&&null!==(n=o[t])&&void 0!==n&&!!n.sequencia})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(p.Z,{fullWidth:!0,children:(0,a.jsx)(j.Z,{label:"Nome do Bloco",placeholder:"Nome do Bloco",name:"blocks.[".concat(t,"].nome"),defaultValue:e.dados.nome,..._("blocks.[".concat(t,"].nome"),{required:!0}),error:null!=z&&null!==(c=z.blocks)&&void 0!==c&&null!==(i=c[t])&&void 0!==i&&!!i.nome})})}),(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:2,children:[(0,a.jsx)(h.Z,{variant:"body2",children:"Ativo"}),(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"].status"),..._("blocks.[".concat(t,"].status")),defaultChecked:1==F[t].dados.status})]}),(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:2,children:[(0,a.jsx)(h.Z,{variant:"body2",children:"Observa\xe7\xe3o"}),(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"].obs"),..._("blocks.[".concat(t,"].obs")),defaultChecked:1==F[t].dados.obs})]})]}),(0,a.jsxs)(m.ZP,{container:!0,spacing:4,sx:{mt:4},children:[e.itens&&e.itens.map((e,o)=>{var n,c,i,s;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].itens.[").concat(o,"].parRecebimentompBlocoItemID"),defaultValue:e.parRecebimentompBlocoItemID,..._("blocks.[".concat(t,"].itens.[").concat(o,"].parRecebimentompBlocoItemID"))}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:1,children:(0,a.jsx)(p.Z,{fullWidth:!0,children:(0,a.jsx)(j.Z,{label:"Sequ\xeancia",placeholder:"Sequ\xeancia",name:"blocks.[".concat(t,"].itens.[").concat(o,"].sequencia"),defaultValue:e.ordem,..._("blocks.[".concat(t,"].itens.[").concat(o,"].sequencia"),{required:!0}),error:null!=z&&null!==(n=z.blocks)&&void 0!==n&&null!==(c=n[t])&&void 0!==c&&null!==(i=c.itens)&&void 0!==i&&null!==(s=i[o])&&void 0!==s&&!!s.sequencia})})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(p.Z,{fullWidth:!0,children:""!==F[t].itens[o].nome&&(0,a.jsx)(g.Z,{options:k.itens,defaultValue:F[t].itens[o].item,getOptionLabel:e=>e.nome||"",name:"blocks.[".concat(t,"].itens.[").concat(o,"].item"),..._("blocks.[".concat(t,"].itens.[").concat(o,"].item")),onChange(e,a){console.log("===> ",a),w("blocks.[".concat(t,"].itens.[").concat(o,"].item"),a||"")},renderInput:e=>(0,a.jsx)(j.Z,{...e,label:"Item",placeholder:"Item"})})})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:2,children:(0,a.jsx)(p.Z,{fullWidth:!0,children:(0,a.jsx)(g.Z,{options:k.alternativas,defaultValue:F[t].itens[o],id:"autocomplete-outlined",getOptionLabel:e=>e.alternativa||"",onChange(e,a){w("blocks.[".concat(t,"].itens.[").concat(o,"].alternativaID"),null==a?void 0:a.alternativaID)},renderInput:e=>(0,a.jsx)(j.Z,{...e,name:"blocks.[".concat(t,"].itens.[").concat(o,"].alternativa"),label:"Alternativa",placeholder:"Alternativa",..._("blocks.[".concat(t,"].itens.[").concat(o,"].alternativa"))})})})}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Ativo":""}),(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"][").concat(o,"].status"),..._("blocks.[".concat(t,"].itens.[").concat(o,"].status")),defaultChecked:1==e.status})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Obs":""}),(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"][").concat(o,"].obs"),disabled:0==e.status,..._("blocks.[".concat(t,"].itens.[").concat(o,"].obs")),defaultChecked:1==e.obs})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Obrigat\xf3rio":""}),(0,a.jsx)(b.Z,{name:"blocks.[".concat(t,"][").concat(o,"].obrigatorio"),..._("blocks.[".concat(t,"].itens.[").concat(o,"].obrigatorio")),defaultChecked:1==e.obrigatorio})]})]})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(f.Z,{variant:"outlined",color:"primary",startIcon:(0,a.jsx)(O.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){A(t)},children:"Inserir Item"})})]})]})},t)}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,sx:{mt:4},children:(0,a.jsx)(f.Z,{variant:"outlined",color:"primary",startIcon:(0,a.jsx)(O.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){$()},children:"Inserir Bloco"})}),(0,a.jsx)(l.Z,{md:12,sx:{mt:4},children:(0,a.jsx)(r.Z,{children:(0,a.jsx)(m.ZP,{container:!0,spacing:4,children:(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(j.Z,{label:"Orienta\xe7\xf5es",placeholder:"Orienta\xe7\xf5es",rows:4,multiline:!0,fullWidth:!0,name:"orientacoes",defaultValue:null!=q?q:"",..._("orientacoes")})})})})})]})})},A=()=>{let e=c().query.id;return(0,a.jsxs)(a.Fragment,{children:[1==e&&(0,a.jsx)(z,{}),2==e&&(0,a.jsx)(H,{}),!e&&(0,a.jsx)("div",{children:"Formul\xe1rio n\xe3o encontrado"})]})};var $=A}},function(e){e.O(0,[4885,6668,8214,7536,5537,9774,2888,179],function(){return e(e.s=64876)}),_N_E=e.O()}]);