(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[207],{64876:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configuracoes/formularios/[id]",function(){return a(52138)}])},19550:function(e,t,a){"use strict";var o=a(62097),n=a(5026);let c=()=>{let e=(0,o.Z)();return{primaryFilled:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},primaryLight:{color:e.palette.primary.main,backgroundColor:(0,n.E)(e.palette.primary.main,.12)},secondaryFilled:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main},secondaryLight:{color:e.palette.secondary.main,backgroundColor:(0,n.E)(e.palette.secondary.main,.12)},successFilled:{color:e.palette.success.contrastText,backgroundColor:e.palette.success.main},successLight:{color:e.palette.success.main,backgroundColor:(0,n.E)(e.palette.success.main,.12)},errorFilled:{color:e.palette.error.contrastText,backgroundColor:e.palette.error.main},errorLight:{color:e.palette.error.main,backgroundColor:(0,n.E)(e.palette.error.main,.12)},warningFilled:{color:e.palette.warning.contrastText,backgroundColor:e.palette.warning.main},warningLight:{color:e.palette.warning.main,backgroundColor:(0,n.E)(e.palette.warning.main,.12)},infoFilled:{color:e.palette.info.contrastText,backgroundColor:e.palette.info.main},infoLight:{color:e.palette.info.main,backgroundColor:(0,n.E)(e.palette.info.main,.12)}}};t.Z=c},60033:function(e,t,a){"use strict";var o=a(85893),n=a(11163),c=a.n(n),s=a(91359),i=a(61953),r=a(75084),l=a(41664),d=a.n(l),u=a(21609),m=a(20102);let x=e=>{let{btnCancel:t,btnSave:a,handleSubmit:n,btnDelete:l,onclickDelete:x}=e,h=c();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsxs)(i.Z,{sx:{display:"flex",gap:"8px"},children:[t&&(0,o.jsx)(d(),{href:(0,m.g_)(h.pathname),children:(0,o.jsx)(r.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,o.jsx)(u.Z,{icon:"material-symbols:arrow-back-rounded"})})}),l&&(0,o.jsx)(r.Z,{type:"button",onClick:x,variant:"outlined",color:"error",size:"medium",startIcon:(0,o.jsx)(u.Z,{icon:"material-symbols:delete-outline"}),children:"Excluir"})]}),(0,o.jsx)(i.Z,{sx:{display:"flex",gap:"8px"},children:a&&(0,o.jsx)(r.Z,{onClick:n,type:"submit",variant:"outlined",size:"medium",color:"primary",startIcon:(0,o.jsx)(u.Z,{icon:"material-symbols:save"}),children:"Salvar"})})]})})};t.Z=x},47842:function(e,t,a){"use strict";var o=a(85893),n=a(70754),c=a(61953);let s=()=>(0,o.jsx)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%"},children:(0,o.jsx)(n.Z,{})});t.Z=s},20102:function(e,t,a){"use strict";a.d(t,{g_:function(){return p},OL:function(){return m},Lo:function(){return h},OD:function(){return x}});var o=a(85893),n=a(29630),c=a(41664),s=a.n(c),i=a(21448),r=a(86010),l=a(19550);let d=e=>{let{sx:t,skin:a,color:n,rounded:c}=e,s=(0,l.Z)(),d={primary:{...s.primaryLight},secondary:{...s.secondaryLight},success:{...s.successLight},error:{...s.errorLight},warning:{...s.warningLight},info:{...s.infoLight}},u={...e};return u.rounded=void 0,(0,o.jsx)(i.Z,{...u,variant:"filled",className:(0,r.Z)({"MuiChip-rounded":c,"MuiChip-light":"light"===a}),sx:"light"===a&&n?Object.assign(d[n],t):t})},u={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"}},m=(e,t)=>t.map((a,c)=>{let i=t[c].field;return{...a,flex:a.size,renderCell:a=>(0,o.jsx)(n.Z,{variant:"body2",sx:{color:"text.primary"},children:(0,o.jsx)(s(),{href:"".concat(e,"/").concat(a.row.id),children:t&&t.map((e,t)=>{if(e.field===i){if("status"!=e.field)return a.row[e.field];{let n=u[a.row.status];return(0,o.jsx)(d,{size:"small",skin:"light",color:n.color,label:n.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},t)}}})})})}}),x={successNew:"Dados salvos com sucesso!",successUpdate:"Dados atualizados com sucesso!",errorNew:"Erro ao salvar os dados!",errorRepeated:"Dados j\xe1 existentes!",errorUpdate:"Erro ao atualizar os dados!",errorDelete:"Erro ao excluir os dados!",successDelete:"Dados exclu\xeddos com sucesso!",pendingDelete:"Dado n\xe3o pode ser excluido, pois j\xe1 est\xe1 sendo utilizado!",errorGet:"Erro ao obter os dados!",successGet:"Dados obtidos com sucesso!"},h=e=>{let t=e.split("/"),a=t[t.length-1];return"novo"==a?"new":"edit"},p=e=>{let t=e.split("/");return t.pop(),t.join("/")}},52138:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return O}});var o=a(85893),n=a(11163),c=a.n(n),s=a(67294),i=a(87536),r=a(49837),l=a(91359),d=a(85214),u=a(79072),m=a(81284),x=a(95309),h=a(29630),p=a(75158),b=a(67836),j=a(55343),g=a(35966),Z=a(75084),f=a(20102),k=a(60664),v=a(60033),y=a(60565),P=a(40039),I=a(86501),C=a(47842),D=a(21609);let w=()=>{let{user:e}=(0,s.useContext)(P.V),[t,a]=(0,s.useState)(),[n,w]=(0,s.useState)([]),[F,O]=(0,s.useState)(),[E,L]=(0,s.useState)(),[_,S]=(0,s.useState)(),V=c(),B=(0,f.g_)(V.pathname),{setTitle:N}=(0,s.useContext)(y.f),{setValue:q,register:W,handleSubmit:z,formState:{errors:T}}=(0,i.cI)(),M=async t=>{let a={header:t.headers,blocks:t.blocks,orientacoes:t.orientacoes};S(!0);try{await k.h.put("".concat(B,"/fornecedor/").concat(e.unidadeID),a).then(e=>{I.ZP.success(f.OD.successUpdate),S(!1)})}catch(o){console.log(o),S(!1)}},A=e=>{let t=[...F];t[e].itens.push({ordem:t[e].itens.length+1,obs:1,status:1,obrigatorio:1}),O(t)},U=()=>{let e=[...F];e.push({dados:{ordem:e.length+1,nome:"",status:1},atividades:[...F[0].atividades.map(e=>({...e,checked:0}))],categorias:[...F[0].categorias.map(e=>({...e,checked:0}))],itens:[{ordem:1,obs:1,status:1,obrigatorio:1}]}),O(e)};return(0,s.useEffect)(()=>{N("Formul\xe1rio do Fornecedor"),k.h.get("".concat(B,"/fornecedor/").concat(e.unidadeID),{headers:{"function-name":"getHeader"}}).then(e=>{console.log("getHeader: ",e.data),a(e.data)}),k.h.get("".concat(B,"/fornecedor/").concat(e.unidadeID),{headers:{"function-name":"getOptionsItens"}}).then(e=>{console.log("getOptionsItens: ",e.data),w(e.data)}),k.h.get("".concat(B,"/fornecedor/").concat(e.unidadeID),{headers:{"function-name":"getBlocks"}}).then(e=>{console.log("getBlocks: ",e.data),O(e.data)}),k.h.get("".concat(B,"/fornecedor/").concat(e.unidadeID),{headers:{"function-name":"getOrientacoes"}}).then(e=>{console.log("getOrientacoes: ",e.data),L(e.data.obs)})},[]),(0,o.jsxs)(o.Fragment,{children:[_&&(0,o.jsx)(C.Z,{}),(0,o.jsxs)("form",{onSubmit:z(M),children:[t&&(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(v.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>z(M)}),(0,o.jsx)(l.Z,{children:(0,o.jsx)(d.Z,{component:"nav","aria-label":"main mailbox",children:(0,o.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,o.jsx)(m.ZP,{divider:!0,disablePadding:!0,children:(0,o.jsxs)(x.Z,{children:[(0,o.jsx)(u.ZP,{item:!0,md:4,children:(0,o.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,o.jsx)(u.ZP,{item:!0,md:3,children:(0,o.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,o.jsx)(u.ZP,{item:!0,md:3,children:(0,o.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})})]})}),t.map((e,a)=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(m.ZP,{divider:!0,disablePadding:!0,children:(0,o.jsxs)(x.Z,{children:[(0,o.jsx)("input",{type:"hidden",name:"headers.[".concat(a,"].parFornecedorID"),defaultValue:e.parFornecedorID,...W("headers.[".concat(a,"].parFornecedorID"))}),(0,o.jsx)(u.ZP,{item:!0,md:4,children:e.nomeCampo}),(0,o.jsx)(u.ZP,{item:!0,md:3,children:(0,o.jsx)(p.Z,{name:"headers.[".concat(a,"].mostra"),...W("headers.[".concat(a,"].mostra")),defaultChecked:1==t[a].mostra})}),(0,o.jsx)(u.ZP,{item:!0,md:3,children:(0,o.jsx)(p.Z,{name:"headers.[".concat(a,"].obrigatorio"),...W("headers.[".concat(a,"].obrigatorio")),defaultChecked:1==t[a].obrigatorio})})]})},a)}))]})})})]}),!F&&(0,o.jsx)(C.Z,{}),F&&F.map((e,t)=>(0,o.jsx)(r.Z,{md:12,sx:{mt:4},children:(0,o.jsxs)(l.Z,{children:[(0,o.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].parFornecedorBlocoID"),defaultValue:e.dados.parFornecedorBlocoID,...W("blocks.[".concat(t,"].parFornecedorBlocoID"))}),(0,o.jsxs)(u.ZP,{container:!0,spacing:4,children:[(0,o.jsx)(u.ZP,{item:!0,xs:12,md:2,children:(0,o.jsx)(b.Z,{label:"Sequ\xeancia",placeholder:"Sequ\xeancia",name:"blocks.[".concat(t,"].sequencia"),defaultValue:e.dados.ordem,...W("blocks.[".concat(t,"].sequencia"))})}),(0,o.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,o.jsx)(j.Z,{fullWidth:!0,children:(0,o.jsx)(b.Z,{label:"Nome do Bloco",placeholder:"Nome do Bloco",name:"blocks.[".concat(t,"].nome"),defaultValue:e.dados.nome,...W("blocks.[".concat(t,"].nome"))})})}),(0,o.jsxs)(u.ZP,{item:!0,xs:12,md:2,children:[(0,o.jsx)(h.Z,{variant:"body2",children:"Ativo"}),(0,o.jsx)(p.Z,{name:"blocks.[".concat(t,"].status"),...W("blocks.[".concat(t,"].status")),defaultChecked:1==F[t].dados.status})]}),(0,o.jsxs)(u.ZP,{item:!0,xs:12,md:2,children:[(0,o.jsx)(h.Z,{variant:"body2",children:"Observa\xe7\xe3o"}),(0,o.jsx)(p.Z,{name:"blocks.[".concat(t,"].obs"),...W("blocks.[".concat(t,"].obs")),defaultChecked:1==F[t].dados.obs})]})]}),(0,o.jsxs)(u.ZP,{container:!0,spacing:4,children:[(0,o.jsxs)(u.ZP,{item:!0,xs:12,md:4,children:[(0,o.jsx)(m.ZP,{disablePadding:!0,children:(0,o.jsx)(x.Z,{children:(0,o.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostrar esse bloco se atividade for:"})})}),e.atividades&&e.atividades.map((e,a)=>(0,o.jsx)(m.ZP,{disablePadding:!0,children:(0,o.jsxs)(x.Z,{children:[(0,o.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].atividades[").concat(a,"].atividadeID"),defaultValue:e.atividadeID,...W("blocks.[".concat(t,"].atividades[").concat(a,"].atividadeID"))}),(0,o.jsx)(u.ZP,{item:!0,md:1,children:(0,o.jsx)(p.Z,{name:"blocks.[".concat(t,"].atividades[").concat(a,"].checked"),...W("blocks.[".concat(t,"].atividades[").concat(a,"].checked")),defaultChecked:1==e.checked})}),(0,o.jsx)(u.ZP,{item:!0,md:11,children:e.nome})]})},a))]}),(0,o.jsxs)(u.ZP,{item:!0,xs:12,md:4,children:[(0,o.jsx)(m.ZP,{disablePadding:!0,children:(0,o.jsx)(x.Z,{children:(0,o.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostrar esse bloco quando \xe9:"})})}),e.categorias&&e.categorias.map((e,a)=>(0,o.jsx)(m.ZP,{disablePadding:!0,children:(0,o.jsxs)(x.Z,{children:[(0,o.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].categorias[").concat(a,"].categoriaID"),defaultValue:e.categoriaID,...W("blocks.[".concat(t,"].categorias[").concat(a,"].categoriaID"))}),(0,o.jsx)(u.ZP,{item:!0,md:1,children:(0,o.jsx)(p.Z,{name:"blocks.[".concat(t,"].categorias[").concat(a,"].checked"),...W("blocks.[".concat(t,"].categorias[").concat(a,"].checked")),defaultChecked:1==e.checked})}),(0,o.jsx)(u.ZP,{item:!0,md:11,children:e.nome})]})},a))]})]}),(0,o.jsxs)(u.ZP,{container:!0,spacing:4,sx:{mt:4},children:[e.itens&&e.itens.map((e,a)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].itens.[").concat(a,"].parFornecedorBlocoItemID"),defaultValue:e.parFornecedorBlocoItemID,...W("blocks.[".concat(t,"].itens.[").concat(a,"].parFornecedorBlocoItemID"))}),(0,o.jsx)(u.ZP,{item:!0,xs:12,md:1,children:(0,o.jsx)(j.Z,{fullWidth:!0,children:(0,o.jsx)(b.Z,{label:"Sequ\xeancia",placeholder:"Sequ\xeancia",name:"blocks.[".concat(t,"].itens.[").concat(a,"].sequencia"),defaultValue:e.ordem,...W("blocks.[".concat(t,"].itens.[").concat(a,"].sequencia"))})})}),(0,o.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,o.jsx)(j.Z,{fullWidth:!0,children:""!==F[t].itens[a].nome&&(0,o.jsx)(g.Z,{options:n.itens,defaultValue:F[t].itens[a],id:"autocomplete-outlined",getOptionLabel:e=>e.nome||"",onChange(e,o){q("blocks.[".concat(t,"].itens.[").concat(a,"].itemID"),null==o?void 0:o.itemID)},renderInput:e=>(0,o.jsx)(b.Z,{...e,name:"blocks.[".concat(t,"].itens.[").concat(a,"].nome"),label:"Item",placeholder:"Item",...W("blocks.[".concat(t,"].itens.[").concat(a,"].nome"))})})})}),(0,o.jsx)(u.ZP,{item:!0,xs:12,md:2,children:(0,o.jsx)(j.Z,{fullWidth:!0,children:(0,o.jsx)(g.Z,{options:n.alternativas,defaultValue:F[t].itens[a],id:"autocomplete-outlined",getOptionLabel:e=>e.alternativa||"",onChange(e,o){q("blocks.[".concat(t,"].itens.[").concat(a,"].alternativaID"),null==o?void 0:o.alternativaID)},renderInput:e=>(0,o.jsx)(b.Z,{...e,name:"blocks.[".concat(t,"].itens.[").concat(a,"].alternativa"),label:"Alternativa",placeholder:"Alternativa",...W("blocks.[".concat(t,"].itens.[").concat(a,"].alternativa"))})})})}),(0,o.jsxs)(u.ZP,{item:!0,md:1,children:[(0,o.jsx)(h.Z,{variant:"body2",children:"Ativo"}),(0,o.jsx)(p.Z,{name:"blocks.[".concat(t,"][").concat(a,"].status"),...W("blocks.[".concat(t,"].itens.[").concat(a,"].status")),defaultChecked:1==e.status})]}),(0,o.jsxs)(u.ZP,{item:!0,md:1,children:[(0,o.jsx)(h.Z,{variant:"body2",children:"Obs"}),(0,o.jsx)(p.Z,{name:"blocks.[".concat(t,"][").concat(a,"].obs"),disabled:0==e.status,...W("blocks.[".concat(t,"].itens.[").concat(a,"].obs")),defaultChecked:1==e.obs})]}),(0,o.jsxs)(u.ZP,{item:!0,md:1,children:[(0,o.jsx)(h.Z,{variant:"body2",children:"Obrigat\xf3rio"}),(0,o.jsx)(p.Z,{name:"blocks.[".concat(t,"][").concat(a,"].obrigatorio"),...W("blocks.[".concat(t,"].itens.[").concat(a,"].obrigatorio")),defaultChecked:1==e.obrigatorio})]})]})),(0,o.jsx)(u.ZP,{item:!0,xs:12,md:12,children:(0,o.jsx)(Z.Z,{variant:"outlined",color:"primary",startIcon:(0,o.jsx)(D.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){A(t)},children:"Inserir Item"})})]})]})},t)),(0,o.jsx)(u.ZP,{item:!0,xs:12,md:12,sx:{mt:4},children:(0,o.jsx)(Z.Z,{variant:"outlined",color:"primary",startIcon:(0,o.jsx)(D.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){U()},children:"Inserir Bloco"})}),(0,o.jsx)(r.Z,{md:12,sx:{mt:4},children:(0,o.jsx)(l.Z,{children:(0,o.jsx)(u.ZP,{container:!0,spacing:4,children:(0,o.jsx)(u.ZP,{item:!0,xs:12,md:12,children:(0,o.jsx)(b.Z,{label:"Orienta\xe7\xf5es",placeholder:"Orienta\xe7\xf5es",rows:4,multiline:!0,fullWidth:!0,name:"orientacoes",defaultValue:null!=E?E:"",...W("orientacoes")})})})})})]})]})},F=()=>{let e=c().query.id;return(0,o.jsxs)(o.Fragment,{children:[1==e&&(0,o.jsx)(w,{}),!e&&(0,o.jsx)("div",{children:"Formul\xe1rio n\xe3o encontrado"})]})};var O=F}},function(e){e.O(0,[836,536,423,925,966,774,888,179],function(){return e(e.s=64876)}),_N_E=e.O()}]);