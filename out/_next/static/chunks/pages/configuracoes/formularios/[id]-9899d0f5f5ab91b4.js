(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8207],{19604:function(e,t,o){"use strict";o.d(t,{Z:function(){return O}});var a=o(63366),n=o(87462),i=o(67294),s=o(86010),c=o(94780),r=o(41796),l=o(67074),d=o(78884),m=o(36622),u=o(70918),x=o(1588),h=o(34867);function p(e){return(0,h.Z)("MuiAlert",e)}let j=(0,x.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var b=o(80562),Z=o(54235),v=o(85893),g=(0,Z.Z)((0,v.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),f=(0,Z.Z)((0,v.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),k=(0,Z.Z)((0,v.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),I=(0,Z.Z)((0,v.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),P=o(96903);let y=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","variant"],C=e=>{let{variant:t,color:o,severity:a,classes:n}=e,i={root:["root",`${t}${(0,m.Z)(o||a)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,c.Z)(i,p,n)},D=(0,l.ZP)(u.Z,{name:"MuiAlert",slot:"Root",overridesResolver(e,t){let{ownerState:o}=e;return[t.root,t[o.variant],t[`${o.variant}${(0,m.Z)(o.color||o.severity)}`]]}})(({theme:e,ownerState:t})=>{let o="light"===e.palette.mode?r._j:r.$n,a="light"===e.palette.mode?r.$n:r._j,i=t.color||t.severity;return(0,n.Z)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&"standard"===t.variant&&{color:e.vars?e.vars.palette.Alert[`${i}Color`]:o(e.palette[i].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${i}StandardBg`]:a(e.palette[i].light,.9),[`& .${j.icon}`]:e.vars?{color:e.vars.palette.Alert[`${i}IconColor`]}:{color:"dark"===e.palette.mode?e.palette[i].main:e.palette[i].light}},i&&"outlined"===t.variant&&{color:e.vars?e.vars.palette.Alert[`${i}Color`]:o(e.palette[i].light,.6),border:`1px solid ${(e.vars||e).palette[i].light}`,[`& .${j.icon}`]:e.vars?{color:e.vars.palette.Alert[`${i}IconColor`]}:{color:"dark"===e.palette.mode?e.palette[i].main:e.palette[i].light}},i&&"filled"===t.variant&&(0,n.Z)({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${i}FilledColor`],backgroundColor:e.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:"dark"===e.palette.mode?e.palette[i].dark:e.palette[i].main,color:e.palette.getContrastText("dark"===e.palette.mode?e.palette[i].dark:e.palette[i].main)}))}),S=(0,l.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),A=(0,l.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),w=(0,l.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),M={success:(0,v.jsx)(g,{fontSize:"inherit"}),warning:(0,v.jsx)(f,{fontSize:"inherit"}),error:(0,v.jsx)(k,{fontSize:"inherit"}),info:(0,v.jsx)(I,{fontSize:"inherit"})},B=i.forwardRef(function(e,t){var o,i;let c=(0,d.Z)({props:e,name:"MuiAlert"}),{action:r,children:l,className:m,closeText:u="Close",color:x,components:h={},componentsProps:p={},icon:j,iconMapping:Z=M,onClose:g,role:f="alert",severity:k="success",variant:I="standard"}=c,B=(0,a.Z)(c,y),O=(0,n.Z)({},c,{color:x,severity:k,variant:I}),F=C(O),z=null!=(o=h.CloseButton)?o:b.Z,R=null!=(i=h.CloseIcon)?i:P.Z;return(0,v.jsxs)(D,(0,n.Z)({role:f,elevation:0,ownerState:O,className:(0,s.Z)(F.root,m),ref:t},B,{children:[!1!==j?(0,v.jsx)(S,{ownerState:O,className:F.icon,children:j||Z[k]||M[k]}):null,(0,v.jsx)(A,{ownerState:O,className:F.message,children:l}),null!=r?(0,v.jsx)(w,{ownerState:O,className:F.action,children:r}):null,null==r&&g?(0,v.jsx)(w,{ownerState:O,className:F.action,children:(0,v.jsx)(z,(0,n.Z)({size:"small","aria-label":u,title:u,color:"inherit",onClick:g},p.closeButton,{children:(0,v.jsx)(R,(0,n.Z)({fontSize:"small"},p.closeIcon))}))}):null]}))});var O=B},64876:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configuracoes/formularios/[id]",function(){return o(98480)}])},89191:function(e,t,o){"use strict";o.d(t,{Z:function(){return f}});var a=o(85893),n=o(11163),i=o.n(n),s=o(67294),c=o(91359),r=o(61953),l=o(75084),d=o(41664),m=o.n(d),u=o(21609),x=o(46749),h=o(73812),p=o(86378),j=o(9942);function b(e){let{disabled:t,generateReport:o,dataReports:n,open:i,anchorEl:s,handleClick:c,handleClose:r}=e;return(0,a.jsx)("div",{children:(0,a.jsx)(h.Z,{id:"fade-menu",MenuListProps:{"aria-labelledby":"fade-button"},anchorEl:s,open:i,onClose:r,TransitionComponent:j.Z,children:n.map(e=>(0,a.jsxs)(p.Z,{onClick(){r(),o(e)},children:[(0,a.jsx)("span",{children:e.identification}),(0,a.jsx)("span",{style:{padding:"0 5px"},children:"-"}),(0,a.jsx)("span",{children:e.name})]},e.id))})})}var Z=o(40039),v=o(10160);let g=e=>{let{btnCancel:t,btnSave:o,btnSend:n,btnChangeStatus:d,handleSubmit:h,disabledSubmit:p,handleSend:j,disabledSend:g,handleChangeStatus:f,btnDelete:k,onclickDelete:I,btnPrint:P,disabled:y,generateReport:C,dataReports:D}=e,S=i(),{user:A,routes:w}=(0,s.useContext)(Z.V),[M,B]=(0,s.useState)(!1),[O,F]=(0,s.useState)(null),z=Boolean(O),R=e=>{F(e.currentTarget)},E=()=>{F(null)},W=(()=>{let e=S.pathname.split("/").slice(0,-1).join("/");return e||S.pathname})();return(0,s.useEffect)(()=>{let e=()=>{window.scrollY>0?B(!0):B(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,a.jsxs)(r.Z,{sx:{display:"flex",gap:"8px"},children:[t&&(0,a.jsx)(m(),{href:(0,x.g_)(S.pathname),children:(0,a.jsx)(l.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,a.jsx)(u.Z,{icon:"material-symbols:arrow-back-rounded"})})}),k&&w.find(e=>e.rota===W&&e.excluir)&&(0,a.jsx)(l.Z,{type:"button",onClick:I,variant:"outlined",color:"error",size:"medium",startIcon:(0,a.jsx)(u.Z,{icon:"material-symbols:delete-outline"}),children:"Excluir"}),d&&(0,a.jsx)(l.Z,{type:"button",onClick:f,variant:"outlined",color:"primary",size:"medium",startIcon:(0,a.jsx)(u.Z,{icon:"fluent:status-12-filled"}),children:"Status"})]}),(0,a.jsxs)(r.Z,{sx:{display:"flex",gap:"8px"},children:[P&&1===D.length&&(0,a.jsx)(l.Z,{id:"fade-button","aria-controls":z?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":z?"true":void 0,onClick:()=>C(D[0]),color:"primary",disabled:y,variant:"outlined",size:"medium",type:"button",startIcon:(0,a.jsx)(u.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),P&&D.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{id:"fade-button","aria-controls":z?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":z?"true":void 0,onClick:R,color:"primary",disabled:y,variant:"outlined",size:"medium",type:"button",startIcon:(0,a.jsx)(u.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),(0,a.jsx)(b,{generateReport:C,dataReports:D,handleClick:R,handleClose:E,open:z,anchorEl:O})]}),o&&w.find(e=>e.rota===W&&e.editar)&&(0,a.jsx)(l.Z,{onClick:h,type:"submit",variant:"outlined",size:"medium",color:"primary",disabled:y||p,startIcon:(0,a.jsx)(u.Z,{icon:"material-symbols:save"}),children:"Salvar"}),n&&2==A.papelID&&(0,a.jsx)(l.Z,{onClick:j,type:"button",variant:"contained",size:"medium",color:"primary",disabled:y||g,sx:{ml:2},startIcon:(0,a.jsx)(u.Z,{icon:"carbon:send-filled"}),children:"Enviar Formul\xe1rio"}),M&&o&&w.find(e=>e.rota===W&&e.editar)&&(0,a.jsx)("div",{className:"\n                                ".concat(M?"fadeIn":"fadeOut","\n                            "),style:{position:"fixed",bottom:"40px",right:"30px",zIndex:"5555",textAlign:"center"},children:(0,a.jsx)(v.Z,{color:"primary",size:"large",onClick:h,type:"submit",variant:"contained",disabled:y||p,children:(0,a.jsx)(u.Z,{icon:"material-symbols:save"})})})]})]})})};var f=g},47842:function(e,t,o){"use strict";var a=o(85893),n=o(70754),i=o(61953);let s=()=>(0,a.jsx)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%"},children:(0,a.jsx)(n.Z,{})});t.Z=s},46749:function(e,t,o){"use strict";o.d(t,{Lo:function(){return u},OD:function(){return m},OE:function(){return h},OL:function(){return d},WR:function(){return l},g_:function(){return x}});var a=o(85893),n=o(29630),i=o(41664),s=o.n(i),c=o(7071);o(67294),o(40039);var r=o(60664);o(50196);let l={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"},10:{title:"Pendente",color:"warning"},20:{title:"Acessou link",color:"info"},30:{title:"Em preenchimento",color:"warning"},40:{title:"Conclu\xeddo",color:"primary"},50:{title:"Reprovado",color:"error"},60:{title:"Aprovado Parcial",color:"warning"},70:{title:"Aprovado",color:"success"}},d=(e,t)=>t.map((o,i)=>{let r=t[i].field;return{...o,flex:o.size,renderCell:o=>(0,a.jsx)(s(),{href:"".concat(e,"/").concat(o.row.id),children:(0,a.jsx)(n.Z,{variant:"body2",sx:{color:"text.primary"},children:t&&t.map((e,t)=>{if(e.field===r){if("status"!=e.field)return o.row[e.field];{let n=l[o.row.status];return(0,a.jsx)(c.Z,{size:"small",skin:"light",color:n.color,label:n.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},t)}}})})})}}),m={successNew:"Dados salvos com sucesso!",successUpdate:"Dados atualizados com sucesso!",errorNew:"Erro ao salvar os dados!",errorRepeated:"Dados j\xe1 existentes!",errorUpdate:"Erro ao atualizar os dados!",errorDelete:"Erro ao excluir os dados!",successDelete:"Dados exclu\xeddos com sucesso!",pendingDelete:"Dado n\xe3o pode ser excluido, pois j\xe1 est\xe1 sendo utilizado!",errorGet:"Erro ao obter os dados!",successGet:"Dados obtidos com sucesso!"},u=e=>{let t=e.split("/"),o=t[t.length-1];return"novo"==o?"new":"edit"},x=e=>{let t=e.split("/");return t.pop(),t.join("/")},h=e=>{let t=e.route;r.h.get(t,e.params,{responseType:"arraybuffer"}).then(e=>{let t=new Blob([e.data],{type:"application/pdf"}),o=URL.createObjectURL(t);window.open(o,"_blank")}).catch(e=>{console.error("Erro ao gerar relat\xf3rio",e)})}},98480:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return $}});var a=o(85893),n=o(11163),i=o.n(n),s=o(67294),c=o(87536),r=o(49837),l=o(91359),d=o(85214),m=o(79072),u=o(81284),x=o(95309),h=o(29630),p=o(75158),j=o(67836),b=o(55343),Z=o(19604),v=o(22841),g=o(35966),f=o(75084),k=o(72389),I=o(80562),P=o(46749),y=o(60664),C=o(89191),D=o(60565),S=o(40039),A=o(86501),w=o(47842),M=o(21609),B=o(29620),O=o(77745),F=o(95398),z=o(76779),R=o(44642),E=o(61953),W=o(22416),V=o(16056);let q=e=>{let{openModal:t,setOpenModalConfirmScore:o,itemScore:n,setItemScore:i,getBlocks:s}=e,r=()=>{o(!1)},{handleSubmit:l,register:d}=(0,c.cI)({}),u=e=>{let t={alternativaID:null==n?void 0:n.alternativaID,pontuacao:(null==e?void 0:e.pontuacao)?1:0,parFornecedorBlocoItemID:null==n?void 0:n.parFornecedorBlocoItemID,alternatives:null==n?void 0:n.alternatives.map((t,o)=>({alternativaItemID:null==t?void 0:t.alternativaItemID,score:e[null==t?void 0:t.nome]}))};y.h.post("/formularios/fornecedor/saveItemScore",{data:t}).then(e=>{o(!1),s(),A.Am.success("Pontua\xe7\xe3o salva com sucesso!")})};return(0,a.jsx)(a.Fragment,{children:(null==n?void 0:n.alternatives)&&(0,a.jsx)(B.Z,{open:t,onClose:r,"aria-labelledby":"form-dialog-title",children:(0,a.jsxs)("form",{onSubmit:l(u),children:[(0,a.jsx)(O.Z,{id:"form-dialog-title",children:"Pontua\xe7\xe3o das respostas"}),(0,a.jsxs)(F.Z,{children:[(0,a.jsx)(R.Z,{sx:{mb:3},children:"Defina a pontua\xe7\xe3o para cada alternativa"}),(0,a.jsx)(E.Z,{sx:{mb:4},children:(0,a.jsx)(W.Z,{row:!0,children:(0,a.jsx)(v.Z,{label:"Habilitar pontua\xe7\xe3o",control:(0,a.jsx)(V.Z,{name:"pontuacao",...d("pontuacao"),checked:(null==n?void 0:n.pontuacao)==1,onChange(e){i({...n,pontuacao:e.target.checked?1:0})}})})})}),n&&(null==n?void 0:n.alternatives.map((e,t)=>(0,a.jsx)(m.ZP,{md:12,sx:{mb:4},children:(0,a.jsx)("grid",{item:!0,md:12,children:(0,a.jsx)(b.Z,{fullWidth:!0,children:(0,a.jsx)(j.Z,{disabled:1!=n.pontuacao,id:"outlined-basic",label:null==e?void 0:e.nome,...d("".concat(null==e?void 0:e.nome)),name:"".concat(null==e?void 0:e.nome),defaultValue:null==e?void 0:e.score,variant:"outlined",size:"small",type:"number",title:0!=n.pontuacao||"Habilite a pontua\xe7\xe3o para preencher"})})})},t)))]}),(0,a.jsxs)(z.Z,{className:"dialog-actions-dense",children:[(0,a.jsx)(f.Z,{variant:"outlined",color:"primary",onClick:r,children:"Cancelar"}),(0,a.jsx)(f.Z,{variant:"contained",color:"primary",onClick:l(u),children:"Confirmar"})]})]})})})},L=()=>{var e;let{user:t,loggedUnity:o}=(0,s.useContext)(S.V),[n,B]=(0,s.useState)(),[O,F]=(0,s.useState)([]),[z,R]=(0,s.useState)(),[E,W]=(0,s.useState)(),[V,L]=(0,s.useState)(!1),[N,_]=(0,s.useState)(),$=i(),H=(0,P.g_)($.pathname),{setTitle:T}=(0,s.useContext)(D.f),{setValue:U,register:G,handleSubmit:X,formState:{errors:Y}}=(0,c.cI)(),J=async e=>{let t={header:e.headers,blocks:e.blocks,orientacoes:e.orientacoes};try{console.log("onSubmit: ",t),await y.h.put("".concat(H,"/fornecedor/").concat(o.unidadeID),t).then(e=>{A.ZP.success(P.OD.successUpdate)})}catch(a){console.log(a)}},K=e=>{let t=[...z];t[e].itens.push({ordem:t[e].itens.length+1,obs:1,status:1,obrigatorio:1}),R(t)},Q=(e,t,o)=>{e.removed=!0,U("blocks.[".concat(t,"].itens.[").concat(o,"].removed"),!0),document.getElementById("item-".concat(t,"-").concat(o)).style.display="none",A.ZP.success("Item pr\xe9 removido, salve para concluir!"),console.log("\uD83D\uDE80 item:",e)},ee=e=>{_(null),y.h.post("/formularios/fornecedor/getItemScore",{data:e}).then(e=>{_(e.data)}),_&&L(!0)},et=()=>{let e=[...z];e.push({dados:{ordem:e.length+1,nome:"",status:1},atividades:[...z[0].atividades.map(e=>({...e,checked:0}))],categorias:[...z[0].categorias.map(e=>({...e,checked:0}))],itens:[{ordem:1,obs:1,status:1,obrigatorio:1}]}),R(e)},eo=()=>{y.h.get("".concat(H,"/fornecedor/").concat(o.unidadeID),{headers:{"function-name":"getBlocks"}}).then(e=>{console.log("getBlocks: ",e.data),R(e.data)})},ea=()=>{y.h.get("".concat(H,"/fornecedor/").concat(o.unidadeID),{headers:{"function-name":"getHeader"}}).then(e=>{console.log("getHeader: ",e.data),B(e.data)})},en=()=>{y.h.get("".concat(H,"/fornecedor/").concat(o.unidadeID),{headers:{"function-name":"getOptionsItens"}}).then(e=>{console.log("getOptionsItens: ",e.data),F(e.data)})};return(0,s.useEffect)(()=>{T("Formul\xe1rio do Fornecedor"),ea(),en(),eo()},[]),console.log("blocks: ",z),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{onSubmit:X(J),children:[n&&(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(C.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>X(J)}),(0,a.jsx)(l.Z,{children:(0,a.jsx)(d.Z,{component:"nav","aria-label":"main mailbox",children:(0,a.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(u.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(m.ZP,{item:!0,md:4,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})})]})}),n.map((e,t)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"headers.[".concat(t,"].parFornecedorID"),defaultValue:e.parFornecedorID,...G("headers.[".concat(t,"].parFornecedorID"))}),(0,a.jsx)(m.ZP,{item:!0,md:4,children:e.nomeCampo}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(p.Z,{name:"headers.[".concat(t,"].mostra"),...G("headers.[".concat(t,"].mostra")),defaultChecked:1==n[t].mostra})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(p.Z,{name:"headers.[".concat(t,"].obrigatorio"),...G("headers.[".concat(t,"].obrigatorio")),defaultChecked:1==n[t].obrigatorio})})]})},t)}))]})})})]}),!z&&(0,a.jsx)(w.Z,{}),z&&z.map((e,t)=>(0,a.jsx)(r.Z,{md:12,sx:{mt:4},children:(0,a.jsxs)(l.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].parFornecedorBlocoID"),defaultValue:e.dados.parFornecedorBlocoID,...G("blocks.[".concat(t,"].parFornecedorBlocoID"))}),(0,a.jsxs)(m.ZP,{container:!0,spacing:4,children:[(0,a.jsx)(m.ZP,{item:!0,xs:12,md:2,children:(0,a.jsx)(j.Z,{label:"Sequ\xeancia",placeholder:"Sequ\xeancia",name:"blocks.[".concat(t,"].sequencia"),defaultValue:e.dados.ordem,...G("blocks.[".concat(t,"].sequencia"))})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Z,{fullWidth:!0,children:(0,a.jsx)(j.Z,{label:"Nome do Bloco",placeholder:"Nome do Bloco",name:"blocks.[".concat(t,"].nome"),defaultValue:e.dados.nome,...G("blocks.[".concat(t,"].nome"))})})}),(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:2,children:[(0,a.jsx)(h.Z,{variant:"body2",children:"Ativo"}),(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"].status"),...G("blocks.[".concat(t,"].status")),defaultChecked:1==z[t].dados.status})]}),(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:2,children:[(0,a.jsx)(h.Z,{variant:"body2",children:"Observa\xe7\xe3o"}),(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"].obs"),...G("blocks.[".concat(t,"].obs")),defaultChecked:1==z[t].dados.obs})]})]}),(0,a.jsx)(m.ZP,{container:!0,spacing:4,sx:{mt:2},children:(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(Z.Z,{severity:"info",children:"Esse bloco ser\xe1 habilitado para o Fornecedor se satisfazer as condi\xe7\xf5es abaixo:"})})}),(0,a.jsxs)(m.ZP,{container:!0,spacing:4,children:[(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:3,children:[(0,a.jsx)(u.ZP,{disablePadding:!0,children:(0,a.jsx)(x.Z,{children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostrar esse bloco quando \xe9:"})})}),e.categorias&&e.categorias.map((e,o)=>(0,a.jsx)(u.ZP,{disablePadding:!0,children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].categorias[").concat(o,"].categoriaID"),defaultValue:e.categoriaID,...G("blocks.[".concat(t,"].categorias[").concat(o,"].categoriaID"))}),(0,a.jsx)(v.Z,{control:(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"].categorias[").concat(o,"].checked"),...G("blocks.[".concat(t,"].categorias[").concat(o,"].checked")),defaultChecked:1==e.checked}),label:e.nome})]})},o))]}),(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:4,children:[(0,a.jsx)(u.ZP,{disablePadding:!0,children:(0,a.jsx)(x.Z,{children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostrar esse bloco se atividade for:"})})}),e.atividades&&e.atividades.map((e,o)=>(0,a.jsx)(u.ZP,{disablePadding:!0,children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].atividades[").concat(o,"].atividadeID"),defaultValue:e.atividadeID,...G("blocks.[".concat(t,"].atividades[").concat(o,"].atividadeID"))}),(0,a.jsx)(v.Z,{control:(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"].atividades[").concat(o,"].checked"),...G("blocks.[".concat(t,"].atividades[").concat(o,"].checked")),defaultChecked:1==e.checked}),label:e.nome})]})},o))]})]}),e.itens&&e.itens.map((e,o)=>(0,a.jsxs)(m.ZP,{id:"item-".concat(t,"-").concat(o),container:!0,spacing:4,sx:{mt:4},children:[(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].itens.[").concat(o,"].parFornecedorBlocoItemID"),defaultValue:e.parFornecedorBlocoItemID,...G("blocks.[".concat(t,"].itens.[").concat(o,"].parFornecedorBlocoItemID"))}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:1,sx:{textAlign:"right"},children:(0,a.jsx)(b.Z,{children:(0,a.jsx)(j.Z,{label:"Sequ\xeancia",placeholder:"Sequ\xeancia",name:"blocks.[".concat(t,"].itens.[").concat(o,"].sequencia"),defaultValue:e.ordem,...G("blocks.[".concat(t,"].itens.[").concat(o,"].sequencia"))})})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:4,children:(0,a.jsx)(b.Z,{fullWidth:!0,children:""!==z[t].itens[o].nome&&(0,a.jsx)(g.Z,{options:O.itens,defaultValue:z[t].itens[o],id:"autocomplete-outlined",getOptionLabel:e=>e.nome||"",disabled:1==e.hasPending,onChange(e,a){U("blocks.[".concat(t,"].itens.[").concat(o,"].itemID"),null==a?void 0:a.itemID)},renderInput:n=>(0,a.jsx)(j.Z,{...n,name:"blocks.[".concat(t,"].itens.[").concat(o,"].nome"),label:e.itemID?"Item [".concat(e.itemID,"]"):"Item",placeholder:e.itemID?"Item [".concat(e.itemID,"]"):"Item",...G("blocks.[".concat(t,"].itens.[").concat(o,"].nome"))})})})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:2,children:(0,a.jsx)(b.Z,{fullWidth:!0,children:(0,a.jsx)(g.Z,{options:O.alternativas,defaultValue:z[t].itens[o],id:"autocomplete-outlined",getOptionLabel:e=>e.alternativa||"",disabled:1==e.hasPending,onChange(e,a){U("blocks.[".concat(t,"].itens.[").concat(o,"].alternativaID"),null==a?void 0:a.alternativaID)},renderInput:e=>(0,a.jsx)(j.Z,{...e,name:"blocks.[".concat(t,"].itens.[").concat(o,"].alternativa"),label:"Alternativa",placeholder:"Alternativa",...G("blocks.[".concat(t,"].itens.[").concat(o,"].alternativa"))})})})}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Ativo":""}),(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"][").concat(o,"].status"),...G("blocks.[".concat(t,"].itens.[").concat(o,"].status")),defaultChecked:1==e.status})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Obs":""}),(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"][").concat(o,"].obs"),disabled:0==e.status,...G("blocks.[".concat(t,"].itens.[").concat(o,"].obs")),defaultChecked:1==e.obs})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Obrigat\xf3rio":""}),(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"][").concat(o,"].obrigatorio"),...G("blocks.[".concat(t,"].itens.[").concat(o,"].obrigatorio")),defaultChecked:1==e.obrigatorio})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Pontua\xe7\xe3o":""}),(0,a.jsx)(f.Z,{style:0===e.pontuacao?{opacity:.3}:{},title:e.parFornecedorBlocoID?"Definir pontua\xe7\xe3o para as respostas":"Salve o bloco para definir a pontua\xe7\xe3o",disabled:!e.parFornecedorBlocoID,onClick:()=>ee(e),children:(0,a.jsx)(M.Z,{icon:"ic:baseline-assessment"})})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Remover":""}),(0,a.jsx)(k.Z,{title:1==e.hasPending?"Este item n\xe3o pode mais ser removido pois j\xe1 foi respondido em um formul\xe1rio":"Remover este item",children:(0,a.jsx)(I.Z,{color:"error",onClick(){1==e.hasPending||Q(e,t,o)},sx:{opacity:1==e.hasPending?.5:1,cursor:1==e.hasPending?"default":"pointer"},children:(0,a.jsx)(M.Z,{icon:"tabler:trash-filled"})})})]})]},o)),V&&N&&(0,a.jsx)(q,{openModal:V,setOpenModalConfirmScore:L,itemScore:N,setItemScore:_,getBlocks:eo}),(0,a.jsx)(m.ZP,{container:!0,spacing:4,sx:{mt:4},children:(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(f.Z,{variant:"outlined",color:"primary",startIcon:(0,a.jsx)(M.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){K(t)},children:"Inserir Item"})})})]})},t)),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,sx:{mt:4},children:(0,a.jsx)(f.Z,{variant:"outlined",color:"primary",startIcon:(0,a.jsx)(M.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){et()},children:"Inserir Bloco"})}),(0,a.jsx)(r.Z,{md:12,sx:{mt:4},children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(m.ZP,{container:!0,spacing:4,children:(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(j.Z,{label:"Orienta\xe7\xf5es",placeholder:"Orienta\xe7\xf5es",rows:4,multiline:!0,fullWidth:!0,name:"orientacoes",defaultValue:null!==(e=null==E?void 0:E.obs)&&void 0!==e?e:"",...G("orientacoes")})})})})})]})})},N=()=>{let{user:e,loggedUnity:t}=(0,s.useContext)(S.V),[o,n]=(0,s.useState)(),[Z,v]=(0,s.useState)(),[k,I]=(0,s.useState)([]),[w,B]=(0,s.useState)(),[O,F]=(0,s.useState)(),z=i(),R=(0,P.g_)(z.pathname),{setTitle:E}=(0,s.useContext)(D.f),{setValue:W,register:V,handleSubmit:q,formState:{errors:L}}=(0,c.cI)(),N=async e=>{let o={header:e.headers,products:e.products,blocks:e.blocks};console.log("onSubmit: ",o);try{await y.h.put("".concat(R,"/recebimentoMp/").concat(t.unidadeID),o).then(e=>{A.ZP.success(P.OD.successUpdate)})}catch(a){console.log(a)}},_=e=>{let t=[...w];t[e].itens.push({ordem:t[e].itens.length+1,obs:1,status:1,obrigatorio:1}),B(t)},$=()=>{let e=[...w];e.push({dados:{ordem:e.length+1,nome:"",status:1},itens:[{ordem:1,obs:1,status:1,obrigatorio:1}]}),B(e)};return(0,s.useEffect)(()=>{E("Formul\xe1rio do Recebimento de MP"),console.log("=> ",R),y.h.get("".concat(R,"/recebimentoMp/").concat(t.unidadeID),{headers:{"function-name":"getHeader"}}).then(e=>{console.log("getHeader: ",e.data),n(e.data)}),y.h.get("".concat(R,"/recebimentoMp/").concat(t.unidadeID),{headers:{"function-name":"getProducts"}}).then(e=>{console.log("getProducts: ",e.data),v(e.data)}),y.h.get("".concat(R,"/recebimentoMp/").concat(t.unidadeID),{headers:{"function-name":"getBlocks"}}).then(e=>{console.log("getBlocks: ",e.data),B(e.data)}),y.h.get("".concat(R,"/recebimentoMp/").concat(t.unidadeID),{headers:{"function-name":"getOptionsItens"}}).then(e=>{console.log("getOptionsItens: ",e.data),I(e.data)})},[]),console.log("errors: ",L),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{onSubmit:q(N),children:[o&&(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(C.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>q(N)}),(0,a.jsx)(l.Z,{children:(0,a.jsx)(d.Z,{component:"nav","aria-label":"main mailbox",children:(0,a.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(u.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(m.ZP,{item:!0,md:4,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})})]})}),o.map((e,t)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"headers.[".concat(t,"].parRecebimentompID"),defaultValue:e.parRecebimentompID,...V("headers.[".concat(t,"].parRecebimentompID"))}),(0,a.jsx)(m.ZP,{item:!0,md:4,children:e.nomeCampo}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(p.Z,{name:"headers.[".concat(t,"].mostra"),...V("headers.[".concat(t,"].mostra")),defaultChecked:1==o[t].mostra})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(p.Z,{name:"headers.[".concat(t,"].obrigatorio"),...V("headers.[".concat(t,"].obrigatorio")),defaultChecked:1==o[t].obrigatorio})})]})},t)}))]})})})]}),Z&&(0,a.jsx)(r.Z,{sx:{mt:4},children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(d.Z,{component:"nav","aria-label":"main mailbox",children:(0,a.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(u.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(m.ZP,{item:!0,md:4,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})})]})}),Z.map((e,t)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.ZP,{divider:!0,disablePadding:!0,children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)("input",{type:"hidden",name:"products.[".concat(t,"].parRecebimentoMpProdutoID"),defaultValue:e.parRecebimentoMpProdutoID,...V("products.[".concat(t,"].parRecebimentoMpProdutoID"))}),(0,a.jsx)(m.ZP,{item:!0,md:4,children:e.nomeCampo}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(p.Z,{name:"products.[".concat(t,"].mostra"),...V("products.[".concat(t,"].mostra")),defaultChecked:1==Z[t].mostra})}),(0,a.jsx)(m.ZP,{item:!0,md:3,children:(0,a.jsx)(p.Z,{name:"products.[".concat(t,"].obrigatorio"),...V("products.[".concat(t,"].obrigatorio")),defaultChecked:1==Z[t].obrigatorio})})]})},t)}))]})})})}),w&&w.map((e,t)=>{var o,n,i,s;return(0,a.jsx)(r.Z,{md:12,sx:{mt:4},children:(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(h.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:4},children:"Bloco ".concat(t+1)}),(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].parRecebimentompBlocoID"),defaultValue:e.dados.parRecebimentompBlocoID,...V("blocks.[".concat(t,"].parRecebimentompBlocoID"))}),(0,a.jsxs)(m.ZP,{container:!0,spacing:4,children:[(0,a.jsx)(m.ZP,{item:!0,xs:12,md:2,children:(0,a.jsx)(j.Z,{label:"Sequ\xeancia",placeholder:"Sequ\xeancia",name:"blocks.[".concat(t,"].sequencia"),defaultValue:e.dados.ordem,...V("blocks.[".concat(t,"].sequencia"),{required:!0}),error:null!=L&&null!==(o=L.blocks)&&void 0!==o&&null!==(n=o[t])&&void 0!==n&&!!n.sequencia})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Z,{fullWidth:!0,children:(0,a.jsx)(j.Z,{label:"Nome do Bloco",placeholder:"Nome do Bloco",name:"blocks.[".concat(t,"].nome"),defaultValue:e.dados.nome,...V("blocks.[".concat(t,"].nome"),{required:!0}),error:null!=L&&null!==(i=L.blocks)&&void 0!==i&&null!==(s=i[t])&&void 0!==s&&!!s.nome})})}),(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:2,children:[(0,a.jsx)(h.Z,{variant:"body2",children:"Ativo"}),(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"].status"),...V("blocks.[".concat(t,"].status")),defaultChecked:1==w[t].dados.status})]}),(0,a.jsxs)(m.ZP,{item:!0,xs:12,md:2,children:[(0,a.jsx)(h.Z,{variant:"body2",children:"Observa\xe7\xe3o"}),(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"].obs"),...V("blocks.[".concat(t,"].obs")),defaultChecked:1==w[t].dados.obs})]})]}),(0,a.jsxs)(m.ZP,{container:!0,spacing:4,sx:{mt:4},children:[e.itens&&e.itens.map((e,o)=>{var n,i,s,c;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"hidden",name:"blocks.[".concat(t,"].itens.[").concat(o,"].parRecebimentompBlocoItemID"),defaultValue:e.parRecebimentompBlocoItemID,...V("blocks.[".concat(t,"].itens.[").concat(o,"].parRecebimentompBlocoItemID"))}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:1,children:(0,a.jsx)(b.Z,{fullWidth:!0,children:(0,a.jsx)(j.Z,{label:"Sequ\xeancia",placeholder:"Sequ\xeancia",name:"blocks.[".concat(t,"].itens.[").concat(o,"].sequencia"),defaultValue:e.ordem,...V("blocks.[".concat(t,"].itens.[").concat(o,"].sequencia"),{required:!0}),error:null!=L&&null!==(n=L.blocks)&&void 0!==n&&null!==(i=n[t])&&void 0!==i&&null!==(s=i.itens)&&void 0!==s&&null!==(c=s[o])&&void 0!==c&&!!c.sequencia})})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(b.Z,{fullWidth:!0,children:""!==w[t].itens[o].nome&&(0,a.jsx)(g.Z,{options:k.itens,defaultValue:w[t].itens[o].item,getOptionLabel:e=>e.nome||"",name:"blocks.[".concat(t,"].itens.[").concat(o,"].item"),...V("blocks.[".concat(t,"].itens.[").concat(o,"].item")),onChange(e,a){console.log("===> ",a),W("blocks.[".concat(t,"].itens.[").concat(o,"].item"),a||"")},renderInput:e=>(0,a.jsx)(j.Z,{...e,label:"Item",placeholder:"Item"})})})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:2,children:(0,a.jsx)(b.Z,{fullWidth:!0,children:(0,a.jsx)(g.Z,{options:k.alternativas,defaultValue:w[t].itens[o],id:"autocomplete-outlined",getOptionLabel:e=>e.alternativa||"",onChange(e,a){W("blocks.[".concat(t,"].itens.[").concat(o,"].alternativaID"),null==a?void 0:a.alternativaID)},renderInput:e=>(0,a.jsx)(j.Z,{...e,name:"blocks.[".concat(t,"].itens.[").concat(o,"].alternativa"),label:"Alternativa",placeholder:"Alternativa",...V("blocks.[".concat(t,"].itens.[").concat(o,"].alternativa"))})})})}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Ativo":""}),(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"][").concat(o,"].status"),...V("blocks.[".concat(t,"].itens.[").concat(o,"].status")),defaultChecked:1==e.status})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Obs":""}),(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"][").concat(o,"].obs"),disabled:0==e.status,...V("blocks.[".concat(t,"].itens.[").concat(o,"].obs")),defaultChecked:1==e.obs})]}),(0,a.jsxs)(m.ZP,{item:!0,md:1,children:[(0,a.jsx)(h.Z,{variant:"body2",children:0==o?"Obrigat\xf3rio":""}),(0,a.jsx)(p.Z,{name:"blocks.[".concat(t,"][").concat(o,"].obrigatorio"),...V("blocks.[".concat(t,"].itens.[").concat(o,"].obrigatorio")),defaultChecked:1==e.obrigatorio})]})]})}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(f.Z,{variant:"outlined",color:"primary",startIcon:(0,a.jsx)(M.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){_(t)},children:"Inserir Item"})})]})]})},t)}),(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,sx:{mt:4},children:(0,a.jsx)(f.Z,{variant:"outlined",color:"primary",startIcon:(0,a.jsx)(M.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){$()},children:"Inserir Bloco"})}),(0,a.jsx)(r.Z,{md:12,sx:{mt:4},children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(m.ZP,{container:!0,spacing:4,children:(0,a.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(j.Z,{label:"Orienta\xe7\xf5es",placeholder:"Orienta\xe7\xf5es",rows:4,multiline:!0,fullWidth:!0,name:"orientacoes",defaultValue:null!=O?O:"",...V("orientacoes")})})})})})]})})},_=()=>{let e=i().query.id;return(0,a.jsxs)(a.Fragment,{children:[1==e&&(0,a.jsx)(L,{}),2==e&&(0,a.jsx)(N,{}),!e&&(0,a.jsx)("div",{children:"Formul\xe1rio n\xe3o encontrado"})]})};var $=_}},function(e){e.O(0,[7536,2064,9774,2888,179],function(){return e(e.s=64876)}),_N_E=e.O()}]);