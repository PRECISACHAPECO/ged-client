(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7463],{59424:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/fornecedor",function(){return t(18442)}])},45061:function(e,r,t){"use strict";var a=t(85893),o=t(75084),n=t(29620),s=t(77745),i=t(95398),l=t(76779),d=t(44642);t(21609);var u=t(19604),c=t(29630),m=t(55343),p=t(67836),x=t(67294),f=t(82747);let h=e=>{let{title:r,text:t,handleClose:h,openModal:g,handleSubmit:j,cnpj:b,inputEmail:v,btnCancel:S,btnConfirm:I,btnCancelColor:F,btnConfirmColor:C,closeAfterSave:D,listErrors:Z}=e,[w,y]=(0,x.useState)(null),[T,P]=(0,x.useState)(!1);return console.log("dialog email: ",w),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(n.Z,{open:g,"aria-labelledby":"form-dialog-title",disableEscapeKeyDown:!0,onClose(e,r){"backdropClick"!==r&&h()},children:[(0,a.jsx)(s.Z,{id:"form-dialog-title",children:r}),(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)(d.Z,{sx:{mb:3},children:[t,Z&&Z.status&&(0,a.jsxs)(u.Z,{variant:"outlined",severity:"error",sx:{mt:2},children:["Por favor, verifique os campos abaixo:",(0,a.jsx)(c.Z,{variant:"subtitle1",color:"error",sx:{mt:2},children:Z.errors.map((e,r)=>(0,a.jsxs)(c.Z,{variant:"body2",color:"error",children:["- ",e]},r))})]})]}),v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(m.Z,{sx:{mt:2},fullWidth:!0,children:[(0,a.jsx)(p.Z,{defaultValue:"",type:"email",label:"E-mail do Fornecedor (opcional)",placeholder:"E-mail do Fornecedor (opcional)","aria-describedby":"validation-schema-nome",name:"email",error:(null==w?void 0:w.length)>0&&T,inputProps:{onChange(e){y(e.target.value),P(!(0,f.dI)(e.target.value))}}}),(null==w?void 0:w.length)>0&&T&&(0,a.jsx)(c.Z,{variant:"body2",color:"error",children:"Por favor, insira um e-mail v\xe1lido!"})]}),(0,a.jsx)(u.Z,{severity:"info",sx:{mt:2},children:"Se o e-mail for preenchido, o mesmo receber\xe1 as instru\xe7\xf5es de cadastro e preenchimento do formul\xe1rio no e-mail."})]})]}),(0,a.jsxs)(l.Z,{className:"dialog-actions-dense",children:[S&&(0,a.jsx)(o.Z,{variant:"outlined",color:"primary",onClick:h,children:"Cancelar"}),I&&(0,a.jsx)(o.Z,{variant:"contained",disabled:v&&(null==w?void 0:w.length)>0&&T,color:C||"error",onClick:v&&b?()=>{j(b,w),y(null),D&&h()}:v&&!b?()=>{j(w),y(null),D&&h()}:()=>{j(),D&&h()},children:"Confirmar"})]})]})})};r.Z=h},47842:function(e,r,t){"use strict";var a=t(85893),o=t(70754),n=t(61953);let s=()=>(0,a.jsx)(n.Z,{sx:{position:"absolute",top:"50%",left:"50%"},children:(0,a.jsx)(o.Z,{})});r.Z=s},49540:function(e,r,t){"use strict";t.d(r,{X1:function(){return d},p6:function(){return i},q:function(){return l}});var a=t(30381),o=t.n(a),n=t(68214),s=t.n(n);function i(e,r){let t=o()(e),a=t.format(r);return a}function l(e){let r=s()(e).toString();return r}function d(e){return e.replace(/[^0-9]/g,"")}},46749:function(e,r,t){"use strict";t.d(r,{HD:function(){return f},Lo:function(){return m},OD:function(){return c},OE:function(){return x},OL:function(){return u},WR:function(){return d},g_:function(){return p}});var a=t(85893),o=t(29630);t(49540);var n=t(41664),s=t.n(n),i=t(7071);t(67294),t(40039);var l=t(60664);t(50196);let d={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"},10:{title:"Pendente",color:"warning"},20:{title:"Acessou link",color:"info"},30:{title:"Em preenchimento",color:"warning"},40:{title:"Conclu\xeddo",color:"primary"},50:{title:"Reprovado",color:"error"},60:{title:"Aprovado Parcial",color:"warning"},70:{title:"Aprovado",color:"success"}},u=(e,r)=>r.map((t,n)=>{let l=r[n].field;return{...t,flex:t.size,renderCell:t=>(0,a.jsx)(s(),{href:"".concat(e,"/").concat(t.row.id),children:(0,a.jsx)(o.Z,{variant:"body2",sx:{color:"text.primary"},children:r&&r.map((e,r)=>{if(e.field===l){if("status"!=e.field)return t.row[e.field];{let o=d[t.row.status];return(0,a.jsx)(i.Z,{size:"small",skin:"light",color:o.color,label:o.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},r)}}})})})}}),c={successNew:"Dados salvos com sucesso!",successUpdate:"Dados atualizados com sucesso!",errorNew:"Erro ao salvar os dados!",errorRepeated:"Dados j\xe1 existentes!",errorUpdate:"Erro ao atualizar os dados!",errorDelete:"Erro ao excluir os dados!",successDelete:"Dados exclu\xeddos com sucesso!",pendingDelete:"Dado n\xe3o pode ser excluido, pois j\xe1 est\xe1 sendo utilizado!",errorGet:"Erro ao obter os dados!",successGet:"Dados obtidos com sucesso!"},m=e=>{let r=e.split("/"),t=r[r.length-1];return"novo"==t?"new":"edit"},p=e=>{let r=e.split("/");return r.pop(),r.join("/")},x=e=>{let r=e.route;l.h.post(r,e.params,{responseType:"arraybuffer"}).then(e=>{let r=new Blob([e.data],{type:"application/pdf"}),t=URL.createObjectURL(r);window.open(t,"_blank")}).catch(e=>{console.error("Erro ao gerar relat\xf3rio",e)})};function f(e,r){let t=new Date;t.setUTCHours(0,0,0,0);let a=new Date(r);switch(e){case"atual":if((a=new Date(r)).setUTCHours(0,0,0,0),a.toISOString().substr(0,10)===t.toISOString().substr(0,10))return{status:!0,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10)};return{status:!1,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10),message:"A data deve ser a data atual"};case"hoje_menor":if((a=new Date(r)).setUTCHours(0,0,0,0),a.getTime()<=t.getTime())return{status:!0,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10)};return{status:!1,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10),message:"A data deve ser inferior ou igual a atual"};case"hoje_maior":if((a=new Date(r)).setUTCHours(0,0,0,0),a.getTime()>=t.getTime())return{status:!0,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10)};return{status:!1,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10),message:"A data deve ser superior ou igual a atual"};case"hoje_menor_ate_1":(a=new Date(r)).setUTCHours(0,0,0,0);let o=new Date;if(o.setUTCHours(0,0,0,0),o.setFullYear(t.getFullYear()+1),a.getTime()<=t.getTime()&&a.getTime()<=o.getTime())return{status:!0,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10)};return{status:!1,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10),message:"A data deve ser igual ou supeior at\xe9 1 ano a partir da data atual"};case"hoje_menor_ate_10":(a=new Date(r)).setUTCHours(0,0,0,0);let n=new Date;if(n.setUTCHours(0,0,0,0),n.setFullYear(t.getFullYear()+10),a.getTime()<=t.getTime()&&a.getTime()<=n.getTime())return{status:!0,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10)};return{status:!1,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10),message:"A data deve ser igual ou supeior at\xe9 10 anos a partir da data atual"};case"hoje_menor_ate_100":(a=new Date(r)).setUTCHours(0,0,0,0);let s=new Date;if(s.setUTCHours(0,0,0,0),s.setFullYear(t.getFullYear()+100),a.getTime()<=t.getTime()&&a.getTime()<=s.getTime())return{status:!0,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10)};return{status:!1,dataIni:t.toISOString().substr(0,10),dataFim:t.toISOString().substr(0,10),message:"A data deve ser igual ou supeior at\xe9 100 anos a partir da data atual"};default:return"A data digitada \xe9 inv\xe1lida."}}},34175:function(e,r,t){"use strict";function a(e){return e&&(e=(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2")),e}function o(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2")),e}function n(e){return e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d)(\d{4})$/,"$1-$2")).replace(/\)-/,")")}function s(e){return e=(e=e.replace(/\D/g,"")).replace(/^(\d{5})(\d)/,"$1-$2")}function i(e){return e=(e=e.toUpperCase()).replace(/[^A-Z]/g,"")}t.d(r,{Bk:function(){return n},CL:function(){return i},PK:function(){return a},Tc:function(){return s},VL:function(){return o}})},82747:function(e,r,t){"use strict";function a(e){if(14!==(e=null==e?void 0:e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let r=e.length-2,t=e.substring(0,r),a=e.substring(r),o=0,n=r-7;for(let s=r;s>=1;s--)o+=t.charAt(r-s)*n--,n<2&&(n=9);let i=o%11<2?0:11-o%11;if(i!=a.charAt(0))return!1;r+=1,t=e.substring(0,r),o=0,n=r-7;for(let l=r;l>=1;l--)o+=t.charAt(r-l)*n--,n<2&&(n=9);return(i=o%11<2?0:11-o%11)==a.charAt(1)}function o(e){let r;if(11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let t=0;for(let a=1;a<=9;a++)t+=parseInt(e.substring(a-1,a))*(11-a);if((10==(r=10*t%11)||11===r)&&(r=0),r!==parseInt(e.substring(9,10)))return!1;t=0;for(let o=1;o<=10;o++)t+=parseInt(e.substring(o-1,o))*(12-o);return(10==(r=10*t%11)||11===r)&&(r=0),r===parseInt(e.substring(10,11))}function n(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}t.d(r,{dI:function(){return n},sw:function(){return o},zk:function(){return a}})},18442:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return z}});var a=t(85893),o=t(67294),n=t(60664),s=t(40372),i=t(91359),l=t(60565),d=t(40039),u=t(29620),c=t(77745),m=t(95398),p=t(44642),x=t(79072),f=t(55343),h=t(67836),g=t(29630),j=t(19604),b=t(75084),v=t(76779),S=t(11163),I=t(21609),F=t(49540),C=t(34175),D=t(82747),Z=t(87536),w=t(86501),y=t(45061);let T=e=>{var r;let{handleClose:t,openModal:s,makeFornecedor:i,loadingSave:T}=e;(0,S.useRouter)();let[P,N]=(0,o.useState)(!1),{user:E,loggedUnity:O}=(0,o.useContext)(d.V),{handleSearch:z}=(0,o.useContext)(l.f),[A,k]=(0,o.useState)(null),[$,_]=(0,o.useState)(null),[H,U]=(0,o.useState)(!1),[J,L]=(0,o.useState)(null),[M,R]=(0,o.useState)(!1),[q,V]=(0,o.useState)(!1),[B,Y]=(0,o.useState)(!1),[W,G]=(0,o.useState)(!1);console.log("unidade logada: "+O.nomeFantasia);let{handleSubmit:K,formState:{errors:X},setValue:Q,register:ee}=(0,Z.cI)({});console.log("\uD83D\uDE80 ~ errors:",X),console.log("\uD83D\uDE80 ~ email:",J);let er=()=>{G(!0),setTimeout(()=>{G(!1)},5e3);let e=(0,F.q)((0,F.X1)($)),r=(0,F.q)(O.unidadeID),t=window.location.origin,a="".concat(t,"/fornecedor?c=").concat(e,"&u=").concat(r);navigator.clipboard.writeText(a)},et=async e=>{console.log("getFornecedorByCnpj: ",e),e&&18===e.length&&((0,D.zk)(e)?(N(!0),R(!1),await n.h.post("/formularios/fornecedor/cnpj",{unidadeID:O.unidadeID,cnpj:e}).then(r=>{console.log("\uD83D\uDE80 ~ getFornecedorByCnpj response:",r.data),k(r.data),_(e),N(!1)})):(_(null),R(!0)))},ea=async()=>{console.log("filtra no contexto..."),z($),t()},eo=async()=>{N(!0),await n.h.post("/formularios/fornecedor/fornecedorStatus",{unidadeID:O.unidadeID,cnpj:$,status:1}).then(e=>{200===e.status?(k(e.data),w.Am.success("Fornecedor reativado com sucesso")):w.Am.error("Erro ao reativar fornecedor"),N(!1)})},en=()=>{Y(!0)},es=e=>{console.log("\uD83D\uDE80 ~ onSubmit ~ values:",e)};return(0,o.useEffect)(()=>{console.log("ON USEeFFECT: ",T),et($),k(null),K(es),_(null),L(null)},[s,T]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.Z,{open:s,onClose:t,"aria-labelledby":"form-dialog-title",children:[(0,a.jsx)(c.Z,{id:"form-dialog-title",children:"Habilitar novo fornecedor"}),(0,a.jsxs)(m.Z,{children:[(0,a.jsxs)(p.Z,{sx:{mb:3},children:["Insira o CNPJ da empresa que deseja habilitar como um novo fornecedor. Com isso, a empresa ficar\xe1 apta a preencher formul\xe1rios para a ",O.nomeFantasia,"."]}),(0,a.jsx)("form",{onSubmit:K(es),children:(0,a.jsxs)(x.ZP,{container:!0,children:[(0,a.jsx)(x.ZP,{item:!0,xs:12,md:12,children:(0,a.jsxs)(f.Z,{fullWidth:!0,children:[(0,a.jsx)(h.Z,{defaultValue:(null==A?void 0:A.cnpj)?A.cnpj:"",label:"CNPJ",placeholder:"CNPJ","aria-describedby":"validation-schema-nome",name:"cnpj",error:M,...ee("cnpj",{required:!0,validate:e=>(0,D.zk)(e)||"CNPJ inv\xe1lido"}),helperText:null===(r=X.cnpj)||void 0===r?void 0:r.message,inputProps:{maxLength:18,onChange(e){k(null),Q("cnpj",(0,C.PK)(e.target.value)),_((0,C.PK)(e.target.value)),et(e.target.value),U(!1)}}}),M&&(0,a.jsx)(g.Z,{variant:"body2",color:"error",children:"Por favor, insira um CNPJ v\xe1lido!"})]})}),A&&A.isFornecedor&&!A.hasFormulario&&H&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.ZP,{item:!0,xs:12,md:12,sx:{mt:4},children:(0,a.jsx)(f.Z,{fullWidth:!0,children:(0,a.jsx)(h.Z,{defaultValue:"",type:"email",label:"E-mail",placeholder:"E-mail","aria-describedby":"validation-schema-nome",name:"email",...ee("email",{required:!0,validate:e=>e.includes("@")||"E-mail inv\xe1lido"}),error:q,helperText:q?"Insira um e-mail v\xe1lido":null,inputProps:{onChange(e){Q("email",e.target.value),L(e.target.value),V(!(0,D.dI)(e.target.value))}}})})}),(0,a.jsx)(x.ZP,{item:!0,xs:12,md:12,sx:{mt:2},children:(0,a.jsx)(j.Z,{severity:"info",children:"Um e-mail ser\xe1 enviado para o fornecedor com as instru\xe7\xf5es de cadastro e preenchimento do formul\xe1rio"})})]})]})}),A&&(0,a.jsx)(x.ZP,{container:!0,sx:{mt:2},children:(0,a.jsx)(x.ZP,{item:!0,xs:12,md:12,children:A.isFornecedor&&A.hasFormulario?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(j.Z,{severity:"success",children:["Esse CNPJ est\xe1 habilitado como um Fornecedor da ",O.nomeFantasia]}),(0,a.jsx)(b.Z,{startIcon:(0,a.jsx)(I.Z,{icon:W?"mdi:check-bold":"iconamoon:copy-bold"}),sx:{mt:2},onClick:W?null:er,style:{cursor:W?"default":"pointer"},children:W?"Copiado!":"Copiar Link do Formul\xe1rio"})]}):A.isFornecedor&&!A.hasFormulario?(0,a.jsx)(j.Z,{severity:"warning",children:"Esse CNPJ j\xe1 \xe9 seu fornecedor, mas n\xe3o h\xe1 nenhum formul\xe1rio criado"}):!A.isFornecedor&&A.hasFormulario?(0,a.jsx)(j.Z,{severity:"warning",children:"Esse CNPJ n\xe3o est\xe1 mais ativo como um fornecedor mas possui formul\xe1rios preenchidos"}):A.isFornecedor||A.hasFormulario?null:(0,a.jsx)(j.Z,{severity:"info",children:"Esse CNPJ ainda n\xe3o \xe9 seu fornecedor"})})})]}),(0,a.jsxs)(v.Z,{className:"dialog-actions-dense",sx:{mx:2,mb:2},children:[(0,a.jsx)(b.Z,{variant:"outlined",onClick:t,children:"Fechar"}),A&&(A.isFornecedor&&A.hasFormulario||!A.isFornecedor&&A.hasFormulario||!A.isFornecedor&&!A.hasFormulario)&&(0,a.jsx)(b.Z,{variant:"contained",onClick:A.isFornecedor&&A.hasFormulario?ea:!A.isFornecedor&&A.hasFormulario?eo:A.isFornecedor||A.hasFormulario?null:en,children:A.isFornecedor&&A.hasFormulario?"Filtrar formul\xe1rios":!A.isFornecedor&&A.hasFormulario?"Reativar fornecedor":A.isFornecedor||A.hasFormulario?null:"Tornar meu fornecedor"})]})]}),(0,a.jsx)(y.Z,{title:"Confirmar novo fornecedor",text:"Tem certeza que deseja tornar o CNPJ ".concat($," um fornecedor ativo na ").concat(O.nomeFantasia," ? Se sim, o mesmo poder\xe1 preencher formul\xe1rios de Fornecedor para a sua empresa."),handleClose:()=>Y(!1),openModal:B,handleSubmit:i,inputEmail:!0,cnpj:$,btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary"})]})};var P=t(47842),N=t(46749),E=t(49837);let O=()=>{let{user:e,loggedUnity:r}=(0,o.useContext)(d.V),[t,u]=(0,o.useState)(null),c=(0,S.useRouter)(),m=c.pathname,{setTitle:p}=(0,o.useContext)(l.f),[x,f]=(0,o.useState)(!1),[h,g]=(0,o.useState)(!1);console.log("result: ",t);let j=()=>{f(!0)},b=async(t,a)=>{try{g(!0),await n.h.post("".concat(m,"/makeFornecedor"),{usuarioID:e.usuarioID,unidadeID:r.unidadeID,papelID:e.papelID,cnpj:t}).then(e=>{200===e.status?(w.Am.success("Fornecedor habilitado com sucesso"),console.log("tornou um fornecedor....."),a&&v(a,t)):w.Am.error("Erro ao tornar fornecedor"),g(!1)})}catch(o){console.log(o)}},v=(e,t)=>{if(e&&(0,D.dI)(e)){let a={unidadeID:r.unidadeID,cnpj:t,destinatario:e};n.h.post("".concat(m,"/sendMail"),{data:a}).then(e=>{w.Am.success("E-mail enviado com sucesso")}).catch(e=>{console.error("Erro ao enviar email",e)})}},I=async()=>{console.log("getList> ",m),await n.h.post("".concat(m,"/getList"),{unidadeID:r.unidadeID,papelID:e.papelID,cnpj:e.cnpj?e.cnpj:null}).then(e=>{u(e.data),p("Fornecedor")})};(0,o.useEffect)(()=>{I()},[h]),console.log("dados do bakc",t);let F=1==e.papelID?[{headerName:"ID",field:"id",size:.1},{headerName:"Data da Avalia\xe7\xe3o",field:"dataAvaliacao",size:.2},{headerName:"Nome Fantasia",field:"fantasia",size:.4},{headerName:"CNPJ",field:"cnpj",size:.1},{headerName:"Cidade",field:"cidade",size:.2},{headerName:"Status",field:"status",size:.2}]:2==e.papelID?[{headerName:"ID",field:"id",size:.1},{headerName:"Data da Avalia\xe7\xe3o",field:"dataAvaliacao",size:.2},{headerName:"F\xe1brica",field:"fabrica",size:.4},{headerName:"CNPJ",field:"cnpjFabrica",size:.2},{headerName:"Cidade",field:"cidade",size:.2},{headerName:"Status",field:"status",size:.2}]:[],C=(0,N.OL)(m,F);return(0,a.jsxs)(a.Fragment,{children:[!t&&(0,a.jsx)(P.Z,{}),t&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(E.Z,{children:(0,a.jsx)(i.Z,{sx:{pt:"0"},children:(0,a.jsx)(s.Z,{rows:t,columns:C,buttonsHeader:{btnNew:1==e.papelID,btnPrint:!0,openModal:1==e.papelID?j:null}})})})}),(0,a.jsx)(T,{openModal:x,handleClose:()=>f(!1),makeFornecedor:b,loadingSave:h})]})};var z=O},40372:function(e,r,t){"use strict";t.d(r,{Z:function(){return F}});var a=t(85893),o=t(67294),n=t(11163),s=t.n(n),i=t(87630),l=t(75680),d=t(61953),u=t(67836),c=t(80562),m=t(50853),p=t(91359),x=t(75084),f=t(41664),h=t.n(f),g=t(40039),j=t(21609);let b=e=>{let{btnNew:r,btnPrint:t,openModal:n}=e,i=s(),{routes:l}=(0,o.useContext)(g.V);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p.Z,{sx:{display:"flex",justifyContent:"end",alignItems:"center",p:"0",m:"0"},children:(0,a.jsxs)(d.Z,{sx:{display:"flex",gap:"8px"},children:[t&&(0,a.jsx)(x.Z,{onClick:()=>window.print(),type:"button",variant:"outlined",color:"primary",size:"medium",startIcon:(0,a.jsx)(j.Z,{icon:"mdi:printer"}),children:"Imprimir"}),r&&l.find(e=>e.rota===i.pathname&&e.inserir)&&(0,a.jsx)(h(),{href:n?"":"".concat(i.pathname,"/novo"),children:(0,a.jsx)(x.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",startIcon:(0,a.jsx)(j.Z,{icon:"ic:outline-plus"}),onClick:n||null,children:"Novo"})})]})})})},v=e=>(0,a.jsxs)(d.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"baseline",justifyContent:"space-between",p:e=>e.spacing(8,0,0,0)},children:[(0,a.jsxs)(d.Z,{sx:{display:"flex",gap:"8px",textAlig:"end"},children:[(0,a.jsx)(u.Z,{size:"medium",value:e.value,onChange:e.onChange,placeholder:"Buscar…",variant:"standard",InputProps:{startAdornment:(0,a.jsx)(d.Z,{sx:{mr:2,display:"flex"},children:(0,a.jsx)(j.Z,{icon:"mdi:magnify",fontSize:20})}),endAdornment:(0,a.jsx)(c.Z,{size:"medium",title:"Clear","aria-label":"Clear",onClick:e.clearSearch,children:(0,a.jsx)(j.Z,{icon:"mdi:close",fontSize:20})})},sx:{width:{xs:1,sm:"auto"},"& .MuiInputBase-root > svg":{mr:2}}}),(0,a.jsx)(m.M,{})]}),(0,a.jsx)(d.Z,{children:(0,a.jsx)(b,{btnNew:e.buttonsHeader.btnNew,btnPrint:e.buttonsHeader.btnPrint,openModal:e.buttonsHeader.openModal})})]});var S=t(60565);let I=e=>{let{rows:r,columns:t,buttonsHeader:s}=e,{handleSearch:d,pageSize:u,setPageSize:c,searchText:m,filteredData:p,setData:x,data:f}=(0,o.useContext)(S.f);x(r);let h=(0,n.useRouter)(),g=h.pathname;return(0,a.jsx)(i._,{localeText:l.F.components.MuiDataGrid.defaultProps.localeText,autoHeight:!0,columns:t,pageSize:u,rowsPerPageOptions:[10,20,30,40,50,100],components:{Toolbar:v},rows:m?p:f,onRowClick:e=>h.push("".concat(g,"/").concat(e.row.id)),onPageSizeChange:e=>c(e),sx:{"& .MuiDataGrid-cell":{cursor:"pointer"}},componentsProps:{toolbar:{value:m,clearSearch:()=>d(""),onChange:e=>d(e.target.value),buttonsHeader:s}}})};var F=I},42480:function(){}},function(e){e.O(0,[4885,6668,8214,7536,7630,9516,9774,2888,179],function(){return e(e.s=59424)}),_N_E=e.O()}]);