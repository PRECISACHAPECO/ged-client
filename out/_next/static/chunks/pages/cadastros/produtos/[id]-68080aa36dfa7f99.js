(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6694],{31500:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cadastros/produtos/[id]",function(){return t(5389)}])},8867:function(e,n,t){"use strict";var s=t(85893),a=t(11163),r=t.n(a),l=t(67294),o=t(60664),d=t(49837),c=t(91359),i=t(79072),u=t(55343),h=t(67836),x=t(22841),m=t(74231),p=t(87536),f=t(47533),j=t(16056),Z=t(86501),b=t(28315),g=t(40039),P=t(46749),_=t(89191);let w=()=>{let[e,n]=(0,l.useState)(!1),{id:t}=r().query,a=r(),{user:w}=(0,l.useContext)(g.V),C=(0,P.Lo)(a.pathname),D=(0,P.g_)(a.pathname),y=(0,l.useRef)(null);console.log("unid ",w.unidadeID);let v=m.Ry().shape({nome:m.Z_().required("Campo obrigat\xf3rio")}),{control:E,handleSubmit:N,formState:{errors:O},reset:k}=(0,p.cI)({resolver:(0,f.X)(v)}),S=async e=>{try{"new"===C?(await o.h.post("".concat(D,"/novo"),{data:e,unidadeID:w.unidadeID}),a.push(D),Z.ZP.success(P.OD.successNew),k(e)):"edit"===C&&(await o.h.put("".concat(D,"/").concat(t),e),Z.ZP.success(P.OD.successUpdate),console.log("editado"))}catch(n){n.response&&409===n.response.status?Z.ZP.error(P.OD.errorRepeated):console.log(n)}},q=async()=>{try{await o.h.delete("".concat(D,"/").concat(t)),a.push(D),Z.ZP.success(P.OD.successDelete)}catch(e){e.response&&409===e.response.status?(Z.ZP.error(P.OD.pendingDelete),n(!1)):console.log(e)}};return(0,l.useEffect)(()=>{let e=async()=>{try{let e=await o.h.get("".concat(D,"/").concat(t));k(e.data)}catch(n){console.log(n)}};e()},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{children:(0,s.jsxs)("form",{onSubmit:N(S),children:[(0,s.jsx)(_.Z,{btnCancel:!0,btnSave:!0,disabled:Object.keys(O).length>0,handleSubmit:()=>N(S),btnDelete:"edit"===C,onclickDelete:()=>n(!0)}),(0,s.jsx)(c.Z,{children:(0,s.jsxs)(i.ZP,{container:!0,spacing:5,children:[(0,s.jsx)(i.ZP,{item:!0,xs:12,md:9,children:(0,s.jsx)(u.Z,{fullWidth:!0,children:(0,s.jsx)(p.Qr,{name:"nome",control:E,render(e){let{field:{value:n,onChange:t}}=e;return(0,s.jsx)(h.Z,{value:null!=n?n:"",label:"Nome",onChange:t,placeholder:"Nome",error:Boolean(O.nome),"aria-describedby":"validation-schema-nome",inputRef:y,rules:{required:!0}})}})})}),(0,s.jsx)(i.ZP,{item:!0,xs:12,md:2,children:(0,s.jsx)(u.Z,{fullWidth:!0,children:(0,s.jsx)(p.Qr,{name:"unidadeMedida",control:E,render(e){let{field:{value:n,onChange:t}}=e;return(0,s.jsx)(h.Z,{value:null!=n?n:"",label:"Unidade de Medida",onChange:t,placeholder:"Unidade de Medida",error:Boolean(O.unidadeMedida),"aria-describedby":"validation-schema-unidadeMedida",rules:{required:!0}})}})})}),(0,s.jsx)(i.ZP,{item:!0,xs:12,md:1,children:(0,s.jsx)(u.Z,{children:(0,s.jsx)(p.Qr,{name:"status",control:E,rules:{required:!1},render(e){let{field:{value:n,onChange:t}}=e;return(0,s.jsx)(x.Z,{checked:"new"===C||null!=n&&n,onChange:t,inputProps:{"aria-label":"controlled"},label:"Status",labelPlacement:"top",sx:{mr:8},control:(0,s.jsx)(j.Z,{})})}})})})]})})]})}),(0,s.jsx)(b.Z,{text:"Tem certeza que deseja excluir?",title:"Excluir dado",openModal:e,handleClose:()=>n(!1),handleSubmit:q,btnCancel:!0,btnConfirm:!0})]})};n.Z=w},5389:function(e,n,t){"use strict";t.r(n);var s=t(85893),a=t(8867),r=t(60565),l=t(67294);let o=()=>{let{setTitle:e}=(0,l.useContext)(r.f);return(0,l.useEffect)(()=>{e("Produtos")},[]),(0,s.jsx)(a.Z,{})};n.default=o}},function(e){e.O(0,[7536,9491,8365,9774,2888,179],function(){return e(e.s=31500)}),_N_E=e.O()}]);