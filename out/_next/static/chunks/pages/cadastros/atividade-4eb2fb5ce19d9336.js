(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288],{12504:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cadastros/atividade",function(){return a(75732)}])},19550:function(e,t,a){"use strict";var r=a(62097),i=a(5026);let n=()=>{let e=(0,r.Z)();return{primaryFilled:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},primaryLight:{color:e.palette.primary.main,backgroundColor:(0,i.E)(e.palette.primary.main,.12)},secondaryFilled:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main},secondaryLight:{color:e.palette.secondary.main,backgroundColor:(0,i.E)(e.palette.secondary.main,.12)},successFilled:{color:e.palette.success.contrastText,backgroundColor:e.palette.success.main},successLight:{color:e.palette.success.main,backgroundColor:(0,i.E)(e.palette.success.main,.12)},errorFilled:{color:e.palette.error.contrastText,backgroundColor:e.palette.error.main},errorLight:{color:e.palette.error.main,backgroundColor:(0,i.E)(e.palette.error.main,.12)},warningFilled:{color:e.palette.warning.contrastText,backgroundColor:e.palette.warning.main},warningLight:{color:e.palette.warning.main,backgroundColor:(0,i.E)(e.palette.warning.main,.12)},infoFilled:{color:e.palette.info.contrastText,backgroundColor:e.palette.info.main},infoLight:{color:e.palette.info.main,backgroundColor:(0,i.E)(e.palette.info.main,.12)}}};t.Z=n},60664:function(e,t,a){"use strict";a.d(t,{h:function(){return i}});var r=a(50196);let i=r.ZP.create({baseURL:"http://localhost:3333/"})},75732:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var r=a(85893),i=a(67294),n=a(60664),o=a(67836),s=a(75084),l=a(44373),c=a(49837),d=a(59742),u=a(34545),p=a(75680),m=a(61953),g=a(80562),h=a(50853),x=a(21609);let f=e=>(0,r.jsxs)(m.Z,{sx:{gap:2,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",p:e=>e.spacing(2,5,4,5)},children:[(0,r.jsx)(h.M,{}),(0,r.jsx)(o.Z,{size:"small",value:e.value,onChange:e.onChange,placeholder:"Buscarâ€¦",variant:"standard",InputProps:{startAdornment:(0,r.jsx)(m.Z,{sx:{mr:2,display:"flex"},children:(0,r.jsx)(x.Z,{icon:"mdi:magnify",fontSize:20})}),endAdornment:(0,r.jsx)(g.Z,{size:"small",title:"Clear","aria-label":"Clear",onClick:e.clearSearch,children:(0,r.jsx)(x.Z,{icon:"mdi:close",fontSize:20})})},sx:{width:{xs:1,sm:"auto"},"& .MuiInputBase-root > svg":{mr:2}}})]}),j=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),v=e=>{let{title:t,rows:a,columns:n}=e,[o]=(0,i.useState)(a),[s,l]=(0,i.useState)(7),[m,g]=(0,i.useState)(""),[h,x]=(0,i.useState)([]),v=e=>{g(e);let t=RegExp(j(e),"i"),a=o.filter(e=>Object.keys(e).some(a=>t.test(e[a].toString())));e.length?x(a):x([])};return(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(d.Z,{title:t}),(0,r.jsx)(u._,{localeText:p.F.components.MuiDataGrid.defaultProps.localeText,autoHeight:!0,columns:n,pageSize:s,rowsPerPageOptions:[20,30,40,50,100,200],components:{Toolbar:f},rows:h.length?h:o,onPageSizeChange:e=>l(e),componentsProps:{baseButton:{variant:"outlined"},toolbar:{value:m,clearSearch:()=>v(""),onChange:e=>v(e.target.value)}}})]})};var y=a(40039),b=a(41664),C=a.n(b),w=a(11163),k=a(29630),Z=a(21448),_=a(86010),S=a(19550);let E=e=>{let{sx:t,skin:a,color:i,rounded:n}=e,o=(0,S.Z)(),s={primary:{...o.primaryLight},secondary:{...o.secondaryLight},success:{...o.successLight},error:{...o.errorLight},warning:{...o.warningLight},info:{...o.infoLight}},l={...e};return l.rounded=void 0,(0,r.jsx)(Z.Z,{...l,variant:"filled",className:(0,_.Z)({"MuiChip-rounded":n,"MuiChip-light":"light"===a}),sx:"light"===a&&i?Object.assign(s[i],t):t})},L={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"}},z=(e,t)=>t.map((a,i)=>{let n=t[i].field;return{...a,flex:a.size,renderCell:a=>(0,r.jsx)(k.Z,{variant:"body2",sx:{color:"text.primary"},children:(0,r.jsx)(C(),{href:"".concat(e,"/").concat(a.row.id),children:t&&t.map((e,t)=>{if(e.field===n){if("status"!=e.field)return a.row[e.field];{let i=L[a.row.status];return(0,r.jsx)(E,{size:"small",skin:"light",color:i.color,label:i.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},t)}}})})})}}),T=()=>{let[e,t]=(0,i.useState)([]),[a,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(!1),p=(0,w.useRouter)(),{statusDefault:m}=(0,i.useContext)(y.V),g=p.pathname,h=z(g,[{title:"ID",field:"id",size:.1},{title:"Nome",field:"nome",size:.8},{title:"Status",field:"status",size:.1}]);(0,i.useEffect)(()=>{let e=async()=>{await n.h.get("atividade/").then(e=>{t(e.data)})};e()},[d]);let x=async e=>{e.preventDefault(),await n.h.post("atividade/",{description:a}).then(e=>{c(""),u(!d)})},f=async e=>{await n.h.delete("atividade/".concat(e)).then(e=>{u(!d)})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",{onSubmit:x,children:[(0,r.jsx)(o.Z,{name:"description",label:"Descri\xe7\xe3o",placeholder:"Descri\xe7\xe3o",value:a,onChange:e=>c(e.target.value)}),(0,r.jsx)("div",{children:(0,r.jsx)(s.Z,{disabled:!a,type:"submit",variant:"contained",sx:{my:2},children:"Inserir"})})]}),(0,r.jsx)(l.Z,{}),(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"ID"}),(0,r.jsx)("td",{children:"Descri\xe7\xe3o"}),(0,r.jsx)("td",{children:"A\xe7\xe3o"})]})}),(0,r.jsx)("tbody",{children:e&&e.map((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.registerID}),(0,r.jsx)("td",{children:e.description}),(0,r.jsx)("td",{children:(0,r.jsx)(s.Z,{variant:"outlined",color:"error",onClick:t=>f(e.registerID),children:"Remover"})})]},t))})]}),(0,r.jsx)(v,{title:"Atividades",rows:[{id:1,nome:"John Doe",email:"jpomnas@gmail",start_date:"2021-01-01",salary:"1000",age:"10",status:1,avatar:"avatar-s-1.png"},{id:2,nome:"maria",email:"jpomnas@gmail",start_date:"2021-01-01",salary:"200",age:"30",status:0,avatar:"avatar-s-2.png"},{id:3,nome:"Joao",email:"jpomnas@gmail",start_date:"2021-01-01",salary:"10",age:"60",status:1,avatar:"avatar-s-1.png"},{id:4,nome:"Rodrigo",email:"jpomnas@gmail",start_date:"2021-01-01",salary:"10000",age:"90",status:0,avatar:"avatar-s-2.png"}],columns:h})]})};var D=T}},function(e){e.O(0,[836,220,774,888,179],function(){return e(e.s=12504)}),_N_E=e.O()}]);