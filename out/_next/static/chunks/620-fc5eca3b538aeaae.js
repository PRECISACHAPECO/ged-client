"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{19550:function(e,r,t){var a=t(62097),o=t(5026);let n=()=>{let e=(0,a.Z)();return{primaryFilled:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},primaryLight:{color:e.palette.primary.main,backgroundColor:(0,o.E)(e.palette.primary.main,.12)},secondaryFilled:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main},secondaryLight:{color:e.palette.secondary.main,backgroundColor:(0,o.E)(e.palette.secondary.main,.12)},successFilled:{color:e.palette.success.contrastText,backgroundColor:e.palette.success.main},successLight:{color:e.palette.success.main,backgroundColor:(0,o.E)(e.palette.success.main,.12)},errorFilled:{color:e.palette.error.contrastText,backgroundColor:e.palette.error.main},errorLight:{color:e.palette.error.main,backgroundColor:(0,o.E)(e.palette.error.main,.12)},warningFilled:{color:e.palette.warning.contrastText,backgroundColor:e.palette.warning.main},warningLight:{color:e.palette.warning.main,backgroundColor:(0,o.E)(e.palette.warning.main,.12)},infoFilled:{color:e.palette.info.contrastText,backgroundColor:e.palette.info.main},infoLight:{color:e.palette.info.main,backgroundColor:(0,o.E)(e.palette.info.main,.12)}}};r.Z=n},16620:function(e,r,t){t.d(r,{Z:function(){return _}});var a=t(85893),o=t(11163),n=t.n(o),l=t(67294),i=t(60664),s=t(41664),c=t.n(s),d=t(49837),u=t(91359),m=t(79072),h=t(55343),p=t(67836),x=t(74231),g=t(87536),f=t(47533),b=t(32631),j=t(16056),y=t(86501),Z=t(75084),C=t(1890),v=t(77745),k=t(95398),w=t(76779),L=t(44642);let E=e=>{let{title:r,text:t,handleClose:o,openModal:n,handleSubmit:i,btnCancelar:s,btnConfirmar:c}=e;return(0,a.jsx)(l.Fragment,{children:(0,a.jsxs)(C.Z,{open:n,onClose:o,"aria-labelledby":"form-dialog-title",children:[(0,a.jsx)(v.Z,{id:"form-dialog-title",children:r}),(0,a.jsx)(k.Z,{children:(0,a.jsx)(L.Z,{sx:{mb:3},children:t})}),(0,a.jsxs)(w.Z,{className:"dialog-actions-dense",children:[s&&(0,a.jsx)(Z.Z,{variant:"outlined",color:"error",onClick:o,children:"Cancelar"}),c&&(0,a.jsx)(Z.Z,{variant:"outlined",color:"primary",onClick:i,children:"Salvar"})]})]})})};var z=t(20102),F=t(61953),S=t(21609);let P=e=>{let{btnCancel:r,btnSave:t,handleSubmit:o,btnDelete:l,onclickDelete:i}=e,s=n();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between",mb:4},children:[(0,a.jsxs)(F.Z,{children:[r&&(0,a.jsx)(c(),{href:(0,z.g_)(s.pathname),children:(0,a.jsx)(Z.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",sx:{mt:2,mr:2,py:2},children:(0,a.jsx)(S.Z,{icon:"material-symbols:arrow-back-rounded",fontSize:20})})}),l&&(0,a.jsx)(Z.Z,{type:"button",onClick:i,variant:"outlined",color:"error",size:"medium",sx:{mt:2,ml:2},children:"Excluir"})]}),(0,a.jsx)(F.Z,{children:t&&(0,a.jsx)(Z.Z,{onClick:o,type:"submit",variant:"outlined",size:"medium",color:"primary",sx:{mt:2,mr:2},children:"Salvar"})})]})})},T=()=>{let[e,r]=(0,l.useState)(!1),{id:t}=n().query,o=n(),s=(0,z.Lo)(o.pathname),c=(0,z.g_)(o.pathname),Z=x.Ry().shape({nome:x.Z_().required("Campo obrigat\xf3rio")}),{control:C,handleSubmit:v,formState:{errors:k},reset:w}=(0,g.cI)({resolver:(0,f.X)(Z)}),L=async e=>{try{"new"===s?(await i.h.post("".concat(c,"/novo"),e),o.push(c),y.ZP.success("Dados cadastrados com sucesso!"),w(e)):"edit"===s&&(await i.h.put("".concat(c,"/").concat(t),e),y.ZP.success("Dados atualizados com sucesso!"))}catch(r){r.response&&409===r.response.status?y.ZP.error("Atividade j\xe1 cadastrada!"):console.log(r)}},F=async()=>{try{await i.h.delete("".concat(c,"/").concat(t)),o.push(c),y.ZP.error("Dados deletados com sucesso!")}catch(e){console.log(e)}},S=()=>r(!0),T=()=>r(!1);return(0,l.useEffect)(()=>{let e=async()=>{try{let e=await i.h.get("".concat(c,"/").concat(t));w(e.data)}catch(r){console.log(r)}};e()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Atividade Updated"}),(0,a.jsx)(d.Z,{children:(0,a.jsxs)("form",{onSubmit:v(L),children:[(0,a.jsx)(P,{btnCancel:!0,btnSave:!0,handleSubmit:()=>v(L),btnDelete:"edit"===s,onclickDelete:S}),(0,a.jsx)(u.Z,{children:(0,a.jsx)(m.ZP,{container:!0,spacing:5,children:(0,a.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,a.jsxs)(h.Z,{fullWidth:!0,children:[(0,a.jsx)(g.Qr,{name:"nome",control:C,render(e){let{field:{value:r,onChange:t}}=e;return(0,a.jsx)(p.Z,{value:null!=r?r:"",label:"Nome",onChange:t,placeholder:"Nome",error:Boolean(k.nome),"aria-describedby":"validation-schema-nome"})}}),k.nome&&(0,a.jsx)(b.Z,{sx:{color:"error.main"},id:"validation-schema-nome",children:k.nome.message})]}),(0,a.jsxs)(h.Z,{fullWidth:!0,children:[(0,a.jsx)(g.Qr,{name:"status",control:C,rules:{required:!1},render(e){let{field:{value:r,onChange:t}}=e;return(0,a.jsx)(j.Z,{checked:"1"==r,onChange:t,inputProps:{"aria-label":"controlled"}})}}),k.status&&(0,a.jsx)(b.Z,{sx:{color:"error.main"},id:"validation-schema-status",children:k.status.message})]}),(0,a.jsx)(E,{text:"Tem certeza que deseja excluir?",title:"Excluir atividade",openModal:e,handleClose:T,handleSubmit:F,btnCancelar:!0,btnConfirmar:!0})]})})})]})})]})};var _=T},60664:function(e,r,t){t.d(r,{h:function(){return o}});var a=t(50196);let o=a.ZP.create({baseURL:"https://demo.gedagro.com.br/api/"})},20102:function(e,r,t){t.d(r,{g_:function(){return p},OL:function(){return m},Lo:function(){return h}});var a=t(85893),o=t(29630),n=t(41664),l=t.n(n),i=t(21448),s=t(86010),c=t(19550);let d=e=>{let{sx:r,skin:t,color:o,rounded:n}=e,l=(0,c.Z)(),d={primary:{...l.primaryLight},secondary:{...l.secondaryLight},success:{...l.successLight},error:{...l.errorLight},warning:{...l.warningLight},info:{...l.infoLight}},u={...e};return u.rounded=void 0,(0,a.jsx)(i.Z,{...u,variant:"filled",className:(0,s.Z)({"MuiChip-rounded":n,"MuiChip-light":"light"===t}),sx:"light"===t&&o?Object.assign(d[o],r):r})},u={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"}},m=(e,r)=>r.map((t,n)=>{let i=r[n].field;return{...t,flex:t.size,renderCell:t=>(0,a.jsx)(o.Z,{variant:"body2",sx:{color:"text.primary"},children:(0,a.jsx)(l(),{href:"".concat(e,"/").concat(t.row.id),children:r&&r.map((e,r)=>{if(e.field===i){if("status"!=e.field)return t.row[e.field];{let o=u[t.row.status];return(0,a.jsx)(d,{size:"small",skin:"light",color:o.color,label:o.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},r)}}})})})}}),h=e=>{let r=e.split("/"),t=r[r.length-1];return"novo"==t?"new":"edit"},p=e=>{let r=e.split("/");return r.pop(),r.join("/")}}}]);