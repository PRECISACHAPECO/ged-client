(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5537],{89191:function(t,e,r){"use strict";r.d(e,{Z:function(){return y}});var a=r(85893),i=r(11163),n=r.n(i),o=r(67294),s=r(91359),l=r(61953),u=r(75084),d=r(72389),c=r(41664),m=r.n(c),p=r(21609),g=r(46749),f=r(73812),b=r(86378),x=r(9942),h=r(60565);function S(t){let{disabled:e,dataReports:r,open:i,anchorEl:n,handleClick:s,handleClose:l}=t,{generateReport:u}=(0,o.useContext)(h.f);return(0,a.jsx)("div",{children:(0,a.jsx)(f.Z,{id:"fade-menu",MenuListProps:{"aria-labelledby":"fade-button"},anchorEl:n,open:i,onClose:l,TransitionComponent:x.Z,children:r.map(t=>(0,a.jsxs)(b.Z,{onClick(){l(),u(t)},children:[(0,a.jsx)("span",{children:t.identification}),(0,a.jsx)("span",{style:{padding:"0 5px"},children:"-"}),(0,a.jsx)("span",{children:t.name})]},t.id))})})}var v=r(40039),I=r(10160);let j=t=>{let{btnCancel:e,btnSave:r,btnSend:i,btnChangeStatus:c,handleSubmit:f,disabledSubmit:b,handleSend:x,disabledSend:j,handleChangeStatus:y,btnDelete:w,onclickDelete:C,btnPrint:T,disabled:O,dataReports:Z}=t,D=n(),{user:F,routes:k}=(0,o.useContext)(v.V),{generateReport:z}=(0,o.useContext)(h.f),[_,E]=(0,o.useState)(!1),[U,A]=(0,o.useState)(null),H=Boolean(U),L=t=>{A(t.currentTarget)},R=()=>{A(null)},Y=(()=>{let t=D.pathname.split("/").slice(0,-1).join("/");return t||D.pathname})(),N=()=>{window.scrollTo({top:0,behavior:"smooth"})},P=()=>{window.history.back()};return(0,o.useEffect)(()=>{let t=()=>{E(!1),window.scrollY>0?E(!0):E(!1)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,a.jsxs)(l.Z,{sx:{display:"flex",gap:"8px"},children:[e&&(0,a.jsx)(m(),{href:(0,g.g_)(D.pathname),children:(0,a.jsx)(u.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,a.jsx)(p.Z,{icon:"material-symbols:arrow-back-rounded"})})}),w&&k.find(t=>t.rota===Y&&t.excluir)&&(0,a.jsx)(u.Z,{type:"button",onClick:C,variant:"outlined",color:"error",size:"medium",startIcon:(0,a.jsx)(p.Z,{icon:"material-symbols:delete-outline"}),children:"Excluir"}),c&&(0,a.jsx)(u.Z,{type:"button",onClick:y,variant:"outlined",color:"primary",size:"medium",startIcon:(0,a.jsx)(p.Z,{icon:"fluent:status-12-filled"}),children:"Status"})]}),(0,a.jsxs)(l.Z,{sx:{display:"flex",gap:"8px"},children:[T&&1===Z.length&&(0,a.jsx)(u.Z,{id:"fade-button","aria-controls":H?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":H?"true":void 0,onClick:()=>z(Z[0]),color:"primary",disabled:O,variant:"outlined",size:"medium",type:"button",startIcon:(0,a.jsx)(p.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),T&&Z.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{id:"fade-button","aria-controls":H?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":H?"true":void 0,onClick:L,color:"primary",disabled:O,variant:"outlined",size:"medium",type:"button",startIcon:(0,a.jsx)(p.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),(0,a.jsx)(S,{generateReport:z,dataReports:Z,handleClick:L,handleClose:R,open:H,anchorEl:U})]}),r&&k.find(t=>t.rota===Y&&t.editar)&&(0,a.jsx)(u.Z,{onClick:f,type:"submit",variant:"outlined",size:"medium",color:"primary",disabled:O||b,startIcon:(0,a.jsx)(p.Z,{icon:"material-symbols:save"}),children:"Salvar"}),i&&(0,a.jsx)(u.Z,{onClick:x,type:"button",variant:"contained",size:"medium",color:"primary",disabled:O||j,sx:{ml:2},startIcon:(0,a.jsx)(p.Z,{icon:"carbon:send-filled"}),children:"Enviar Formul\xe1rio"}),(0,a.jsx)("div",{className:"\n                        ".concat(_?"fadeIn":"hidden"," trasition duration-200 fixed bottom-10 right-8 z-50 flex flex-col-reverse gap-3\n                    "),children:[{id:1,title:"Salvar",color:"primary",size:"large",type:"submit",variant:"contained",disabled:O||b,icon:"material-symbols:save",function:f},{id:2,title:"Imprimir",color:"default",size:"large",type:"button",variant:"outlined",disabled:!1,icon:"material-symbols:print",function:L},{id:3,title:"Voltar ao topo",color:"default",size:"large",type:"button",variant:"outlined",disabled:!1,icon:"ion:arrow-up",function:N},{id:4,title:"Voltar para a p\xe1gina anterior",color:"default",size:"large",type:"button",variant:"outlined",disabled:!1,icon:"material-symbols:arrow-back-rounded",function:P}].map(t=>(1!==t.id||r&&k.find(t=>t.rota===Y&&t.editar))&&(2!==t.id||T)?(0,a.jsx)(d.Z,{title:t.title,placement:"left",children:(0,a.jsx)("div",{children:(0,a.jsx)(I.Z,{color:t.color,size:"large",onClick:t.function,variant:"contained",type:t.type,disabled:t.disabled,children:(0,a.jsx)(p.Z,{icon:t.icon})})},t.id)},t.id):null)})]})]})})};var y=j},49540:function(t,e,r){"use strict";r.d(e,{X1:function(){return u},p6:function(){return s},q:function(){return l}});var a=r(30381),i=r.n(a),n=r(68214),o=r.n(n);function s(t,e){let r=i()(t),a=r.format(e);return a}function l(t){let e=o()(t).toString();return e}function u(t){return t.replace(/[^0-9]/g,"")}},46749:function(t,e,r){"use strict";r.d(e,{HD:function(){return f},Lo:function(){return m},OD:function(){return c},OE:function(){return g},OL:function(){return d},WR:function(){return u},g_:function(){return p}});var a=r(85893),i=r(29630);r(49540);var n=r(41664),o=r.n(n),s=r(7071);r(67294),r(40039);var l=r(60664);r(50196);let u={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"},10:{title:"Pendente",color:"warning"},20:{title:"Acessou link",color:"info"},30:{title:"Em preenchimento",color:"warning"},40:{title:"Conclu\xeddo",color:"primary"},50:{title:"Reprovado",color:"error"},60:{title:"Aprovado Parcial",color:"warning"},70:{title:"Aprovado",color:"success"}},d=(t,e)=>e.map((r,n)=>{let l=e[n].field;return{...r,flex:r.size,renderCell:r=>(0,a.jsx)(o(),{href:"".concat(t,"/").concat(r.row.id),children:(0,a.jsx)(i.Z,{variant:"body2",sx:{color:"text.primary"},children:e&&e.map((t,e)=>{if(t.field===l){if("status"!=t.field)return r.row[t.field];{let i=u[r.row.status];return(0,a.jsx)(s.Z,{size:"small",skin:"light",color:i.color,label:i.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},e)}}})})})}}),c={successNew:"Dados salvos com sucesso!",successUpdate:"Dados atualizados com sucesso!",errorNew:"Erro ao salvar os dados!",errorRepeated:"Dados j\xe1 existentes!",errorUpdate:"Erro ao atualizar os dados!",errorDelete:"Erro ao excluir os dados!",successDelete:"Dados exclu\xeddos com sucesso!",pendingDelete:"Dado n\xe3o pode ser excluido, pois j\xe1 est\xe1 sendo utilizado!",errorGet:"Erro ao obter os dados!",successGet:"Dados obtidos com sucesso!"},m=t=>{let e=t.split("/"),r=e[e.length-1];return"novo"==r?"new":"edit"},p=t=>{let e=t.split("/");return e.pop(),e.join("/")},g=t=>{let e=t.route;l.h.post(e,t.params,{responseType:"arraybuffer"}).then(t=>{let e=new Blob([t.data],{type:"application/pdf"}),r=URL.createObjectURL(e);window.open(r,"_blank")}).catch(t=>{console.error("Erro ao gerar relat\xf3rio",t)})};function f(t,e){let r=new Date;r.setUTCHours(0,0,0,0);let a=new Date(e);switch(t){case"atual":if((a=new Date(e)).setUTCHours(0,0,0,0),a.toISOString().substr(0,10)===r.toISOString().substr(0,10))return{status:!0,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10)};return{status:!1,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10),message:"A data deve ser a data atual"};case"hoje_menor":if((a=new Date(e)).setUTCHours(0,0,0,0),a.getTime()<=r.getTime())return{status:!0,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10)};return{status:!1,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10),message:"A data deve ser inferior ou igual a atual"};case"hoje_maior":if((a=new Date(e)).setUTCHours(0,0,0,0),a.getTime()>=r.getTime())return{status:!0,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10)};return{status:!1,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10),message:"A data deve ser superior ou igual a atual"};case"hoje_menor_ate_1":(a=new Date(e)).setUTCHours(0,0,0,0);let i=new Date;if(i.setUTCHours(0,0,0,0),i.setFullYear(r.getFullYear()+1),a.getTime()<=r.getTime()&&a.getTime()<=i.getTime())return{status:!0,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10)};return{status:!1,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10),message:"A data deve ser igual ou supeior at\xe9 1 ano a partir da data atual"};case"hoje_menor_ate_10":(a=new Date(e)).setUTCHours(0,0,0,0);let n=new Date;if(n.setUTCHours(0,0,0,0),n.setFullYear(r.getFullYear()+10),a.getTime()<=r.getTime()&&a.getTime()<=n.getTime())return{status:!0,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10)};return{status:!1,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10),message:"A data deve ser igual ou supeior at\xe9 10 anos a partir da data atual"};case"hoje_menor_ate_100":(a=new Date(e)).setUTCHours(0,0,0,0);let o=new Date;if(o.setUTCHours(0,0,0,0),o.setFullYear(r.getFullYear()+100),a.getTime()<=r.getTime()&&a.getTime()<=o.getTime())return{status:!0,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10)};return{status:!1,dataIni:r.toISOString().substr(0,10),dataFim:r.toISOString().substr(0,10),message:"A data deve ser igual ou supeior at\xe9 100 anos a partir da data atual"};default:return"A data digitada \xe9 inv\xe1lida."}}},42480:function(){}}]);