"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{91359:function(e,o,t){t.d(o,{Z:function(){return Z}});var r=t(87462),n=t(63366),a=t(67294),i=t(86010),l=t(94780),s=t(67074),c=t(78884),d=t(1588),u=t(34867);function m(e){return(0,u.Z)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var p=t(85893);let x=["className","component"],h=e=>{let{classes:o}=e;return(0,l.Z)({root:["root"]},m,o)},f=(0,s.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,o)=>o.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),v=a.forwardRef(function(e,o){let t=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:a,component:l="div"}=t,s=(0,n.Z)(t,x),d=(0,r.Z)({},t,{component:l}),u=h(d);return(0,p.jsx)(f,(0,r.Z)({as:l,className:(0,i.Z)(u.root,a),ownerState:d,ref:o},s))});var Z=v},49837:function(e,o,t){t.d(o,{Z:function(){return j}});var r=t(87462),n=t(63366),a=t(67294),i=t(86010),l=t(94780),s=t(67074),c=t(78884),d=t(70918),u=t(1588),m=t(34867);function p(e){return(0,m.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var x=t(85893);let h=["className","raised"],f=e=>{let{classes:o}=e;return(0,l.Z)({root:["root"]},p,o)},v=(0,s.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,o)=>o.root})(()=>({overflow:"hidden"})),Z=a.forwardRef(function(e,o){let t=(0,c.Z)({props:e,name:"MuiCard"}),{className:a,raised:l=!1}=t,s=(0,n.Z)(t,h),d=(0,r.Z)({},t,{raised:l}),u=f(d);return(0,x.jsx)(v,(0,r.Z)({className:(0,i.Z)(u.root,a),elevation:l?8:void 0,ref:o,ownerState:d},s))});var j=Z},75158:function(e,o,t){t.d(o,{Z:function(){return E}});var r=t(63366),n=t(87462),a=t(67294),i=t(86010),l=t(94780),s=t(41796),c=t(37743),d=t(54235),u=t(85893),m=(0,d.Z)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,d.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),x=(0,d.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),h=t(36622),f=t(78884),v=t(67074),Z=t(1588),j=t(34867);function b(e){return(0,j.Z)("MuiCheckbox",e)}let C=(0,Z.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),y=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],g=e=>{let{classes:o,indeterminate:t,color:r}=e,a={root:["root",t&&"indeterminate",`color${(0,h.Z)(r)}`]},i=(0,l.Z)(a,b,o);return(0,n.Z)({},o,i)},w=(0,v.ZP)(c.Z,{shouldForwardProp:e=>(0,v.FO)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver(e,o){let{ownerState:t}=e;return[o.root,t.indeterminate&&o.indeterminate,"default"!==t.color&&o[`color${(0,h.Z)(t.color)}`]]}})(({theme:e,ownerState:o})=>(0,n.Z)({color:(e.vars||e).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===o.color?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,s.Fq)("default"===o.color?e.palette.action.active:e.palette[o.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&{[`&.${C.checked}, &.${C.indeterminate}`]:{color:(e.vars||e).palette[o.color].main},[`&.${C.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),k=(0,u.jsx)(p,{}),z=(0,u.jsx)(m,{}),D=(0,u.jsx)(x,{}),I=a.forwardRef(function(e,o){var t,l;let s=(0,f.Z)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=k,color:d="primary",icon:m=z,indeterminate:p=!1,indeterminateIcon:x=D,inputProps:h,size:v="medium",className:Z}=s,j=(0,r.Z)(s,y),b=p?x:m,C=p?x:c,I=(0,n.Z)({},s,{color:d,indeterminate:p,size:v}),E=g(I);return(0,u.jsx)(w,(0,n.Z)({type:"checkbox",inputProps:(0,n.Z)({"data-indeterminate":p},h),icon:a.cloneElement(b,{fontSize:null!=(t=b.props.fontSize)?t:v}),checkedIcon:a.cloneElement(C,{fontSize:null!=(l=C.props.fontSize)?l:v}),ownerState:I,ref:o,className:(0,i.Z)(E.root,Z)},j,{classes:E}))});var E=I},90492:function(e,o,t){var r=t(85893),n=t(11163),a=t.n(n),i=t(67294),l=t(60565),s=t(60664),c=t(49837),d=t(91359),u=t(79072),m=t(55343),p=t(67836),x=t(35966),h=t(29630),f=t(22841),v=t(75158);t(74231);var Z=t(87536),j=t(86501),b=t(45061),C=t(46749),y=t(89191);let g=()=>{var e,o,t,n,g,w;let[k,z]=(0,i.useState)(!1),[D,I]=(0,i.useState)(null),[E,R]=(0,i.useState)(null),{id:S}=a().query,P=a(),M=(0,C.Lo)(P.pathname),F=(0,C.g_)(P.pathname),N=(0,i.useRef)(null),{title:O}=(0,i.useContext)(l.f),{control:L,handleSubmit:B,formState:{errors:V},register:_}=(0,Z.cI)({});console.log(V);let $=async e=>{let o={...e,tipoFormularioID:E};try{"new"===M?(await s.h.post("".concat(F,"/novo"),o),P.push(F),j.ZP.success(C.OD.successNew),console.log(o)):"edit"===M&&(await s.h.put("".concat(F,"/").concat(S),o),j.ZP.success(C.OD.successUpdate),console.log("editado"))}catch(t){t.response&&409===t.response.status?j.ZP.error(C.OD.errorRepeated):console.log(t)}},A=async()=>{try{await s.h.delete("".concat(F,"/").concat(S)),P.push(F),j.ZP.success(C.OD.successDelete)}catch(e){e.response&&409===e.response.status?(j.ZP.error(C.OD.pendingDelete),z(!1)):console.log(e)}},T=async()=>{s.h.get("".concat(F,"/").concat(S),{headers:{"function-name":"getData"}}).then(e=>{I(e.data)})},q=async()=>{s.h.get("".concat(F,"/novo"),{headers:{"function-name":"getNovo"}}).then(e=>{I(e.data)})};return(0,i.useEffect)(()=>{"new"===M?(setTimeout(()=>{N.current.focus()},100),q()):"edit"===M&&T()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{children:(0,r.jsxs)("form",{onSubmit:B($),children:[(0,r.jsx)(y.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>B($),btnDelete:"edit"===M,onclickDelete:()=>z(!0)}),(0,r.jsx)(d.Z,{children:(0,r.jsxs)(u.ZP,{container:!0,spacing:5,children:[(0,r.jsx)(u.ZP,{item:!0,xs:12,md:8,children:(0,r.jsx)(m.Z,{fullWidth:!0,children:D&&(0,r.jsx)(p.Z,{label:"Nome",placeholder:"Nome",name:"nome",..._("nome",{required:!0}),defaultValue:null!==(t=null==D?void 0:null===(e=D.value)||void 0===e?void 0:e.nome)&&void 0!==t?t:"",error:Boolean(V.nome),"aria-describedby":"validation-schema-nome",inputRef:N})})}),(0,r.jsx)(u.ZP,{item:!0,xs:12,md:3,children:(0,r.jsx)(m.Z,{fullWidth:!0,children:D&&(0,r.jsx)(x.Z,{options:null!==(n=null==D?void 0:D.formularios)&&void 0!==n?n:[],filterOptions:(e,o)=>e.filter(e=>e.nome.toLowerCase().includes(o.inputValue.toLowerCase())),getOptionLabel:e=>e.nome,onChange(e,o){R(null==o?void 0:o.parFormularioID)},defaultValue:null!==(g=null==D?void 0:D.tipoFormulario)&&void 0!==g?g:null,renderInput:e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(p.Z,{...e,label:"Formul\xe1rio",placeholder:"Formul\xe1rio",name:"formulario",..._("formulario",{required:!0}),defaultValue:null!==(w=null==D?void 0:D.tipoFormulario)&&void 0!==w?w:"",error:Boolean(V.formulario)})})})})}),(0,r.jsx)(u.ZP,{item:!0,xs:12,md:1,children:D&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{children:"Ativo"}),(0,r.jsx)(f.Z,{control:(0,r.jsx)(v.Z,{sx:{ml:4},defaultChecked:"new"===M||(null==D?void 0:null===(o=D.value)||void 0===o?void 0:o.status)==1,name:"status",..._("status")})})]})})]})})]})}),(0,r.jsx)(b.Z,{text:"Tem certeza que deseja excluir?",title:"Excluir "+O,openModal:k,handleClose:()=>z(!1),handleSubmit:A,btnCancel:!0,btnConfirm:!0})]})};o.Z=g},45061:function(e,o,t){var r=t(85893),n=t(75084),a=t(29620),i=t(77745),l=t(95398),s=t(76779),c=t(44642);t(21609);let d=e=>{let{title:o,text:t,handleClose:d,openModal:u,handleSubmit:m,btnCancel:p,btnConfirm:x,btnCancelColor:h,btnConfirmColor:f}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(a.Z,{open:u,onClose:d,"aria-labelledby":"form-dialog-title",children:[(0,r.jsx)(i.Z,{id:"form-dialog-title",children:o}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(c.Z,{sx:{mb:3},children:t})}),(0,r.jsxs)(s.Z,{className:"dialog-actions-dense",children:[p&&(0,r.jsx)(n.Z,{variant:"outlined",color:"primary",onClick:d,children:"Cancelar"}),x&&(0,r.jsx)(n.Z,{variant:"contained",color:f||"error",onClick:m,children:"Confirmar"})]})]})})};o.Z=d},89191:function(e,o,t){t.d(o,{Z:function(){return C}});var r=t(85893),n=t(11163),a=t.n(n),i=t(67294),l=t(91359),s=t(61953),c=t(75084),d=t(41664),u=t.n(d),m=t(21609),p=t(46749),x=t(73812),h=t(86378),f=t(9942);function v(e){let{disabled:o,generateReport:t,dataReports:n,open:a,anchorEl:i,handleClick:l,handleClose:s}=e;return(0,r.jsx)("div",{children:(0,r.jsx)(x.Z,{id:"fade-menu",MenuListProps:{"aria-labelledby":"fade-button"},anchorEl:i,open:a,onClose:s,TransitionComponent:f.Z,children:n.map(e=>(0,r.jsxs)(h.Z,{onClick(){s(),t(e)},children:[(0,r.jsx)("span",{children:e.identification}),(0,r.jsx)("span",{style:{padding:"0 5px"},children:"-"}),(0,r.jsx)("span",{children:e.name})]},e.id))})})}var Z=t(40039),j=t(10160);let b=e=>{let{btnCancel:o,btnSave:t,btnSend:n,btnChangeStatus:d,handleSubmit:x,handleSend:h,handleChangeStatus:f,btnDelete:b,onclickDelete:C,btnPrint:y,disabled:g,generateReport:w,dataReports:k}=e,z=a(),{user:D,routes:I}=(0,i.useContext)(Z.V),[E,R]=(0,i.useState)(!1),[S,P]=(0,i.useState)(null),M=Boolean(S),F=e=>{P(e.currentTarget)},N=()=>{P(null)},O=(()=>{let e=z.pathname.split("/").slice(0,-1).join("/");return e||z.pathname})();return(0,i.useEffect)(()=>{let e=()=>{window.scrollY>0?R(!0):R(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsxs)(s.Z,{sx:{display:"flex",gap:"8px"},children:[o&&(0,r.jsx)(u(),{href:(0,p.g_)(z.pathname),children:(0,r.jsx)(c.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,r.jsx)(m.Z,{icon:"material-symbols:arrow-back-rounded"})})}),b&&I.find(e=>e.rota===O&&e.excluir)&&(0,r.jsx)(c.Z,{type:"button",onClick:C,variant:"outlined",color:"error",size:"medium",startIcon:(0,r.jsx)(m.Z,{icon:"material-symbols:delete-outline"}),children:"Excluir"}),d&&(0,r.jsx)(c.Z,{type:"button",onClick:f,variant:"outlined",color:"primary",size:"medium",startIcon:(0,r.jsx)(m.Z,{icon:"fluent:status-12-filled"}),children:"Status"})]}),(0,r.jsxs)(s.Z,{sx:{display:"flex",gap:"8px"},children:[y&&1===k.length&&(0,r.jsx)(c.Z,{id:"fade-button","aria-controls":M?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":M?"true":void 0,onClick:()=>w(k[0]),color:"primary",disabled:g,variant:"outlined",size:"medium",type:"button",startIcon:(0,r.jsx)(m.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),y&&k.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{id:"fade-button","aria-controls":M?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":M?"true":void 0,onClick:F,color:"primary",disabled:g,variant:"outlined",size:"medium",type:"button",startIcon:(0,r.jsx)(m.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),(0,r.jsx)(v,{generateReport:w,dataReports:k,handleClick:F,handleClose:N,open:M,anchorEl:S})]}),t&&I.find(e=>e.rota===O&&e.editar)&&(0,r.jsx)(c.Z,{onClick:x,type:"submit",variant:"outlined",size:"medium",color:"primary",disabled:g,startIcon:(0,r.jsx)(m.Z,{icon:"material-symbols:save"}),children:"Salvar"}),n&&2==D.papelID&&(0,r.jsx)(c.Z,{onClick:h,type:"button",variant:"contained",size:"medium",color:"primary",disabled:g,sx:{ml:2},startIcon:(0,r.jsx)(m.Z,{icon:"carbon:send-filled"}),children:"Enviar Formul\xe1rio"}),E&&t&&I.find(e=>e.rota===O&&e.editar)&&(0,r.jsx)("div",{className:"\n                                ".concat(E?"fadeIn":"fadeOut","\n                            "),style:{position:"fixed",bottom:"40px",right:"30px",zIndex:"5555",textAlign:"center"},children:(0,r.jsx)(j.Z,{color:"primary",size:"large",onClick:x,type:"submit",variant:"contained",disabled:g,children:(0,r.jsx)(m.Z,{icon:"material-symbols:save"})})})]})]})})};var C=b},46749:function(e,o,t){t.d(o,{Lo:function(){return m},OD:function(){return u},OE:function(){return x},OL:function(){return d},WR:function(){return c},g_:function(){return p}});var r=t(85893),n=t(29630),a=t(41664),i=t.n(a),l=t(7071);t(67294),t(40039);var s=t(60664);let c={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"},10:{title:"Pendente",color:"warning"},20:{title:"Acessou link",color:"info"},30:{title:"Em preenchimento",color:"warning"},40:{title:"Conclu\xeddo",color:"primary"},50:{title:"Reprovado",color:"error"},60:{title:"Aprovado Parcial",color:"warning"},70:{title:"Aprovado",color:"success"}},d=(e,o)=>o.map((t,a)=>{let s=o[a].field;return{...t,flex:t.size,renderCell:t=>(0,r.jsx)(i(),{href:"".concat(e,"/").concat(t.row.id),children:(0,r.jsx)(n.Z,{variant:"body2",sx:{color:"text.primary"},children:o&&o.map((e,o)=>{if(e.field===s){if("status"!=e.field)return t.row[e.field];{let n=c[t.row.status];return(0,r.jsx)(l.Z,{size:"small",skin:"light",color:n.color,label:n.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},o)}}})})})}}),u={successNew:"Dados salvos com sucesso!",successUpdate:"Dados atualizados com sucesso!",errorNew:"Erro ao salvar os dados!",errorRepeated:"Dados j\xe1 existentes!",errorUpdate:"Erro ao atualizar os dados!",errorDelete:"Erro ao excluir os dados!",successDelete:"Dados exclu\xeddos com sucesso!",pendingDelete:"Dado n\xe3o pode ser excluido, pois j\xe1 est\xe1 sendo utilizado!",errorGet:"Erro ao obter os dados!",successGet:"Dados obtidos com sucesso!"},m=e=>{let o=e.split("/"),t=o[o.length-1];return"novo"==t?"new":"edit"},p=e=>{let o=e.split("/");return o.pop(),o.join("/")},x=e=>{let o=e.route;s.h.post(o,e.params,{responseType:"arraybuffer"}).then(e=>{let o=new Blob([e.data],{type:"application/pdf"}),t=URL.createObjectURL(o);window.open(t,"_blank")}).catch(e=>{console.error("Erro ao gerar relat\xf3rio",e)})}}}]);