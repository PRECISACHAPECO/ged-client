(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5537],{89191:function(e,t,r){"use strict";r.d(t,{Z:function(){return D}});var n=r(85893),o=r(11163),i=r.n(o),a=r(67294),s=r(91359),l=r(61953),d=r(75084),c=r(72389),u=r(41664),p=r.n(u),m=r(21609),f=r(46749),x=r(73812),b=r(86378),h=r(9942),g=r(60565);function v(e){let{disabled:t,dataReports:r,open:o,anchorEl:i,handleClick:s,handleClose:l}=e,{generateReport:d}=(0,a.useContext)(g.f);return(0,n.jsx)("div",{children:(0,n.jsx)(x.Z,{id:"fade-menu",MenuListProps:{"aria-labelledby":"fade-button"},anchorEl:i,open:o,onClose:l,TransitionComponent:h.Z,children:r.map(e=>(0,n.jsxs)(b.Z,{onClick(){l(),d(e)},children:[(0,n.jsx)("span",{children:e.identification}),(0,n.jsx)("span",{style:{padding:"0 5px"},children:"-"}),(0,n.jsx)("span",{children:e.name})]},e.id))})})}var y=r(40039),j=r(10160);let w=e=>{let{btnCancel:t,btnSave:r,btnSend:o,btnChangeStatus:u,handleSubmit:x,disabledSubmit:b,handleSend:h,disabledSend:w,handleChangeStatus:D,btnDelete:Z,onclickDelete:C,btnPrint:k,disabled:z,dataReports:I}=e,S=i(),{user:E,routes:T}=(0,a.useContext)(y.V),{generateReport:Y}=(0,a.useContext)(g.f),[O,F]=(0,a.useState)(!1),[L,M]=(0,a.useState)(null),N=Boolean(L),R=e=>{M(e.currentTarget)},_=()=>{M(null)},A=(()=>{let e=S.pathname.split("/").slice(0,-1).join("/");return e||S.pathname})(),U=()=>{window.scrollTo({top:0,behavior:"smooth"})},P=()=>{window.history.back()};return(0,a.useEffect)(()=>{let e=()=>{F(!1),window.scrollY>0?F(!0):F(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)(l.Z,{sx:{display:"flex",gap:"8px"},children:[t&&(0,n.jsx)(p(),{href:(0,f.g_)(S.pathname),children:(0,n.jsx)(d.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,n.jsx)(m.Z,{icon:"material-symbols:arrow-back-rounded"})})}),Z&&T.find(e=>e.rota===A&&e.excluir)&&(0,n.jsx)(d.Z,{type:"button",onClick:C,variant:"outlined",color:"error",size:"medium",startIcon:(0,n.jsx)(m.Z,{icon:"material-symbols:delete-outline"}),children:"Excluir"}),u&&(0,n.jsx)(d.Z,{type:"button",onClick:D,variant:"outlined",color:"primary",size:"medium",startIcon:(0,n.jsx)(m.Z,{icon:"fluent:status-12-filled"}),children:"Status"})]}),(0,n.jsxs)(l.Z,{sx:{display:"flex",gap:"8px"},children:[k&&1===I.length&&(0,n.jsx)(d.Z,{id:"fade-button","aria-controls":N?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":N?"true":void 0,onClick:()=>Y(I[0]),color:"primary",disabled:z,variant:"outlined",size:"medium",type:"button",startIcon:(0,n.jsx)(m.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),k&&I.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{id:"fade-button","aria-controls":N?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":N?"true":void 0,onClick:R,color:"primary",disabled:z,variant:"outlined",size:"medium",type:"button",startIcon:(0,n.jsx)(m.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),(0,n.jsx)(v,{generateReport:Y,dataReports:I,handleClick:R,handleClose:_,open:N,anchorEl:L})]}),r&&T.find(e=>e.rota===A&&e.editar)&&(0,n.jsx)(d.Z,{onClick:x,type:"submit",variant:"outlined",size:"medium",color:"primary",disabled:z||b,startIcon:(0,n.jsx)(m.Z,{icon:"material-symbols:save"}),children:"Salvar"}),o&&(0,n.jsx)(d.Z,{onClick:h,type:"button",variant:"contained",size:"medium",color:"primary",disabled:z||w,sx:{ml:2},startIcon:(0,n.jsx)(m.Z,{icon:"carbon:send-filled"}),children:"Concluir Formul\xe1rio"}),(0,n.jsx)("div",{className:"\n                        ".concat(O?"fadeIn":"hidden"," trasition duration-200 fixed bottom-10 right-8 z-50 flex flex-col-reverse gap-3\n                    "),children:[{id:1,title:"Salvar",color:"primary",size:"large",type:"submit",variant:"contained",disabled:z||b,icon:"material-symbols:save",function:x},{id:2,title:"Imprimir",color:"default",size:"large",type:"button",variant:"outlined",disabled:!1,icon:"material-symbols:print",function:R},{id:3,title:"Voltar ao topo",color:"default",size:"large",type:"button",variant:"outlined",disabled:!1,icon:"ion:arrow-up",function:U},{id:4,title:"Voltar para a p\xe1gina anterior",color:"default",size:"large",type:"button",variant:"outlined",disabled:!1,icon:"material-symbols:arrow-back-rounded",function:P}].map(e=>(1!==e.id||r&&T.find(e=>e.rota===A&&e.editar))&&(2!==e.id||k)?(0,n.jsx)(c.Z,{title:e.title,placement:"left",children:(0,n.jsx)("div",{children:(0,n.jsx)(j.Z,{color:e.color,size:"large",onClick:e.function,variant:"contained",type:e.type,disabled:e.disabled,children:(0,n.jsx)(m.Z,{icon:e.icon})})},e.id)},e.id):null)})]})]})})};var D=w},49540:function(e,t,r){"use strict";r.d(t,{X1:function(){return d},p6:function(){return s},q:function(){return l}});var n=r(30381),o=r.n(n),i=r(68214),a=r.n(i);function s(e,t){let r=o()(e),n=r.format(t);return n}function l(e){let t=a()(e).toString();return t}function d(e){return e.replace(/[^0-9]/g,"")}},46749:function(e,t,r){"use strict";r.d(t,{HD:function(){return b},Lo:function(){return m},OD:function(){return p},OE:function(){return x},OL:function(){return u},WR:function(){return c},g_:function(){return f}});var n=r(85893),o=r(29630),i=r(49540),a=r(41664),s=r.n(a),l=r(7071);r(67294),r(40039);var d=r(60664);r(50196);let c={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"},10:{title:"Pendente",color:"warning"},20:{title:"Acessou link",color:"info"},30:{title:"Em preenchimento",color:"warning"},40:{title:"Conclu\xeddo",color:"primary"},50:{title:"Reprovado",color:"error"},60:{title:"Aprovado Parcial",color:"warning"},70:{title:"Aprovado",color:"success"}},u=(e,t)=>t.map((r,i)=>{let a=t[i].field;return{...r,flex:r.size,renderCell:r=>(0,n.jsx)(s(),{href:"".concat(e,"/").concat(r.row.id),children:(0,n.jsx)(o.Z,{variant:"body2",sx:{color:"text.primary"},children:t&&t.map((e,t)=>{if(e.field===a){if("status"!=e.field)return r.row[e.field];{let o=c[r.row.status];return(0,n.jsx)(l.Z,{size:"small",skin:"light",color:o.color,label:o.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},t)}}})})})}}),p={successNew:"Dados salvos com sucesso!",successUpdate:"Dados atualizados com sucesso!",errorNew:"Erro ao salvar os dados!",errorRepeated:"Dados j\xe1 existentes!",errorUpdate:"Erro ao atualizar os dados!",errorDelete:"Erro ao excluir os dados!",successDelete:"Dados exclu\xeddos com sucesso!",pendingDelete:"Dado n\xe3o pode ser excluido, pois j\xe1 est\xe1 sendo utilizado!",errorGet:"Erro ao obter os dados!",successGet:"Dados obtidos com sucesso!"},m=e=>{let t=e.split("/"),r=t[t.length-1];return"novo"==r?"new":"edit"},f=e=>{let t=e.split("/");return t.pop(),t.join("/")},x=e=>{let t=e.route;d.h.post(t,e.params,{responseType:"arraybuffer"}).then(e=>{let t=new Blob([e.data],{type:"application/pdf"}),r=URL.createObjectURL(t);window.open(r,"_blank")}).catch(e=>{console.error("Erro ao gerar relat\xf3rio",e)})};function b(e,t,r){return g(e,t,r)}function h(e,t){let r=new Date,n=new Date(r);"=="===e?n.setDate(n.getDate()+t):">="===e?n.setDate(n.getDate()+t):"<="===e&&n.setDate(n.getDate()-t);let o=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0"),s="".concat(o,"-").concat(i,"-").concat(a);return s}let g=(e,t,r)=>{console.log("\uD83D\uDE80 ~ numDays:",r);let n=new Date;n.setUTCHours(0,0,0,0);let o=new Date(t);o.setUTCHours(0,0,0,0);let a="dataAtual"==e?"==":"dataPassado"==e?"<=":"dataFutura"==e?">=":"==";if(!a)return;let s="",l="";"<="==a?(l=h(a,r),s=n.toISOString().substr(0,10)):">="==a?(l=n.toISOString().substr(0,10),s=h(a,r)):(l=n.toISOString().substr(0,10),s=n.toISOString().substr(0,10));let d="",c=()=>(console.log("type",a),d="=="==a?"A data deve ser a atual":"<="==a?"Insira uma data entre hoje e ".concat((0,i.p6)(l,"DD/MM/YYYY"),"."):">="==a?"Insira uma data entre hoje e ".concat((0,i.p6)(s,"DD/MM/YYYY"),"."):"");if(isNaN(o.getTime()))return c(),{status:!1,dataIni:l,dataFim:s,message:d};{let u=o.getTime(),p=new Date(l).getTime(),m=new Date(s).getTime(),f=u>=p&&u<=m,x=!!f;return f||x||(console.log("\xe9 diferente do periodo"),c()),{status:x,dataIni:l,dataFim:s,message:!f&&!x&&d}}}},42480:function(){}}]);