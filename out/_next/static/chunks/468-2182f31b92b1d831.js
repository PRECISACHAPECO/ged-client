"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{19550:function(e,a,t){var o=t(62097),n=t(5026);let s=()=>{let e=(0,o.Z)();return{primaryFilled:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},primaryLight:{color:e.palette.primary.main,backgroundColor:(0,n.E)(e.palette.primary.main,.12)},secondaryFilled:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main},secondaryLight:{color:e.palette.secondary.main,backgroundColor:(0,n.E)(e.palette.secondary.main,.12)},successFilled:{color:e.palette.success.contrastText,backgroundColor:e.palette.success.main},successLight:{color:e.palette.success.main,backgroundColor:(0,n.E)(e.palette.success.main,.12)},errorFilled:{color:e.palette.error.contrastText,backgroundColor:e.palette.error.main},errorLight:{color:e.palette.error.main,backgroundColor:(0,n.E)(e.palette.error.main,.12)},warningFilled:{color:e.palette.warning.contrastText,backgroundColor:e.palette.warning.main},warningLight:{color:e.palette.warning.main,backgroundColor:(0,n.E)(e.palette.warning.main,.12)},infoFilled:{color:e.palette.info.contrastText,backgroundColor:e.palette.info.main},infoLight:{color:e.palette.info.main,backgroundColor:(0,n.E)(e.palette.info.main,.12)}}};a.Z=s},60033:function(e,a,t){var o=t(85893),n=t(11163),s=t.n(n),r=t(91359),l=t(61953),i=t(75084),c=t(41664),d=t.n(c),u=t(21609),x=t(20102);let m=e=>{let{btnCancel:a,btnSave:t,handleSubmit:n,btnDelete:c,onclickDelete:m}=e,h=s();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(r.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsxs)(l.Z,{sx:{display:"flex",gap:"8px"},children:[a&&(0,o.jsx)(d(),{href:(0,x.g_)(h.pathname),children:(0,o.jsx)(i.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,o.jsx)(u.Z,{icon:"material-symbols:arrow-back-rounded"})})}),c&&(0,o.jsx)(i.Z,{type:"button",onClick:m,variant:"outlined",color:"error",size:"medium",startIcon:(0,o.jsx)(u.Z,{icon:"material-symbols:delete-outline"}),children:"Excluir"})]}),(0,o.jsx)(l.Z,{sx:{display:"flex",gap:"8px"},children:t&&(0,o.jsx)(i.Z,{onClick:n,type:"submit",variant:"outlined",size:"medium",color:"primary",startIcon:(0,o.jsx)(u.Z,{icon:"material-symbols:save"}),children:"Salvar"})})]})})};a.Z=m},47842:function(e,a,t){var o=t(85893),n=t(70754),s=t(61953);let r=()=>(0,o.jsx)(s.Z,{sx:{position:"absolute",top:"50%",left:"50%"},children:(0,o.jsx)(n.Z,{})});a.Z=r},54468:function(e,a,t){var o=t(85893),n=t(67294),s=t(87536);t(74231);var r=t(49837),l=t(91359),i=t(79072),c=t(55343),d=t(67836),u=t(81284),x=t(95309),m=t(29630),h=t(35966),p=t(31944),j=t(22841),Z=t(15497),b=t(11163),g=t.n(b),v=t(20102),f=t(60664),C=t(60033),y=t(60565),k=t(40039),P=t(47842),D=t(86501),w=t(75158),S=t(66136),I=t(26829),L=t(50720),E=t(54623),F=t(27484),z=t.n(F);t(57548);let O=()=>{var e,a,t,b;let{user:F}=(0,n.useContext)(k.V),{setTitle:O}=(0,n.useContext)(y.f),[W,M]=(0,n.useState)(!1),[Q,V]=(0,n.useState)([]),[_,Y]=(0,n.useState)(null),[T,A]=(0,n.useState)([]),[N,R]=(0,n.useState)([]),[q,U]=(0,n.useState)([]),[G,B]=(0,n.useState)(""),J=g(),{id:H}=J.query,K=(0,v.g_)(J.pathname),{settings:X}=(0,n.useContext)(S.J6),$=X.mode,ee=e=>({backgroundColor:e%2!=1?"light"===$||"semi-dark"===$?"#F0F0F0":"#282a42":"inherit",padding:"0.5rem",borderBottom:"1px solid #4c4e641f",borderRadius:"0.2rem"});console.log("Renderizando..."),(0,n.useEffect)(()=>{O("Formul\xe1rio do Fornecedor"),f.h.get("".concat(K,"/").concat(F.unidadeID),{headers:{"function-name":"getData"}}).then(e=>{console.log("getData: ",e.data),V(e.data.fields),Y(e.data.data),A(e.data.atividades),R(e.data.sistemasQualidade),U(e.data.blocos),B(e.data.info)})},[]);let ea=_&&Q.reduce((e,a)=>(e[a.nomeColuna]=_[a.nomeColuna],e),{}),{register:et,control:eo,setValue:en,handleSubmit:es,formState:{errors:er}}=(0,s.cI)();console.log("errors: ",er);let el=async e=>{console.log("onSubmit: ",e),M(!0);try{await f.h.put("".concat(K,"/").concat(H),e).then(e=>{D.ZP.success(v.OD.successUpdate),M(!1)})}catch(a){console.log(a),M(!1)}},ei=e=>{let a=e.target.value;B({resultado:a})};return(0,o.jsxs)(o.Fragment,{children:[W&&(0,o.jsx)(P.Loading,{}),(0,o.jsxs)("form",{onSubmit:es(el),children:[(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(C.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>es(el)}),(0,o.jsxs)(l.Z,{children:[(0,o.jsx)(i.ZP,{container:!0,spacing:4,children:Q&&Q.map((a,t)=>{var n;return(0,o.jsx)(i.ZP,{item:!0,xs:12,md:3,children:(0,o.jsxs)(c.Z,{fullWidth:!0,children:[a&&"date"==a.tipo&&(0,o.jsx)(L._,{dateAdapter:I.y,children:(0,o.jsx)(E.M,{label:"Selecione uma data",locale:z().locale("pt-br"),format:"DD/MM/YYYY",defaultValue:z()(new Date),renderInput:e=>(0,o.jsx)(d.Z,{...e,variant:"outlined",name:"header.".concat(a.nomeColuna),...et("header.".concat(a.nomeColuna),{required:!!a.obrigatorio})})})}),a&&"string"==a.tipo&&(0,o.jsx)(d.Z,{label:a.nomeCampo,placeholder:a.nomeCampo,name:"header.".concat(a.nomeColuna),defaultValue:null!==(e=ea[a.nomeColuna])&&void 0!==e?e:"","aria-describedby":"validation-schema-nome",error:null!=er&&null!==(n=er.header)&&void 0!==n&&!!n[a.nomeColuna],...et("header.".concat(a.nomeColuna),{required:!!a.obrigatorio})})]})},t)})}),(0,o.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,o.jsxs)(i.ZP,{item:!0,xs:12,md:4,children:[(0,o.jsx)(u.ZP,{disablePadding:!0,children:(0,o.jsx)(x.Z,{children:(0,o.jsx)(m.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Atividades"})})}),T&&T.map((e,a)=>(0,o.jsx)(u.ZP,{disablePadding:!0,children:(0,o.jsxs)(x.Z,{children:[(0,o.jsx)("input",{type:"hidden",name:"atividades.[".concat(a,"].atividadeID"),defaultValue:e.atividadeID,...et("atividades.[".concat(a,"].atividadeID"))}),(0,o.jsx)(i.ZP,{item:!0,md:1,children:(0,o.jsx)(w.Z,{name:"atividades[".concat(a,"].checked"),...et("atividades[".concat(a,"].checked")),defaultChecked:1==e.checked})}),(0,o.jsx)(i.ZP,{item:!0,md:11,children:e.nome})]})},a))]}),(0,o.jsxs)(i.ZP,{item:!0,xs:12,md:4,children:[(0,o.jsx)(u.ZP,{disablePadding:!0,children:(0,o.jsx)(x.Z,{children:(0,o.jsx)(m.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Sistemas de Qualidade"})})}),N&&N.map((e,a)=>(0,o.jsx)(u.ZP,{disablePadding:!0,children:(0,o.jsxs)(x.Z,{children:[(0,o.jsx)("input",{type:"hidden",name:"sistemasQualidade.[".concat(a,"].sistemaQualidadeID"),defaultValue:e.sistemaQualidadeID,...et("sistemasQualidade.[".concat(a,"].sistemaQualidadeID"))}),(0,o.jsx)(i.ZP,{item:!0,md:1,children:(0,o.jsx)(w.Z,{name:"sistemasQualidade[".concat(a,"].checked"),...et("sistemasQualidade[".concat(a,"].checked")),defaultChecked:1==e.checked})}),(0,o.jsx)(i.ZP,{item:!0,md:11,children:e.nome})]})},a))]})]})]})]}),q&&q.map((e,n)=>(0,o.jsx)(r.Z,{sx:{mt:4},children:(0,o.jsx)(l.Z,{children:(0,o.jsxs)(i.ZP,{container:!0,children:[(0,o.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,o.jsx)(m.Z,{variant:"subtitle1",sx:{fontWeight:600},children:e.nome})}),e.itens&&e.itens.map((e,s)=>(0,o.jsxs)(i.ZP,{container:!0,sx:ee(s),children:[(0,o.jsx)(i.ZP,{item:!0,xs:12,md:6,sx:{display:"flex",alignItems:"center"},children:e.nome}),(0,o.jsx)(i.ZP,{item:!0,xs:12,md:3,children:(0,o.jsxs)(c.Z,{fullWidth:!0,children:[e.alternativas&&e.alternativas.length>1&&(0,o.jsx)(h.Z,{options:e.alternativas,getOptionLabel:e=>e.nome,onChange(e,a){en("blocos[".concat(n,"].itens[").concat(s,"].alternativaID"),null==a?void 0:a.alternativaID)},renderInput:e=>(0,o.jsx)(d.Z,{...e,label:"Selecione uma resposta",placeholder:"Selecione uma resposta",name:"blocos[".concat(n,"].itens[").concat(s,"].alternativa"),...et("blocos[".concat(n,"].itens[").concat(s,"].alternativa"))})}),0==e.alternativas.length&&"Data"==e.alternativa&&(0,o.jsx)(L._,{dateAdapter:I.y,children:(0,o.jsx)(E.M,{name:"blocos[".concat(n,"].itens[").concat(s,"].data"),label:"Selecione uma data",locale:z().locale("pt-br"),format:"DD/MM/YYYY",defaultValue:z()(new Date),renderInput:e=>(0,o.jsx)(d.Z,{...e,variant:"outlined"})})}),0==e.alternativas.length&&"Dissertativa"==e.alternativa&&(0,o.jsx)(d.Z,{multiline:!0,label:"Descreva a resposta",placeholder:"Descreva a resposta",name:"blocos[".concat(n,"].itens[").concat(s,"].resposta"),defaultValue:null!==(a=e.resposta)&&void 0!==a?a:"",...et("blocos[".concat(n,"].itens[").concat(s,"].resposta"))})]})}),e&&1==e.obs&&(0,o.jsx)(i.ZP,{item:!0,xs:12,md:3,children:(0,o.jsx)(c.Z,{fullWidth:!0,children:(0,o.jsx)(d.Z,{label:"Observa\xe7\xe3o",placeholder:"Observa\xe7\xe3o",name:"blocos[".concat(n,"].itens[").concat(s,"].observacao"),defaultValue:null!==(t=e.observacao)&&void 0!==t?t:"",...et("blocos[".concat(n,"].itens[").concat(s,"].observacao"))})})})]},s))]})})},n)),(0,o.jsx)(r.Z,{sx:{mt:4},children:(0,o.jsx)(l.Z,{children:(0,o.jsx)(i.ZP,{container:!0,spacing:4,children:(0,o.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,o.jsxs)(c.Z,{fullWidth:!0,children:[(0,o.jsx)(m.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Observa\xe7\xf5es (campo de uso exclusivo da validadora)"}),(0,o.jsx)(d.Z,{multiline:!0,rows:4,label:"Observa\xe7\xe3o (opcional)",placeholder:"Observa\xe7\xe3o (opcional)",name:"observacao",defaultValue:null!==(b=G.observacao)&&void 0!==b?b:"",...et("observacao")})]})})})})}),(0,o.jsx)(r.Z,{sx:{mt:4},children:(0,o.jsx)(l.Z,{children:(0,o.jsx)(i.ZP,{container:!0,spacing:4,children:(0,o.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,o.jsxs)(c.Z,{fullWidth:!0,children:[(0,o.jsx)(m.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Resultado"}),(0,o.jsx)(p.Z,{"aria-label":"resultado",name:"resultado",value:G.resultado,...et("resultado"),children:(0,o.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,o.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(j.Z,{control:(0,o.jsx)(Z.Z,{name:"resultado",value:1,checked:1==G.resultado,onChange:ei}),label:"Aprovado"})}),(0,o.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(j.Z,{control:(0,o.jsx)(Z.Z,{name:"resultado",value:2,checked:2==G.resultado,onChange:ei}),label:"Aprovado Parcial"})}),(0,o.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(j.Z,{control:(0,o.jsx)(Z.Z,{name:"resultado",value:3,checked:3==G.resultado,onChange:ei}),label:"Reprovado"})})]})})]})})})})})]})]})};a.Z=O},20102:function(e,a,t){t.d(a,{g_:function(){return p},OL:function(){return x},Lo:function(){return h},OD:function(){return m}});var o=t(85893),n=t(29630),s=t(41664),r=t.n(s),l=t(21448),i=t(86010),c=t(19550);let d=e=>{let{sx:a,skin:t,color:n,rounded:s}=e,r=(0,c.Z)(),d={primary:{...r.primaryLight},secondary:{...r.secondaryLight},success:{...r.successLight},error:{...r.errorLight},warning:{...r.warningLight},info:{...r.infoLight}},u={...e};return u.rounded=void 0,(0,o.jsx)(l.Z,{...u,variant:"filled",className:(0,i.Z)({"MuiChip-rounded":s,"MuiChip-light":"light"===t}),sx:"light"===t&&n?Object.assign(d[n],a):a})},u={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"}},x=(e,a)=>a.map((t,s)=>{let l=a[s].field;return{...t,flex:t.size,renderCell:t=>(0,o.jsx)(n.Z,{variant:"body2",sx:{color:"text.primary"},children:(0,o.jsx)(r(),{href:"".concat(e,"/").concat(t.row.id),children:a&&a.map((e,a)=>{if(e.field===l){if("status"!=e.field)return t.row[e.field];{let n=u[t.row.status];return(0,o.jsx)(d,{size:"small",skin:"light",color:n.color,label:n.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},a)}}})})})}}),m={successNew:"Dados salvos com sucesso!",successUpdate:"Dados atualizados com sucesso!",errorNew:"Erro ao salvar os dados!",errorRepeated:"Dados j\xe1 existentes!",errorUpdate:"Erro ao atualizar os dados!",errorDelete:"Erro ao excluir os dados!",successDelete:"Dados exclu\xeddos com sucesso!",pendingDelete:"Dado n\xe3o pode ser excluido, pois j\xe1 est\xe1 sendo utilizado!",errorGet:"Erro ao obter os dados!",successGet:"Dados obtidos com sucesso!"},h=e=>{let a=e.split("/"),t=a[a.length-1];return"novo"==t?"new":"edit"},p=e=>{let a=e.split("/");return a.pop(),a.join("/")}}}]);