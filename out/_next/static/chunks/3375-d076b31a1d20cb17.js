(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3375],{45061:function(e,a,t){"use strict";var o=t(85893),n=t(75084),s=t(29620),l=t(77745),r=t(95398),i=t(76779),d=t(44642);t(21609);var c=t(55343),u=t(67836),m=t(29630),x=t(19604),p=t(67294),h=t(82747);let g=e=>{let{title:a,text:t,handleClose:g,openModal:b,handleSubmit:v,cnpj:f,inputEmail:j,btnCancel:Z,btnConfirm:D,btnCancelColor:I,btnConfirmColor:C}=e,[S,y]=(0,p.useState)(null),[P,F]=(0,p.useState)(!1);return console.log("dialog email: ",S),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(s.Z,{open:b,onClose:g,"aria-labelledby":"form-dialog-title",children:[(0,o.jsx)(l.Z,{id:"form-dialog-title",children:a}),(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(d.Z,{sx:{mb:3},children:t}),j&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.Z,{sx:{mt:2},fullWidth:!0,children:[(0,o.jsx)(u.Z,{defaultValue:"",type:"email",label:"E-mail do Fornecedor (opcional)",placeholder:"E-mail do Fornecedor (opcional)","aria-describedby":"validation-schema-nome",name:"email",error:(null==S?void 0:S.length)>0&&P,inputProps:{onChange(e){y(e.target.value),F(!(0,h.dI)(e.target.value))}}}),(null==S?void 0:S.length)>0&&P&&(0,o.jsx)(m.Z,{variant:"body2",color:"error",children:"Por favor, insira um e-mail v\xe1lido!"})]}),(0,o.jsx)(x.Z,{severity:"info",sx:{mt:2},children:"Se o e-mail for preenchido, o mesmo receber\xe1 as instru\xe7\xf5es de cadastro e preenchimento do formul\xe1rio no e-mail."})]})]}),(0,o.jsxs)(i.Z,{className:"dialog-actions-dense",children:[Z&&(0,o.jsx)(n.Z,{variant:"outlined",color:"primary",onClick:g,children:"Cancelar"}),D&&(0,o.jsx)(n.Z,{variant:"contained",disabled:j&&(null==S?void 0:S.length)>0&&P,color:C||"error",onClick:j&&f?()=>{v(f,S),y(null),g()}:j&&!f?()=>{v(S),y(null),g()}:()=>{v(),g()},children:"Confirmar"})]})]})})};a.Z=g},18794:function(e,a,t){"use strict";t.d(a,{Z:function(){return eo}});var o=t(85893),n=t(67294),s=t(87536),l=t(21609),r=t(19604),i=t(49837),d=t(91359),c=t(79072),u=t(29630),m=t(61953),x=t(55343),p=t(35966),h=t(67836),g=t(81284),b=t(95309),v=t(22841),f=t(41470),j=t(15497),Z=t(11163),D=t.n(Z),I=t(46749),C=t(60664),S=t(89191),y=t(60565),P=t(40039),F=t(47842),k=t(49540),w=t(86501),A=t(75158),W=t(66136),V=t(34175),Y=t(7071),M=t(26829),O=t(50720),E=t(54623),R=t(13860),L=t.n(R);t(57548);var q=t(45061),z=t(75084),Q=t(29620),T=t(77745),_=t(95398),N=t(76779),B=t(44642),U=t(67074),$=t(17494),H=t(87413),J=t(72162),K=t(9601),X=t(51221),G=t(36599);let ee=(0,U.ZP)(G.Z)({paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}}),ea=e=>{var a;let{id:t,parFormularioID:s,formStatus:i,hasFormPending:d,title:c,text:g,handleClose:b,openModal:v,handleSubmit:f,btnCancel:j,btnConfirm:Z,btnConfirmColor:D}=e,[S,y]=(0,n.useState)(!1),{user:F,loggedUnity:k}=(0,n.useContext)(P.V),[w,A]=(0,n.useState)(null),[W,V]=(0,n.useState)(!1);console.log("selectedStatus: ",w);let M=async()=>{try{await C.h.post("/formularios/fornecedor/getMovementHistory/".concat(t),{parFormularioID:s}).then(e=>{console.log("\uD83D\uDE80 ~ response:",e.data),y(e.data)})}catch(e){console.log(e)}},O=[];for(let E in I.WR)parseInt(E)>=10&&30>=parseInt(E)&&parseInt(E)!=i&&O.push({id:parseInt(E),nome:I.WR[E].title});return(0,n.useEffect)(()=>{console.log("entrou no useeffect..."),M()},[W]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Q.Z,{open:v,onClose:b,"aria-labelledby":"form-dialog-title",children:[(0,o.jsx)(T.Z,{id:"form-dialog-title",children:c}),(0,o.jsxs)(_.Z,{children:[(0,o.jsx)(B.Z,{sx:{mb:3},children:g}),F&&1==F.papelID&&!d&&i>30&&(0,o.jsx)(m.Z,{children:(0,o.jsx)(x.Z,{fullWidth:!0,children:(0,o.jsx)(p.Z,{options:O,defaultValue:O.find(e=>e.id===w),id:"autocomplete-outlined",getOptionLabel:e=>e.nome,onChange(e,a){A(null==a?void 0:a.id)},renderInput:e=>(0,o.jsx)(h.Z,{...e,name:"formulario.status",label:"Alterar Status do Formul\xe1rio",placeholder:"Alterar Status do Formul\xe1rio"})})})}),F&&1==F.papelID&&d&&(0,o.jsx)(r.Z,{severity:"warning",sx:{mb:4},children:"O Status n\xe3o pode mais ser alterado pois j\xe1 est\xe1 sendo utilizado em outro formul\xe1rio!"}),(0,o.jsx)(m.Z,{children:(0,o.jsx)(ee,{children:S&&S.length>0&&S.map((e,a)=>(0,o.jsxs)(H.Z,{children:[(0,o.jsxs)(K.Z,{children:[(0,o.jsx)($.Z,{color:I.WR[e.statusAtual].color}),(0,o.jsx)(X.Z,{})]}),(0,o.jsxs)(J.Z,{sx:{"& svg":{verticalAlign:"bottom",mx:4}},children:[(0,o.jsxs)(m.Z,{sx:{mb:2,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsxs)(u.Z,{variant:"body2",sx:{mr:2,fontWeight:600,color:"text.primary"},children:[e.data+" - "+e.hora+" ",0==a&&(0,o.jsx)(Y.Z,{size:"small",skin:"light",color:I.WR[e.statusAtual].color,label:"Atual",sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,o.jsx)(u.Z,{variant:"caption",children:e.usuario})]}),(0,o.jsxs)(u.Z,{variant:"body2",sx:{color:"text.primary"},children:[(0,o.jsx)("span",{children:I.WR[e.statusAnterior].title}),(0,o.jsx)(l.Z,{icon:"mdi:arrow-right",fontSize:20}),(0,o.jsx)("span",{children:I.WR[e.statusAtual].title})]}),(0,o.jsx)(u.Z,{variant:"caption",children:e.unidade})]})]}))})})]}),(0,o.jsxs)(N.Z,{className:"dialog-actions-dense",children:[j&&(0,o.jsx)(z.Z,{variant:"outlined",color:"primary",onClick:b,children:"Fechar"}),Z&&F&&1==F.papelID&&!d&&(0,o.jsx)(z.Z,{variant:"contained",color:"primary",onClick:()=>V(!0),disabled:!w,children:"Confirmar"})]})]}),(0,o.jsx)(q.Z,{openModal:W,handleClose:()=>V(!1),title:"Confirmar Altera\xe7\xe3o",text:'Deseja realmente alterar o status do formul\xe1rio para "'.concat(null===(a=I.WR[w])||void 0===a?void 0:a.title,'" ? O mesmo ficar\xe1 dispon\xedvel para a edi\xe7\xe3o do Fornecedor novamente.'),btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary",handleSubmit(){f(w),V(!1),A(null)}})]})},et=()=>{var e,a,t;let{user:Z,loggedUnity:R}=(0,n.useContext)(P.V),{setTitle:z}=(0,n.useContext)(y.f),[Q,T]=(0,n.useState)(!1),[_,N]=(0,n.useState)(!1),[B,U]=(0,n.useState)([]),[$,H]=(0,n.useState)(null),[J,K]=(0,n.useState)([]),[X,G]=(0,n.useState)([]),[ee,et]=(0,n.useState)([]),[eo,en]=(0,n.useState)([]),[es,el]=(0,n.useState)([]),[er,ei]=(0,n.useState)(""),[ed,ec]=(0,n.useState)(!1),[eu,em]=(0,n.useState)(null),[ex,ep]=(0,n.useState)(null),[eh,eg]=(0,n.useState)(!1),[eb,ev]=(0,n.useState)(!1),[ef,ej]=(0,n.useState)(!0),[eZ,eD]=(0,n.useState)(null),[eI,eC]=(0,n.useState)(0),[eS,ey]=(0,n.useState)([]),[eP,eF]=(0,n.useState)({status:!1,message:"Voce nao tem permissoes mais garoto...",messageType:"info"}),ek=D(),{id:ew}=ek.query,eA=(0,I.g_)(ek.pathname),eW=(0,I.Lo)(ek.pathname),{settings:eV}=(0,n.useContext)(W.J6);eV.mode;let eY=$&&B.reduce((e,a)=>{if(a.tabela){var t,o;e[a.tabela]={id:null===(t=$[a.tabela])||void 0===t?void 0:t.id,nome:null===(o=$[a.tabela])||void 0===o?void 0:o.nome}}else{let n=R[a.nomeColuna];e[a.nomeColuna]=$[a.nomeColuna]?$[a.nomeColuna]:n||null}return e},{}),{watch:eM,register:eO,control:eE,setValue:eR,handleSubmit:eL,formState:{errors:eq}}=(0,s.cI)(),ez=(e,a)=>{e.map((e,a)=>{e.tabela?eR("header.".concat(e.tabela),null==eY?void 0:eY[e.tabela]):"date"==e.tipo?(console.log("seta padrao na dataaaa: ",(0,k.p6)(null==eY?void 0:eY[e.nomeColuna],"DD/MM/YYYY")),eR("header.".concat(e.nomeColuna),(0,k.p6)(null==eY?void 0:eY[e.nomeColuna],"DD/MM/YYYY"))):eR("header.".concat(e.nomeColuna),null==eY?void 0:eY[e.nomeColuna])}),a.map((e,a)=>{e.itens.map((e,t)=>{eR("blocos[".concat(a,"].itens[").concat(t,"].respostaID"),null==e?void 0:e.respostaID),eR("blocos[".concat(a,"].itens[").concat(t,"].resposta"),null==e?void 0:e.resposta)})})},eQ=(e,a)=>!1,eT=async()=>{try{await C.h.post("/formularios/fornecedor/verifyFormPending/".concat(ew),{parFormularioID:1}).then(e=>{ej(e.data) //! true/false
})}catch(e){console.log(e)}},e_=async e=>{let a={status:e,auth:{usuarioID:Z.usuarioID,papelID:Z.papelID,unidadeID:R.unidadeID}};try{N(!0),await C.h.post("".concat(eA,"/reOpenFormStatus/").concat(ew),a).then(e=>{w.ZP.success(I.OD.successUpdate),N(!1)})}catch(t){console.log(t)}},eN=async()=>{let e={status:{edit:eh,status:er.status},auth:{usuarioID:Z.usuarioID,papelID:Z.papelID,unidadeID:R.unidadeID}};if(eh){console.log("updateFormStatus: ",e);try{N(!0),await C.h.post("".concat(eA,"/updateFormStatus/").concat(ew),e).then(e=>{w.ZP.success(I.OD.successUpdate),N(!1)})}catch(a){console.log(a)}}else w.ZP.error("N\xe3o h\xe1 dados a serem atualizados!")},eB=e=>{let a=e.target.value,t={...er,status:a};ei(t)},eU=async()=>{let e={usuarioID:Z.usuarioID,unidadeID:R.unidadeID,papelID:Z.papelID};try{N(!0),await C.h.post("".concat(eA,"/conclusionAndSendForm/").concat(ew),e).then(e=>{201===e.status?w.ZP.error("Erro ao concluir o formul\xe1rio!"):202===e.status?(w.ZP.error("Erro ao realizar o envio de email para ".concat(Z.email)),w.ZP.success("Formul\xe1rio conclu\xeddo com sucesso!"),eG()):w.ZP.success("Formul\xe1rio conclu\xeddo com sucesso!"),ec(!1),N(!1)})}catch(a){console.log(a)}},e$=e=>{if(9==e.length){let a=e.replace(/[^0-9]/g,"");C.h.get("https://viacep.com.br/ws/".concat(a,"/json/")).then(e=>{e.data.localidade?(eR("header.logradouro",e.data.logradouro),eR("header.bairro",e.data.bairro),eR("header.cidade",e.data.localidade),eR("header.estado",e.data.uf),w.ZP.success("Endere\xe7o encontrado!")):w.ZP.error("Endere\xe7o n\xe3o encontrado!")})}},eH=[{id:1,name:"Formul\xe1rio do fornecedor",component:"Fornecedor",papelID:Z.papelID,identification:"01",params:{fornecedorID:ew}},{id:2,name:"Recep\xe7\xe3o",component:"Fornecedor",papelID:Z.papelID,identification:"02"}],eJ=(e,a)=>{let t=[];e.map((e,o)=>{eX(e.categorias,a)&&t.push(e)}),el(t)},eK=(e,a)=>{let t=J.map(t=>t.categoriaID===e?{...t,checked:a}:t);K(t),eJ(eo,t)},eX=(e,a)=>{let t=e.map(e=>e.categoriaID),o=a.filter(e=>e.checked).map(e=>e.categoriaID);if(t.length!==o.length)return!1;let n=[...t].sort(),s=[...o].sort();for(let l=0;l<n.length;l++)if(n[l]!==s[l])return!1;return!0},eG=()=>{try{T(!0),C.h.get("".concat(eA,"/").concat(ew)).then(e=>{var a;console.log("getData: ",e.data),U(e.data.fields),K(e.data.categorias),G(e.data.atividades),et(e.data.sistemasQualidade),en(e.data.blocos),eJ(e.data.blocos,e.data.categorias),H(e.data.data),ei(e.data.info),em(e.data.unidade),ez(e.data.fields,e.data.blocos);let t=I.WR[e.data.info.status];ep(t),eF({status:2==Z.papelID&&e.data.info.status<40,message:2==Z.papelID?"Esse formul\xe1rio j\xe1 foi conclu\xeddo e enviado pra f\xe1brica, n\xe3o \xe9 mais poss\xedvel alterar as informa\xe7\xf5es!":"Somente o fornecedor pode alterar as informa\xe7\xf5es deste formul\xe1rio!",messageType:2==Z.papelID?"warning":"info"}),eD(null===(a=e.data.data)||void 0===a?void 0:a.registroestabelecimento),T(!1)})}catch(e){console.log(e)}},e0=()=>{ek.push("/formularios/fornecedor/"),w.ZP.error("Voc\xea n\xe3o tem permiss\xf5es para acessar esta p\xe1gina!")},e1=async()=>{console.log("handleSendForm....."),eL(e4)(!0)},e4=async(e,a)=>{a?(e2(e),ec(!0)):(e2(e),ec(!1))},e2=async e=>{let a={forms:{...e,header:{...e.header}},auth:{usuarioID:Z.usuarioID,papelID:Z.papelID,unidadeID:R.unidadeID}};console.log("submit data: ",a.forms.header);try{N(!0),await C.h.put("".concat(eA,"/").concat(ew),a).then(e=>{w.ZP.success(I.OD.successUpdate),N(!1)})}catch(t){console.log(t)}};return(0,n.useEffect)(()=>{z("Formul\xe1rio do Fornecedor"),"edit"==eW?eG():e0(),eT()},[_]),(0,o.jsxs)(o.Fragment,{children:[Q&&(0,o.jsx)(F.Z,{}),$&&(0,o.jsxs)("form",{onSubmit:eL(e=>{eP.status?e4(e,!1):eN()}),children:[es&&0===es.length&&(0,o.jsx)(r.Z,{severity:"warning",sx:{mb:2},children:"N\xe3o h\xe1 nenhum bloco dispon\xedvel para as categorias selecionadas!"}),!eP.status&&(0,o.jsx)(r.Z,{severity:eP.messageType,sx:{mb:2},children:eP.message}),(0,o.jsxs)(i.Z,{children:[(0,o.jsx)(S.Z,{btnCancel:!0,btnChangeStatus:!0,btnSave:eP.status||1==Z.papelID&&er.status>=40,btnSend:2==Z.papelID&&er.status<40,btnPrint:!0,dataReports:eH,handleSubmit:e=>eL(e4),disabledSubmit:0===es.length,disabledSend:0===es.length,handleSend:e1,handleChangeStatus:()=>ev(!0),title:"Fornecedor"}),(0,o.jsxs)(d.Z,{children:[eu&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("input",{type:"hidden",value:eu.unidadeID,name:"unidadeID",...eO("unidadeID")}),(0,o.jsxs)(c.ZP,{container:!0,spacing:4,children:[(0,o.jsxs)(c.ZP,{item:!0,xs:12,md:6,children:[(0,o.jsx)(u.Z,{variant:"caption",children:"F\xe1brica:"}),(0,o.jsx)(u.Z,{variant:"subtitle1",sx:{fontWeight:600},children:eu.nomeFantasia})]}),(0,o.jsx)(c.ZP,{item:!0,xs:12,md:6,children:ex&&(0,o.jsx)(m.Z,{display:"flex",alignItems:"center",justifyContent:"flex-end",children:(0,o.jsx)(Y.Z,{size:"small",skin:"light",color:ex.color,label:ex.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})})})]})]}),(0,o.jsx)(c.ZP,{container:!0,spacing:4,sx:{mt:4},children:B&&B.map((e,a)=>{var t,n;return(0,o.jsx)(c.ZP,{item:!0,xs:12,md:3,children:(0,o.jsxs)(x.Z,{fullWidth:!0,children:[e&&"int"===e.tipo&&e.tabela&&(0,o.jsx)(p.Z,{disabled:!eP.status,options:e.options,getOptionSelected:(e,a)=>e.id===a.id,defaultValue:(null==eY?void 0:null===(t=eY[e.tabela])||void 0===t?void 0:t.id)?eY[e.tabela]:null,getOptionLabel:e=>e.nome,name:"header.".concat(e.tabela),...eO("header.".concat(e.tabela),{required:!!e.obrigatorio}),onChange(a,t){eR("header.".concat(e.tabela),t||""),"registroestabelecimento"==e.tabela&&eD(eM("header.registroestabelecimento"))},renderInput(a){var t;return(0,o.jsx)(h.Z,{...a,label:e.nomeCampo,placeholder:e.nomeCampo,error:null!=eq&&null!==(t=eq.header)&&void 0!==t&&!!t[e.tabela]})}}),e&&"date"==e.tipo&&(0,o.jsx)(O._,{dateAdapter:M.y,children:(0,o.jsx)(E.M,{label:"Selecione uma data",disabled:!eP.status,format:"DD/MM/YYYY",defaultValue:L()((0,k.p6)(null==eY?void 0:eY[e.nomeColuna],"DD-MM-YYYY")),name:"header.".concat(e.nomeColuna),...eO("header.".concat(e.nomeColuna),{required:e.obrigatorio&&eP.status}),required:!0,renderInput:e=>(0,o.jsx)(h.Z,{...e,variant:"outlined"})})}),e&&"string"==e.tipo&&("numeroRegistro"!=e.nomeColuna||(null==eZ?void 0:eZ.id)>1)&&(0,o.jsx)(h.Z,{defaultValue:eY?eY[e.nomeColuna]:"",label:e.nomeCampo,disabled:!eP.status,placeholder:e.nomeCampo,name:"header.".concat(e.nomeColuna),"aria-describedby":"validation-schema-nome",error:null!=eq&&null!==(n=eq.header)&&void 0!==n&&!!n[e.nomeColuna],...eO("header.".concat(e.nomeColuna),{required:!!e.obrigatorio&&eP.status}),onChange(a){"cnpj"==e.nomeColuna?a.target.value=(0,V.PK)(a.target.value):"cep"==e.nomeColuna?(a.target.value=(0,V.Tc)(a.target.value),e$(a.target.value)):"telefone"==e.nomeColuna?a.target.value=(0,V.Bk)(a.target.value):"estado"==e.nomeColuna?a.target.value=(0,V.CL)(a.target.value):a.target.value=a.target.value},inputProps:"cnpj"==e.nomeColuna?{maxLength:18}:"cep"==e.nomeColuna?{maxLength:9}:"telefone"==e.nomeColuna?{maxLength:15}:"estado"==e.nomeColuna?{maxLength:2}:{}})]})},a)})}),(0,o.jsxs)(c.ZP,{container:!0,spacing:4,children:[(0,o.jsxs)(c.ZP,{item:!0,xs:12,md:4,children:[(0,o.jsx)(g.ZP,{disablePadding:!0,children:(0,o.jsx)(b.Z,{children:(0,o.jsx)(u.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Categorias"})})}),J&&J.map((e,a)=>(0,o.jsx)(g.ZP,{disablePadding:!0,children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)("input",{type:"hidden",name:"categorias.[".concat(a,"].categoriaID"),defaultValue:e.categoriaID,...eO("categorias.[".concat(a,"].categoriaID"))}),(0,o.jsx)(v.Z,{control:(0,o.jsx)(A.Z,{name:"categorias[".concat(a,"].checked"),disabled:!eP.status,...eO("categorias[".concat(a,"].checked")),defaultChecked:1==e.checked,onClick:a=>eK(e.categoriaID,a.target.checked)}),label:e.nome})]})},a))]}),(0,o.jsxs)(c.ZP,{item:!0,xs:12,md:4,children:[(0,o.jsx)(g.ZP,{disablePadding:!0,children:(0,o.jsx)(b.Z,{children:(0,o.jsx)(u.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Atividades"})})}),X&&X.map((e,a)=>(0,o.jsx)(g.ZP,{disablePadding:!0,children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)("input",{type:"hidden",name:"atividades.[".concat(a,"].atividadeID"),defaultValue:e.atividadeID,...eO("atividades.[".concat(a,"].atividadeID"))}),(0,o.jsx)(v.Z,{control:(0,o.jsx)(A.Z,{name:"atividades[".concat(a,"].checked"),disabled:!eP.status,...eO("atividades[".concat(a,"].checked")),defaultChecked:1==e.checked}),label:e.nome})]})},a))]}),(0,o.jsxs)(c.ZP,{item:!0,xs:12,md:4,children:[(0,o.jsx)(g.ZP,{disablePadding:!0,children:(0,o.jsx)(b.Z,{children:(0,o.jsx)(u.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Sistemas de Qualidade"})})}),ee&&ee.map((e,a)=>(0,o.jsx)(g.ZP,{disablePadding:!0,children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)("input",{type:"hidden",name:"sistemasQualidade.[".concat(a,"].sistemaQualidadeID"),defaultValue:e.sistemaQualidadeID,...eO("sistemasQualidade.[".concat(a,"].sistemaQualidadeID"))}),(0,o.jsx)(v.Z,{control:(0,o.jsx)(A.Z,{name:"sistemasQualidade[".concat(a,"].checked"),disabled:!eP.status,...eO("sistemasQualidade[".concat(a,"].checked")),defaultChecked:1==e.checked}),label:e.nome})]})},a))]})]})]})]}),es&&es.map((t,n)=>(0,o.jsx)(i.Z,{sx:{mt:4},children:(0,o.jsx)(d.Z,{children:(0,o.jsxs)(c.ZP,{container:!0,children:[(0,o.jsx)("input",{type:"hidden",name:"blocos[".concat(n,"].parFornecedorBlocoID"),defaultValue:t.parFornecedorBlocoID,...eO("blocos[".concat(n,"].parFornecedorBlocoID"))}),(0,o.jsx)(c.ZP,{item:!0,xs:12,md:12,children:(0,o.jsx)(u.Z,{variant:"subtitle1",sx:{fontWeight:600},children:t.nome})}),t.itens&&t.itens.map((t,s)=>{var r,i,d;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(c.ZP,{container:!0,spacing:4,sx:{mb:4},children:[(0,o.jsx)("input",{type:"hidden",name:"blocos[".concat(n,"].itens[").concat(s,"].itemID"),defaultValue:t.itemID,...eO("blocos[".concat(n,"].itens[").concat(s,"].itemID"))}),(0,o.jsxs)(c.ZP,{item:!0,xs:12,md:6,sx:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,o.jsx)(m.Z,{children:(0,o.jsx)(l.Z,{icon:eQ(n,s)?"line-md:confirm-circle-twotone":"line-md:confirm-circle",style:{color:eQ(n,s)?"green":"gray",marginTop:"8px"}})}),(0,o.jsx)(m.Z,{children:t.ordem+" - "+t.nome})]}),(0,o.jsxs)(c.ZP,{item:!0,xs:12,md:3,children:[(0,o.jsx)("input",{type:"hidden",name:"blocos[".concat(n,"].itens[").concat(s,"].tipoAlternativa"),defaultValue:t.alternativa,...eO("blocos[".concat(n,"].itens[").concat(s,"].tipoAlternativa"))}),(0,o.jsxs)(x.Z,{fullWidth:!0,children:[t.alternativas&&t.alternativas.length>1&&(0,o.jsx)(p.Z,{options:t.alternativas,defaultValue:t.resposta?{nome:null==t?void 0:t.resposta}:{nome:""},id:"autocomplete-outlined",getOptionLabel:e=>e.nome,disabled:!eP.status,onChange(e,a){eR("blocos[".concat(n,"].itens[").concat(s,"].respostaID"),null==a?void 0:a.alternativaID)},renderInput(e){var a,l,r;return(0,o.jsx)(h.Z,{...e,name:"blocos[".concat(n,"].itens[").concat(s,"].resposta"),label:"Selecione uma resposta",placeholder:"Selecione uma resposta",...eO("blocos[".concat(n,"].itens[").concat(s,"].resposta"),{required:1==t.obrigatorio}),error:null!==(r=null==eq?void 0:null===(a=eq.blocos)||void 0===a?void 0:null===(l=a[n])||void 0===l?void 0:l.itens[s])&&void 0!==r&&!!r.resposta})}}),0==t.alternativas.length&&"Data"==t.alternativa&&(0,o.jsx)(O._,{dateAdapter:M.y,children:(0,o.jsx)(E.M,{label:"Selecione uma data",disabled:!eP.status,locale:L().locale("pt-br"),format:"DD/MM/YYYY",defaultValue:L()(new Date),name:"blocos[".concat(n,"].itens[").concat(s,"].resposta"),...eO("blocos[".concat(n,"].itens[").concat(s,"].resposta"),{required:1==t.obrigatorio}),onChange(e){eR("blocos[".concat(n,"].itens[").concat(s,"].resposta"),e||null)},renderInput(e){var a,t,l;return(0,o.jsx)(h.Z,{...e,variant:"outlined",error:null!==(l=null==eq?void 0:null===(a=eq.blocos)||void 0===a?void 0:null===(t=a[n])||void 0===t?void 0:t.itens[s])&&void 0!==l&&!!l.resposta})},required:!0})}),0==t.alternativas.length&&"Dissertativa"==t.alternativa&&(0,o.jsx)(h.Z,{multiline:!0,defaultValue:null!==(e=t.resposta)&&void 0!==e?e:"",label:"Descreva a resposta",disabled:!eP.status,placeholder:"Descreva a resposta",name:"blocos[".concat(n,"].itens[").concat(s,"].resposta"),...eO("blocos[".concat(n,"].itens[").concat(s,"].resposta"),{required:1==t.obrigatorio}),error:null!==(d=null==eq?void 0:null===(r=eq.blocos)||void 0===r?void 0:null===(i=r[n])||void 0===i?void 0:i.itens[s])&&void 0!==d&&!!d.resposta})]})]}),t&&1==t.obs&&(0,o.jsx)(c.ZP,{item:!0,xs:12,md:3,children:(0,o.jsx)(x.Z,{fullWidth:!0,children:(0,o.jsx)(h.Z,{label:"Observa\xe7\xe3o",placeholder:"Observa\xe7\xe3o",disabled:!eP.status,name:"blocos[".concat(n,"].itens[").concat(s,"].observacao"),defaultValue:null!==(a=t.observacao)&&void 0!==a?a:"",...eO("blocos[".concat(n,"].itens[").concat(s,"].observacao"))})})})]},s)})})]})})},n)),(0,o.jsx)(i.Z,{sx:{mt:4},children:(0,o.jsx)(d.Z,{children:(0,o.jsx)(c.ZP,{container:!0,spacing:4,children:(0,o.jsx)(c.ZP,{item:!0,xs:12,md:12,children:(0,o.jsxs)(x.Z,{fullWidth:!0,children:[(0,o.jsx)(u.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Observa\xe7\xf5es (campo de uso exclusivo da validadora)"}),(0,o.jsx)(h.Z,{multiline:!0,rows:4,label:"Observa\xe7\xe3o (opcional)",disabled:!eP.status,placeholder:"Observa\xe7\xe3o (opcional)",name:"obs",defaultValue:null!==(t=er.obs)&&void 0!==t?t:"",...eO("obs")})]})})})})}),Z&&1==Z.papelID&&er.status>=40&&(0,o.jsx)(i.Z,{sx:{mt:4},children:(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(u.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Status do Formul\xe1rio"}),ef&&(0,o.jsx)(r.Z,{severity:"warning",sx:{mb:4},children:"O Status n\xe3o pode mais ser alterado pois j\xe1 est\xe1 sendo utilizado em outro formul\xe1rio!"}),(0,o.jsx)(m.Z,{display:"flex",gap:8,children:(0,o.jsxs)(f.Z,{row:!0,"aria-label":"colored",name:"colored",value:er.status,onChange:eB,children:[(0,o.jsx)(v.Z,{value:70,disabled:ef,name:"status",...eO("status"),onChange:()=>eg(!0),control:(0,o.jsx)(j.Z,{color:"success"}),label:"Aprovado"}),(0,o.jsx)(v.Z,{value:60,disabled:ef,name:"status",...eO("status"),onChange:()=>eg(!0),label:"Aprovado parcial",control:(0,o.jsx)(j.Z,{color:"warning"})}),(0,o.jsx)(v.Z,{value:50,disabled:ef,name:"status",...eO("status"),onChange:()=>eg(!0),label:"Reprovado",control:(0,o.jsx)(j.Z,{color:"error"})})]})})]})})]}),(0,o.jsx)(q.Z,{openModal:ed,handleClose:()=>ec(!1),title:"Concluir e Enviar Formul\xe1rio",text:"Deseja realmente concluir e enviar? Ap\xf3s a conclus\xe3o, voc\xea n\xe3o poder\xe1 mais alterar esse formul\xe1rio. Um e-mail ser\xe1 enviado e agora basta aguardar a an\xe1lise do ".concat(null==eu?void 0:eu.nomeFantasia,". Ap\xf3s a conclus\xe3o voc\xea ser\xe1 alertado no email ").concat(Z.email),btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary",handleSubmit:eU}),eb&&(0,o.jsx)(ea,{id:ew,parFormularioID:1,formStatus:er.status,hasFormPending:ef,openModal:eb,handleClose:()=>ev(!1),title:"Hist\xf3rico do Formul\xe1rio",text:"Listagem do hist\xf3rico das movimenta\xe7\xf5es do formul\xe1rio ".concat(ew," do Fornecedor."),btnCancel:!0,btnConfirm:!0,handleSubmit:e_})]})};var eo=et},47842:function(e,a,t){"use strict";var o=t(85893),n=t(70754),s=t(61953);let l=()=>(0,o.jsx)(s.Z,{sx:{position:"absolute",top:"50%",left:"50%"},children:(0,o.jsx)(n.Z,{})});a.Z=l},49540:function(e,a,t){"use strict";t.d(a,{X1:function(){return d},p6:function(){return r},q:function(){return i}});var o=t(30381),n=t.n(o),s=t(68214),l=t.n(s);function r(e,a){let t=n()(e),o=t.format(a);return o}function i(e){let a=l()(e).toString();return a}function d(e){return e.replace(/[^0-9]/g,"")}},82747:function(e,a,t){"use strict";function o(e){if(14!==(e=null==e?void 0:e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let a=e.length-2,t=e.substring(0,a),o=e.substring(a),n=0,s=a-7;for(let l=a;l>=1;l--)n+=t.charAt(a-l)*s--,s<2&&(s=9);let r=n%11<2?0:11-n%11;if(r!=o.charAt(0))return!1;a+=1,t=e.substring(0,a),n=0,s=a-7;for(let i=a;i>=1;i--)n+=t.charAt(a-i)*s--,s<2&&(s=9);return(r=n%11<2?0:11-n%11)==o.charAt(1)}function n(e){let a;if(11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let t=0;for(let o=1;o<=9;o++)t+=parseInt(e.substring(o-1,o))*(11-o);if((10==(a=10*t%11)||11===a)&&(a=0),a!==parseInt(e.substring(9,10)))return!1;t=0;for(let n=1;n<=10;n++)t+=parseInt(e.substring(n-1,n))*(12-n);return(10==(a=10*t%11)||11===a)&&(a=0),a===parseInt(e.substring(10,11))}function s(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}t.d(a,{dI:function(){return s},sw:function(){return n},zk:function(){return o}})},42480:function(){}}]);