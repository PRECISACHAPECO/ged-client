"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{19550:function(e,a,t){var n=t(62097),o=t(5026);let s=()=>{let e=(0,n.Z)();return{primaryFilled:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},primaryLight:{color:e.palette.primary.main,backgroundColor:(0,o.E)(e.palette.primary.main,.12)},secondaryFilled:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main},secondaryLight:{color:e.palette.secondary.main,backgroundColor:(0,o.E)(e.palette.secondary.main,.12)},successFilled:{color:e.palette.success.contrastText,backgroundColor:e.palette.success.main},successLight:{color:e.palette.success.main,backgroundColor:(0,o.E)(e.palette.success.main,.12)},errorFilled:{color:e.palette.error.contrastText,backgroundColor:e.palette.error.main},errorLight:{color:e.palette.error.main,backgroundColor:(0,o.E)(e.palette.error.main,.12)},warningFilled:{color:e.palette.warning.contrastText,backgroundColor:e.palette.warning.main},warningLight:{color:e.palette.warning.main,backgroundColor:(0,o.E)(e.palette.warning.main,.12)},infoFilled:{color:e.palette.info.contrastText,backgroundColor:e.palette.info.main},infoLight:{color:e.palette.info.main,backgroundColor:(0,o.E)(e.palette.info.main,.12)}}};a.Z=s},60033:function(e,a,t){var n=t(85893),o=t(11163),s=t.n(o),r=t(91359),i=t(61953),l=t(75084),c=t(41664),d=t.n(c),u=t(21609),m=t(20102);let x=e=>{let{btnCancel:a,btnSave:t,handleSubmit:o,btnDelete:c,onclickDelete:x}=e,h=s();return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(r.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)(i.Z,{sx:{display:"flex",gap:"8px"},children:[a&&(0,n.jsx)(d(),{href:(0,m.g_)(h.pathname),children:(0,n.jsx)(l.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,n.jsx)(u.Z,{icon:"material-symbols:arrow-back-rounded"})})}),c&&(0,n.jsx)(l.Z,{type:"button",onClick:x,variant:"outlined",color:"error",size:"medium",startIcon:(0,n.jsx)(u.Z,{icon:"material-symbols:delete-outline"}),children:"Excluir"})]}),(0,n.jsx)(i.Z,{sx:{display:"flex",gap:"8px"},children:t&&(0,n.jsx)(l.Z,{onClick:o,type:"submit",variant:"outlined",size:"medium",color:"primary",startIcon:(0,n.jsx)(u.Z,{icon:"material-symbols:save"}),children:"Salvar"})})]})})};a.Z=x},47842:function(e,a,t){var n=t(85893),o=t(70754),s=t(61953);let r=()=>(0,n.jsx)(s.Z,{sx:{position:"absolute",top:"50%",left:"50%"},children:(0,n.jsx)(o.Z,{})});a.Z=r},54468:function(e,a,t){var n=t(85893),o=t(67294),s=t(87536);t(74231);var r=t(49837),i=t(91359),l=t(79072),c=t(55343),d=t(67836),u=t(81284),m=t(95309),x=t(29630),h=t(11163),p=t.n(h),j=t(20102),g=t(60664),b=t(60033),Z=t(60565),f=t(40039),v=t(47842),y=t(86501),C=t(75158),k=t(26829),D=t(50720),P=t(54623),w=t(27484),L=t.n(w);t(57548);let S=()=>{var e,a,t;let{user:h}=(0,o.useContext)(f.V),{setTitle:w}=(0,o.useContext)(Z.f),[S,E]=(0,o.useState)(!1),[I,F]=(0,o.useState)([]),[z,M]=(0,o.useState)(null),[Q,_]=(0,o.useState)([]),[V,Y]=(0,o.useState)([]),[T,O]=(0,o.useState)([]),N=p(),{id:A}=N.query,R=(0,j.g_)(N.pathname);console.log("Renderizando..."),(0,o.useEffect)(()=>{w("Formul\xe1rio do Fornecedor"),g.h.get("".concat(R,"/").concat(h.unidadeID),{headers:{"function-name":"getData"}}).then(e=>{console.log("getData: ",e.data),F(e.data.fields),M(e.data.data),_(e.data.atividades),Y(e.data.sistemasQualidade),O(e.data.blocos)})},[]);let W=z&&I.reduce((e,a)=>(e[a.nomeColuna]=z[a.nomeColuna],e),{}),{register:q,control:U,handleSubmit:G,formState:{errors:B}}=(0,s.cI)();console.log("errors: ",B);let H=async e=>{console.log("onSubmit: ",e),E(!0);try{await g.h.put("".concat(R,"/").concat(A),e).then(e=>{y.ZP.success(j.OD.successUpdate),E(!1)})}catch(a){console.log(a),E(!1)}};return(0,n.jsxs)(n.Fragment,{children:[S&&(0,n.jsx)(v.Loading,{}),(0,n.jsxs)("form",{onSubmit:G(H),children:[(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(b.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>G(H)}),(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(l.ZP,{container:!0,spacing:4,children:I&&I.map((a,t)=>{var o;return(0,n.jsx)(l.ZP,{item:!0,xs:12,md:3,children:(0,n.jsxs)(c.Z,{fullWidth:!0,children:[a&&"date"==a.tipo&&(0,n.jsx)(D._,{dateAdapter:k.y,children:(0,n.jsx)(P.M,{label:"Selecione uma data",locale:L().locale("pt-br"),format:"DD/MM/YYYY",defaultValue:L()(new Date),renderInput:e=>(0,n.jsx)(d.Z,{...e,variant:"outlined",name:"header.".concat(a.nomeColuna),...q("header.".concat(a.nomeColuna),{required:!!a.obrigatorio})})})}),a&&"string"==a.tipo&&(0,n.jsx)(d.Z,{label:a.nomeCampo,placeholder:a.nomeCampo,name:"header.".concat(a.nomeColuna),defaultValue:null!==(e=W[a.nomeColuna])&&void 0!==e?e:"","aria-describedby":"validation-schema-nome",error:null!=B&&null!==(o=B.header)&&void 0!==o&&!!o[a.nomeColuna],...q("header.".concat(a.nomeColuna),{required:!!a.obrigatorio})})]})},t)})}),(0,n.jsxs)(l.ZP,{container:!0,spacing:4,children:[(0,n.jsxs)(l.ZP,{item:!0,xs:12,md:4,children:[(0,n.jsx)(u.ZP,{disablePadding:!0,children:(0,n.jsx)(m.Z,{children:(0,n.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Atividades"})})}),Q&&Q.map((e,a)=>(0,n.jsx)(u.ZP,{disablePadding:!0,children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)("input",{type:"hidden",name:"atividades.[".concat(a,"].atividadeID"),defaultValue:e.atividadeID,...q("atividades.[".concat(a,"].atividadeID"))}),(0,n.jsx)(l.ZP,{item:!0,md:1,children:(0,n.jsx)(C.Z,{name:"atividades[".concat(a,"].checked"),...q("atividades[".concat(a,"].checked")),defaultChecked:1==e.checked})}),(0,n.jsx)(l.ZP,{item:!0,md:11,children:e.nome})]})},a))]}),(0,n.jsxs)(l.ZP,{item:!0,xs:12,md:4,children:[(0,n.jsx)(u.ZP,{disablePadding:!0,children:(0,n.jsx)(m.Z,{children:(0,n.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Sistemas de Qualidade"})})}),V&&V.map((e,a)=>(0,n.jsx)(u.ZP,{disablePadding:!0,children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)("input",{type:"hidden",name:"sistemasQualidade.[".concat(a,"].sistemaQualidadeID"),defaultValue:e.sistemaQualidadeID,...q("sistemasQualidade.[".concat(a,"].sistemaQualidadeID"))}),(0,n.jsx)(l.ZP,{item:!0,md:1,children:(0,n.jsx)(C.Z,{name:"sistemasQualidade[".concat(a,"].checked"),...q("sistemasQualidade[".concat(a,"].checked")),defaultChecked:1==e.checked})}),(0,n.jsx)(l.ZP,{item:!0,md:11,children:e.nome})]})},a))]})]})]})]}),T&&T.map((e,o)=>(0,n.jsx)(r.Z,{sx:{mt:4},children:(0,n.jsx)(i.Z,{children:(0,n.jsxs)(l.ZP,{container:!0,children:[(0,n.jsx)(l.ZP,{item:!0,xs:12,md:12,children:(0,n.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:600},children:e.nome})}),e.itens&&e.itens.map((e,s)=>(0,n.jsxs)(l.ZP,{container:!0,children:[(0,n.jsx)(l.ZP,{item:!0,xs:12,md:7,children:e.nome}),(0,n.jsxs)(l.ZP,{item:!0,xs:12,md:3,children:[e.alternativas&&e.alternativas.length>1&&e.alternativas.map((e,a)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.Z,{variant:"caption",sx:{clear:"both"},children:e.nome}),(0,n.jsx)(C.Z,{name:"blocos[".concat(o,"].itens[").concat(s,"].alternativas[").concat(a,"].checked"),...q("blocos[".concat(o,"].itens[").concat(s,"].alternativas[").concat(a,"].checked")),defaultChecked:1==e.checked},a)]})),0==e.alternativas.length&&"Data"==e.alternativa&&(0,n.jsx)(D._,{dateAdapter:k.y,children:(0,n.jsx)(P.M,{name:"blocos[".concat(o,"].itens[").concat(s,"].data"),label:"Selecione uma data",locale:L().locale("pt-br"),format:"DD/MM/YYYY",defaultValue:L()(new Date),renderInput:e=>(0,n.jsx)(d.Z,{...e,variant:"outlined"})})}),0==e.alternativas.length&&"Dissertativa"==e.alternativa&&(0,n.jsx)(d.Z,{label:"Resposta",placeholder:"Resposta",name:"blocos[".concat(o,"].itens[").concat(s,"].resposta"),defaultValue:null!==(a=e.resposta)&&void 0!==a?a:"",...q("blocos[".concat(o,"].itens[").concat(s,"].resposta"))})]}),e&&1==e.obs&&(0,n.jsx)(l.ZP,{item:!0,xs:12,md:2,children:(0,n.jsx)(d.Z,{label:"Observa\xe7\xe3o",placeholder:"Observa\xe7\xe3o",name:"blocos[".concat(o,"].itens[").concat(s,"].observacao"),defaultValue:null!==(t=e.observacao)&&void 0!==t?t:"",...q("blocos[".concat(o,"].itens[").concat(s,"].observacao"))})})]},s))]})})},o))]})]})};a.Z=S},20102:function(e,a,t){t.d(a,{g_:function(){return p},OL:function(){return m},Lo:function(){return h},OD:function(){return x}});var n=t(85893),o=t(29630),s=t(41664),r=t.n(s),i=t(21448),l=t(86010),c=t(19550);let d=e=>{let{sx:a,skin:t,color:o,rounded:s}=e,r=(0,c.Z)(),d={primary:{...r.primaryLight},secondary:{...r.secondaryLight},success:{...r.successLight},error:{...r.errorLight},warning:{...r.warningLight},info:{...r.infoLight}},u={...e};return u.rounded=void 0,(0,n.jsx)(i.Z,{...u,variant:"filled",className:(0,l.Z)({"MuiChip-rounded":s,"MuiChip-light":"light"===t}),sx:"light"===t&&o?Object.assign(d[o],a):a})},u={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"}},m=(e,a)=>a.map((t,s)=>{let i=a[s].field;return{...t,flex:t.size,renderCell:t=>(0,n.jsx)(o.Z,{variant:"body2",sx:{color:"text.primary"},children:(0,n.jsx)(r(),{href:"".concat(e,"/").concat(t.row.id),children:a&&a.map((e,a)=>{if(e.field===i){if("status"!=e.field)return t.row[e.field];{let o=u[t.row.status];return(0,n.jsx)(d,{size:"small",skin:"light",color:o.color,label:o.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},a)}}})})})}}),x={successNew:"Dados salvos com sucesso!",successUpdate:"Dados atualizados com sucesso!",errorNew:"Erro ao salvar os dados!",errorRepeated:"Dados j\xe1 existentes!",errorUpdate:"Erro ao atualizar os dados!",errorDelete:"Erro ao excluir os dados!",successDelete:"Dados exclu\xeddos com sucesso!",pendingDelete:"Dado n\xe3o pode ser excluido, pois j\xe1 est\xe1 sendo utilizado!",errorGet:"Erro ao obter os dados!",successGet:"Dados obtidos com sucesso!"},h=e=>{let a=e.split("/"),t=a[a.length-1];return"novo"==t?"new":"edit"},p=e=>{let a=e.split("/");return a.pop(),a.join("/")}}}]);