"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{91359:function(e,o,r){r.d(o,{Z:function(){return Z}});var t=r(87462),n=r(63366),a=r(67294),l=r(86010),i=r(94780),s=r(67074),c=r(78884),d=r(1588),u=r(34867);function m(e){return(0,u.Z)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var p=r(85893);let h=["className","component"],x=e=>{let{classes:o}=e;return(0,i.Z)({root:["root"]},m,o)},f=(0,s.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,o)=>o.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),v=a.forwardRef(function(e,o){let r=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:a,component:i="div"}=r,s=(0,n.Z)(r,h),d=(0,t.Z)({},r,{component:i}),u=x(d);return(0,p.jsx)(f,(0,t.Z)({as:i,className:(0,l.Z)(u.root,a),ownerState:d,ref:o},s))});var Z=v},49837:function(e,o,r){r.d(o,{Z:function(){return j}});var t=r(87462),n=r(63366),a=r(67294),l=r(86010),i=r(94780),s=r(67074),c=r(78884),d=r(70918),u=r(1588),m=r(34867);function p(e){return(0,m.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var h=r(85893);let x=["className","raised"],f=e=>{let{classes:o}=e;return(0,i.Z)({root:["root"]},p,o)},v=(0,s.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,o)=>o.root})(()=>({overflow:"hidden"})),Z=a.forwardRef(function(e,o){let r=(0,c.Z)({props:e,name:"MuiCard"}),{className:a,raised:i=!1}=r,s=(0,n.Z)(r,x),d=(0,t.Z)({},r,{raised:i}),u=f(d);return(0,h.jsx)(v,(0,t.Z)({className:(0,l.Z)(u.root,a),elevation:i?8:void 0,ref:o,ownerState:d},s))});var j=Z},75158:function(e,o,r){r.d(o,{Z:function(){return S}});var t=r(63366),n=r(87462),a=r(67294),l=r(86010),i=r(94780),s=r(41796),c=r(37743),d=r(54235),u=r(85893),m=(0,d.Z)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,d.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),h=(0,d.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),x=r(36622),f=r(78884),v=r(67074),Z=r(1588),j=r(34867);function b(e){return(0,j.Z)("MuiCheckbox",e)}let g=(0,Z.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),y=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],C=e=>{let{classes:o,indeterminate:r,color:t}=e,a={root:["root",r&&"indeterminate",`color${(0,x.Z)(t)}`]},l=(0,i.Z)(a,b,o);return(0,n.Z)({},o,l)},w=(0,v.ZP)(c.Z,{shouldForwardProp:e=>(0,v.FO)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver(e,o){let{ownerState:r}=e;return[o.root,r.indeterminate&&o.indeterminate,"default"!==r.color&&o[`color${(0,x.Z)(r.color)}`]]}})(({theme:e,ownerState:o})=>(0,n.Z)({color:(e.vars||e).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===o.color?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,s.Fq)("default"===o.color?e.palette.action.active:e.palette[o.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&{[`&.${g.checked}, &.${g.indeterminate}`]:{color:(e.vars||e).palette[o.color].main},[`&.${g.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),k=(0,u.jsx)(p,{}),z=(0,u.jsx)(m,{}),I=(0,u.jsx)(h,{}),D=a.forwardRef(function(e,o){var r,i;let s=(0,f.Z)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=k,color:d="primary",icon:m=z,indeterminate:p=!1,indeterminateIcon:h=I,inputProps:x,size:v="medium",className:Z}=s,j=(0,t.Z)(s,y),b=p?h:m,g=p?h:c,D=(0,n.Z)({},s,{color:d,indeterminate:p,size:v}),S=C(D);return(0,u.jsx)(w,(0,n.Z)({type:"checkbox",inputProps:(0,n.Z)({"data-indeterminate":p},x),icon:a.cloneElement(b,{fontSize:null!=(r=b.props.fontSize)?r:v}),checkedIcon:a.cloneElement(g,{fontSize:null!=(i=g.props.fontSize)?i:v}),ownerState:D,ref:o,className:(0,l.Z)(S.root,Z)},j,{classes:S}))});var S=D},90492:function(e,o,r){var t=r(85893),n=r(11163),a=r.n(n),l=r(67294),i=r(60565),s=r(60664),c=r(49837),d=r(91359),u=r(79072),m=r(55343),p=r(67836),h=r(35966),x=r(29630),f=r(22841),v=r(75158);r(74231);var Z=r(87536),j=r(86501),b=r(45061),g=r(46749),y=r(89191);let C=()=>{var e,o,r,n,C,w;let[k,z]=(0,l.useState)(!1),[I,D]=(0,l.useState)(null),[S,E]=(0,l.useState)(null),{id:P}=a().query,R=a(),F=(0,g.Lo)(R.pathname),M=(0,g.g_)(R.pathname),N=(0,l.useRef)(null),{title:O}=(0,l.useContext)(i.f),{control:L,handleSubmit:A,formState:{errors:V},register:$}=(0,Z.cI)({});console.log(V);let B=async e=>{let o={...e,tipoFormularioID:S};try{"new"===F?(await s.h.post("".concat(M,"/novo"),o),R.push(M),j.ZP.success(g.OD.successNew),console.log(o)):"edit"===F&&(await s.h.put("".concat(M,"/").concat(P),o),j.ZP.success(g.OD.successUpdate),console.log("editado"))}catch(r){r.response&&409===r.response.status?j.ZP.error(g.OD.errorRepeated):console.log(r)}},_=async()=>{try{await s.h.delete("".concat(M,"/").concat(P)),R.push(M),j.ZP.success(g.OD.successDelete)}catch(e){e.response&&409===e.response.status?(j.ZP.error(g.OD.pendingDelete),z(!1)):console.log(e)}},T=async()=>{s.h.get("".concat(M,"/").concat(P),{headers:{"function-name":"getData"}}).then(e=>{D(e.data)})},q=async()=>{s.h.get("".concat(M,"/novo"),{headers:{"function-name":"getNovo"}}).then(e=>{D(e.data)})};return(0,l.useEffect)(()=>{"new"===F?(setTimeout(()=>{N.current.focus()},100),q()):"edit"===F&&T()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{children:(0,t.jsxs)("form",{onSubmit:A(B),children:[(0,t.jsx)(y.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>A(B),btnDelete:"edit"===F,onclickDelete:()=>z(!0)}),(0,t.jsx)(d.Z,{children:(0,t.jsxs)(u.ZP,{container:!0,spacing:5,children:[(0,t.jsx)(u.ZP,{item:!0,xs:12,md:8,children:(0,t.jsx)(m.Z,{fullWidth:!0,children:I&&(0,t.jsx)(p.Z,{label:"Nome",placeholder:"Nome",name:"nome",...$("nome",{required:!0}),defaultValue:null!==(r=null==I?void 0:null===(e=I.value)||void 0===e?void 0:e.nome)&&void 0!==r?r:"",error:Boolean(V.nome),"aria-describedby":"validation-schema-nome",inputRef:N})})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:3,children:(0,t.jsx)(m.Z,{fullWidth:!0,children:I&&(0,t.jsx)(h.Z,{options:null!==(n=null==I?void 0:I.formularios)&&void 0!==n?n:[],filterOptions:(e,o)=>e.filter(e=>e.nome.toLowerCase().includes(o.inputValue.toLowerCase())),getOptionLabel:e=>e.nome,onChange(e,o){E(null==o?void 0:o.parFormularioID)},defaultValue:null!==(C=null==I?void 0:I.tipoFormulario)&&void 0!==C?C:null,renderInput:e=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(p.Z,{...e,label:"Formul\xe1rio",placeholder:"Formul\xe1rio",name:"formulario",...$("formulario",{required:!0}),defaultValue:null!==(w=null==I?void 0:I.tipoFormulario)&&void 0!==w?w:"",error:Boolean(V.formulario)})})})})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:1,children:I&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{children:"Ativo"}),(0,t.jsx)(f.Z,{control:(0,t.jsx)(v.Z,{sx:{ml:4},defaultChecked:"new"===F||(null==I?void 0:null===(o=I.value)||void 0===o?void 0:o.status)==1,name:"status",...$("status")})})]})})]})})]})}),(0,t.jsx)(b.Z,{text:"Tem certeza que deseja excluir?",title:"Excluir "+O,openModal:k,handleClose:()=>z(!1),handleSubmit:_,btnCancel:!0,btnConfirm:!0})]})};o.Z=C},45061:function(e,o,r){var t=r(85893),n=r(75084),a=r(29620),l=r(77745),i=r(95398),s=r(76779),c=r(44642);r(21609);var d=r(55343),u=r(67836),m=r(29630),p=r(19604),h=r(67294),x=r(82747);let f=e=>{let{title:o,text:r,handleClose:f,openModal:v,handleSubmit:Z,cnpj:j,inputEmail:b,btnCancel:g,btnConfirm:y,btnCancelColor:C,btnConfirmColor:w}=e,[k,z]=(0,h.useState)(null),[I,D]=(0,h.useState)(!1);return console.log("dialog email: ",k),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(a.Z,{open:v,onClose:f,"aria-labelledby":"form-dialog-title",children:[(0,t.jsx)(l.Z,{id:"form-dialog-title",children:o}),(0,t.jsxs)(i.Z,{children:[(0,t.jsx)(c.Z,{sx:{mb:3},children:r}),b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Z,{sx:{mt:2},fullWidth:!0,children:[(0,t.jsx)(u.Z,{defaultValue:"",type:"email",label:"E-mail do Fornecedor (opcional)",placeholder:"E-mail do Fornecedor (opcional)","aria-describedby":"validation-schema-nome",name:"email",error:(null==k?void 0:k.length)>0&&I,inputProps:{onChange(e){z(e.target.value),D(!(0,x.dI)(e.target.value))}}}),(null==k?void 0:k.length)>0&&I&&(0,t.jsx)(m.Z,{variant:"body2",color:"error",children:"Por favor, insira um e-mail v\xe1lido!"})]}),(0,t.jsx)(p.Z,{severity:"info",sx:{mt:2},children:"Se o e-mail for preenchido, o mesmo receber\xe1 as instru\xe7\xf5es de cadastro e preenchimento do formul\xe1rio no e-mail."})]})]}),(0,t.jsxs)(s.Z,{className:"dialog-actions-dense",children:[g&&(0,t.jsx)(n.Z,{variant:"outlined",color:"primary",onClick:f,children:"Cancelar"}),y&&(0,t.jsx)(n.Z,{variant:"contained",disabled:b&&(null==k?void 0:k.length)>0&&I,color:w||"error",onClick:b&&j?()=>{Z(j,k),z(null),f()}:b&&!j?()=>{Z(k),z(null),f()}:()=>{Z(),f()},children:"Confirmar"})]})]})})};o.Z=f},89191:function(e,o,r){r.d(o,{Z:function(){return g}});var t=r(85893),n=r(11163),a=r.n(n),l=r(67294),i=r(91359),s=r(61953),c=r(75084),d=r(41664),u=r.n(d),m=r(21609),p=r(46749),h=r(73812),x=r(86378),f=r(9942);function v(e){let{disabled:o,generateReport:r,dataReports:n,open:a,anchorEl:l,handleClick:i,handleClose:s}=e;return(0,t.jsx)("div",{children:(0,t.jsx)(h.Z,{id:"fade-menu",MenuListProps:{"aria-labelledby":"fade-button"},anchorEl:l,open:a,onClose:s,TransitionComponent:f.Z,children:n.map(e=>(0,t.jsxs)(x.Z,{onClick(){s(),r(e)},children:[(0,t.jsx)("span",{children:e.identification}),(0,t.jsx)("span",{style:{padding:"0 5px"},children:"-"}),(0,t.jsx)("span",{children:e.name})]},e.id))})})}var Z=r(40039),j=r(10160);let b=e=>{let{btnCancel:o,btnSave:r,btnSend:n,btnChangeStatus:d,handleSubmit:h,disabledSubmit:x,handleSend:f,disabledSend:b,handleChangeStatus:g,btnDelete:y,onclickDelete:C,btnPrint:w,disabled:k,generateReport:z,dataReports:I}=e,D=a(),{user:S,routes:E}=(0,l.useContext)(Z.V),[P,R]=(0,l.useState)(!1),[F,M]=(0,l.useState)(null),N=Boolean(F),O=e=>{M(e.currentTarget)},L=()=>{M(null)},A=(()=>{let e=D.pathname.split("/").slice(0,-1).join("/");return e||D.pathname})();return(0,l.useEffect)(()=>{let e=()=>{window.scrollY>0?R(!0):R(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)(s.Z,{sx:{display:"flex",gap:"8px"},children:[o&&(0,t.jsx)(u(),{href:(0,p.g_)(D.pathname),children:(0,t.jsx)(c.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,t.jsx)(m.Z,{icon:"material-symbols:arrow-back-rounded"})})}),y&&E.find(e=>e.rota===A&&e.excluir)&&(0,t.jsx)(c.Z,{type:"button",onClick:C,variant:"outlined",color:"error",size:"medium",startIcon:(0,t.jsx)(m.Z,{icon:"material-symbols:delete-outline"}),children:"Excluir"}),d&&(0,t.jsx)(c.Z,{type:"button",onClick:g,variant:"outlined",color:"primary",size:"medium",startIcon:(0,t.jsx)(m.Z,{icon:"fluent:status-12-filled"}),children:"Status"})]}),(0,t.jsxs)(s.Z,{sx:{display:"flex",gap:"8px"},children:[w&&1===I.length&&(0,t.jsx)(c.Z,{id:"fade-button","aria-controls":N?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":N?"true":void 0,onClick:()=>z(I[0]),color:"primary",disabled:k,variant:"outlined",size:"medium",type:"button",startIcon:(0,t.jsx)(m.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),w&&I.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{id:"fade-button","aria-controls":N?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":N?"true":void 0,onClick:O,color:"primary",disabled:k,variant:"outlined",size:"medium",type:"button",startIcon:(0,t.jsx)(m.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),(0,t.jsx)(v,{generateReport:z,dataReports:I,handleClick:O,handleClose:L,open:N,anchorEl:F})]}),r&&E.find(e=>e.rota===A&&e.editar)&&(0,t.jsx)(c.Z,{onClick:h,type:"submit",variant:"outlined",size:"medium",color:"primary",disabled:k||x,startIcon:(0,t.jsx)(m.Z,{icon:"material-symbols:save"}),children:"Salvar"}),n&&2==S.papelID&&(0,t.jsx)(c.Z,{onClick:f,type:"button",variant:"contained",size:"medium",color:"primary",disabled:k||b,sx:{ml:2},startIcon:(0,t.jsx)(m.Z,{icon:"carbon:send-filled"}),children:"Enviar Formul\xe1rio"}),P&&r&&E.find(e=>e.rota===A&&e.editar)&&(0,t.jsx)("div",{className:"\n                                ".concat(P?"fadeIn":"fadeOut","\n                            "),style:{position:"fixed",bottom:"40px",right:"30px",zIndex:"5555",textAlign:"center"},children:(0,t.jsx)(j.Z,{color:"primary",size:"large",onClick:h,type:"submit",variant:"contained",disabled:k||x,children:(0,t.jsx)(m.Z,{icon:"material-symbols:save"})})})]})]})})};var g=b},46749:function(e,o,r){r.d(o,{Lo:function(){return m},OD:function(){return u},OE:function(){return h},OL:function(){return d},WR:function(){return c},g_:function(){return p}});var t=r(85893),n=r(29630),a=r(41664),l=r.n(a),i=r(7071);r(67294),r(40039);var s=r(60664);r(50196);let c={1:{title:"Ativo",color:"success"},0:{title:"Inativo",color:"secondary"},10:{title:"Pendente",color:"warning"},20:{title:"Acessou link",color:"info"},30:{title:"Em preenchimento",color:"warning"},40:{title:"Conclu\xeddo",color:"primary"},50:{title:"Reprovado",color:"error"},60:{title:"Aprovado Parcial",color:"warning"},70:{title:"Aprovado",color:"success"}},d=(e,o)=>o.map((r,a)=>{let s=o[a].field;return{...r,flex:r.size,renderCell:r=>(0,t.jsx)(l(),{href:"".concat(e,"/").concat(r.row.id),children:(0,t.jsx)(n.Z,{variant:"body2",sx:{color:"text.primary"},children:o&&o.map((e,o)=>{if(e.field===s){if("status"!=e.field)return r.row[e.field];{let n=c[r.row.status];return(0,t.jsx)(i.Z,{size:"small",skin:"light",color:n.color,label:n.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}},o)}}})})})}}),u={successNew:"Dados salvos com sucesso!",successUpdate:"Dados atualizados com sucesso!",errorNew:"Erro ao salvar os dados!",errorRepeated:"Dados j\xe1 existentes!",errorUpdate:"Erro ao atualizar os dados!",errorDelete:"Erro ao excluir os dados!",successDelete:"Dados exclu\xeddos com sucesso!",pendingDelete:"Dado n\xe3o pode ser excluido, pois j\xe1 est\xe1 sendo utilizado!",errorGet:"Erro ao obter os dados!",successGet:"Dados obtidos com sucesso!"},m=e=>{let o=e.split("/"),r=o[o.length-1];return"novo"==r?"new":"edit"},p=e=>{let o=e.split("/");return o.pop(),o.join("/")},h=e=>{let o=e.route;s.h.get(o,e.params,{responseType:"arraybuffer"}).then(e=>{let o=new Blob([e.data],{type:"application/pdf"}),r=URL.createObjectURL(o);window.open(r,"_blank")}).catch(e=>{console.error("Erro ao gerar relat\xf3rio",e)})}},82747:function(e,o,r){function t(e){if(14!==(e=null==e?void 0:e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let o=e.length-2,r=e.substring(0,o),t=e.substring(o),n=0,a=o-7;for(let l=o;l>=1;l--)n+=r.charAt(o-l)*a--,a<2&&(a=9);let i=n%11<2?0:11-n%11;if(i!=t.charAt(0))return!1;o+=1,r=e.substring(0,o),n=0,a=o-7;for(let s=o;s>=1;s--)n+=r.charAt(o-s)*a--,a<2&&(a=9);return(i=n%11<2?0:11-n%11)==t.charAt(1)}function n(e){let o;if(11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let r=0;for(let t=1;t<=9;t++)r+=parseInt(e.substring(t-1,t))*(11-t);if((10==(o=10*r%11)||11===o)&&(o=0),o!==parseInt(e.substring(9,10)))return!1;r=0;for(let n=1;n<=10;n++)r+=parseInt(e.substring(n-1,n))*(12-n);return(10==(o=10*r%11)||11===o)&&(o=0),o===parseInt(e.substring(10,11))}function a(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}r.d(o,{dI:function(){return a},sw:function(){return n},zk:function(){return t}})}}]);