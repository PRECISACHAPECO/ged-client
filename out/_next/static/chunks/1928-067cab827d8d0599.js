"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1928],{91928:function(e,a,l){l.d(a,{Z:function(){return D}});var r=l(85893),n=l(11163),o=l.n(n),s=l(67294),i=l(60664),t=l(49837),d=l(91359),c=l(79072),u=l(55343),m=l(67836),h=l(29630),x=l(74231),p=l(87536),f=l(47533),j=l(32631),Z=l(86501),b=l(28315),g=l(46749),v=l(89191),C=l(34175),P=l(30381),y=l.n(P);function _(e,a){let l=y()(e),r=l.format(a);return r}let B=()=>{let[e,a]=(0,s.useState)(!1),[l,n]=(0,s.useState)(""),{id:P}=o().query,y=o(),B=(0,g.Lo)(y.pathname),D=(0,g.g_)(y.pathname),$=(0,s.useRef)(null),S=x.Ry().shape({nomeFantasia:x.Z_().required(""),razaoSocial:x.Z_().nullable(),cnpj:x.Z_().nullable().test("","",function(e){let{errorCnpj:a}=this.parent;return!a&&function(e){if(14!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let a=e.length-2,l=e.substring(0,a),r=e.substring(a),n=0,o=a-7;for(let s=a;s>=1;s--)n+=l.charAt(a-s)*o--,o<2&&(o=9);let i=n%11<2?0:11-n%11;if(i!=r.charAt(0))return!1;a+=1,l=e.substring(0,a),n=0,o=a-7;for(let t=a;t>=1;t--)n+=l.charAt(a-t)*o--,o<2&&(o=9);return(i=n%11<2?0:11-n%11)==r.charAt(1)}(e)}),errorCnpj:x.O7().notRequired(),responsavel:x.Z_().nullable(),email:x.Z_().nullable(),dataCadastro:x.Z_().nullable(),telefone1:x.Z_().nullable(),telefone2:x.Z_().nullable(),cep:x.Z_().nullable(),logradouro:x.Z_().nullable(),complemento:x.Z_().nullable(),numero:x.Z_().nullable(),bairro:x.Z_().nullable(),cidade:x.Z_().nullable(),uf:x.Z_().nullable(),status:x.Z_().nullable()}),{control:Q,handleSubmit:W,formState:{errors:F},reset:w,watch:z}=(0,p.cI)({resolver:(0,f.X)(S)}),E=async e=>{if(9==e.length){let a=e.replace(/\D/g,"");i.h.get("https://viacep.com.br/ws/"+a+"/json/").then(e=>{e.data.localidade?(w({...z(),logradouro:e.data.logradouro,bairro:e.data.bairro,cidade:e.data.localidade,uf:e.data.uf}),Z.ZP.success("Endere\xe7o encontrado!")):Z.ZP.error("Endere\xe7o n\xe3o encontrado!")})}},L=async e=>{let a={...e,dataCadastro:_(e.dataCadastro,"YYYY-MM-DD")};try{"new"===B?(await i.h.post("".concat(D,"/novo"),a),y.push(D),Z.ZP.success(g.OD.successNew),w(a)):"edit"===B&&(await i.h.put("".concat(D,"/").concat(P),a),Z.ZP.success(g.OD.successUpdate),console.log("editado"),console.log(a))}catch(l){l.response&&409===l.response.status?Z.ZP.error(g.OD.errorRepeated):console.log(l)}},k=async()=>{try{await i.h.delete("".concat(D,"/").concat(P)),y.push(D),Z.ZP.success(g.OD.successDelete)}catch(e){e.response&&409===e.response.status?(Z.ZP.error(g.OD.pendingDelete),a(!1)):console.log(e)}};return(0,s.useEffect)(()=>{let e=async()=>{try{let e=await i.h.get("".concat(D,"/").concat(P));w(e.data),n(e.data),console.log(e.data)}catch(a){console.log(a)}};e(),"new"===B&&$.current.focus()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.Z,{children:(0,r.jsxs)("form",{onSubmit:W(L),children:[(0,r.jsx)(v.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>W(L),btnDelete:"edit"===B,onclickDelete:()=>a(!0)}),(0,r.jsx)(d.Z,{children:(0,r.jsxs)(c.ZP,{container:!0,spacing:4,children:[(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"nomeFantasia",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:null!=a?a:"",label:"Nome Fantasia",onChange:l,placeholder:"Nome Fantasia",error:Boolean(F.nomeFantasia),"aria-describedby":"validation-schema-nomeFantasia",inputRef:$})}}),F.nomeFantasia&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-nomeFantasia",children:F.nomeFantasia.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"razaoSocial",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:null!=a?a:"",label:"Raz\xe3o Social",onChange:l,placeholder:"Raz\xe3o Social",error:Boolean(F.razaoSocial),"aria-describedby":"validation-schema-razaoSocial"})}}),F.razaoSocial&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-razaoSocial",children:F.razaoSocial.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"cnpj",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:(0,C.PK)(null!=a?a:""),label:"CNPJ",onChange:l,placeholder:"CNPJ",error:Boolean(F.cnpj),"aria-describedby":"validation-schema-cnpj",inputProps:{maxLength:18}})}}),F.cnpj&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-cnpj"})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"responsavel",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:null!=a?a:"",label:"Respons\xe1vel",onChange:l,placeholder:"Respons\xe1vel",error:Boolean(F.responsavel),"aria-describedby":"validation-schema-responsavel"})}}),F.responsavel&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-responsavel",children:F.responsavel.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"email",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:null!=a?a:"",label:"Email",onChange:l,placeholder:"Email",error:Boolean(F.email),"aria-describedby":"validation-schema-email"})}}),F.email&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-email",children:F.email.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"telefone1",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:(0,C.Bk)(null!=a?a:""),label:"Telefone 1",onChange:l,placeholder:"Telefone 1",error:Boolean(F.telefone1),"aria-describedby":"validation-schema-telefone1",inputProps:{maxLength:16}})}}),F.telefone1&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-telefone1",children:F.telefone1.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"telefone2",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:(0,C.Bk)(null!=a?a:""),label:"Telefone 2",onChange:l,placeholder:"Telefone 2",error:Boolean(F.telefone2),"aria-describedby":"validation-schema-telefone2",inputProps:{maxLength:16}})}}),F.telefone2&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-telefone2",children:F.telefone2.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"cep",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:(0,C.Tc)(null!=a?a:""),label:"CEP",onChange(e){l(e),E(e.target.value)},placeholder:"CEP",error:Boolean(F.cep),"aria-describedby":"validation-schema-cep",inputProps:{maxLength:9}})}}),F.cep&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-cep",children:F.cep.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"logradouro",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:null!=a?a:"",label:"Logradouro",onChange:l,placeholder:"Logradouro",error:Boolean(F.logradouro),"aria-describedby":"validation-schema-logradouro"})}}),F.logradouro&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-logradouro",children:F.logradouro.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"complemento",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:null!=a?a:"",label:"Complemento",onChange:l,placeholder:"Complemento",error:Boolean(F.complemento),"aria-describedby":"validation-schema-complemento"})}}),F.complemento&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-complemento",children:F.complemento.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"numero",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:null!=a?a:"",label:"N\xfamero",onChange:l,placeholder:"N\xfamero",error:Boolean(F.numero),"aria-describedby":"validation-schema-numero"})}}),F.numero&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-numero",children:F.numero.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"bairro",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:null!=a?a:"",label:"Bairro",onChange:l,placeholder:"Bairro",error:Boolean(F.bairro),"aria-describedby":"validation-schema-bairro"})}}),F.bairro&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-bairro",children:F.bairro.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"cidade",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{label:"Cidade",onChange:l,placeholder:"Cidade",error:Boolean(F.cidade),"aria-describedby":"validation-schema-cidade",value:null!=a?a:"",defaultValue:"aaaaa"})}}),F.cidade&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-cidade",children:F.cidade.message})]})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Qr,{name:"uf",control:Q,render(e){let{field:{value:a,onChange:l}}=e;return(0,r.jsx)(m.Z,{value:(0,C.CL)(null!=a?a:""),label:"UF",onChange:l,placeholder:"UF",error:Boolean(F.uf),"aria-describedby":"validation-schema-uf",inputProps:{maxLength:2}})}}),F.uf&&(0,r.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-uf",children:F.uf.message})]})})]})})]})}),"edit"===B&&(0,r.jsxs)(h.Z,{variant:"caption",sx:{display:"flex",justifyContent:"end",p:4},children:["Data de cadastro:",_(l.dataCadastro,"DD/MM/YYYY")]}),(0,r.jsx)(b.Z,{text:"Tem certeza que deseja excluir?",title:"Excluir dado",openModal:e,handleClose:()=>a(!1),handleSubmit:k,btnCancel:!0,btnConfirm:!0})]})};var D=B},34175:function(e,a,l){function r(e){return console.log("mask>: ",e),e&&(e=(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2")),e}function n(e){return e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d)(\d{4})$/,"$1-$2")).replace(/\)-/,")")}function o(e){return e=(e=e.replace(/\D/g,"")).replace(/^(\d{5})(\d)/,"$1-$2")}function s(e){return e=(e=e.toUpperCase()).replace(/[^A-Z]/g,"")}l.d(a,{Bk:function(){return n},CL:function(){return s},PK:function(){return r},Tc:function(){return o}})}}]);