"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3310],{33310:function(e,n,i){var o=i(85893),a=i(11163),t=i.n(a),r=i(67294),l=i(60664),s=i(21609),c=i(34175),d=i(82747),u=i(7071),m=i(49837),p=i(91359),x=i(79072),h=i(72389),j=i(80562),f=i(55343),g=i(44731),Z=i(67836),v=i(35966),b=i(75084),y=i(58316),C=i(39063),P=i(9041),w=i(29630),I=i(76992),D=i(29618),S=i(47028),k=i(75158);i(74231);var G=i(87536),F=i(86501),A=i(45061),$=i(46749),E=i(89191),z=i(40039),V=i(26829),O=i(50720),q=i(54623),L=i(13860),N=i.n(L);i(57548);let W=()=>{var e,n,i,a,L,W,T,U,R,_;let[M,Y]=(0,r.useState)(!1),[B,K]=(0,r.useState)(),{id:H}=t().query,J=t(),Q=(0,$.Lo)(J.pathname),X=(0,$.g_)(J.pathname),{user:ee,setUser:en,loggedUnity:ei}=(0,r.useContext)(z.V),[eo,ea]=(0,r.useState)(!1),[et,er]=(0,r.useState)(!1),[el,es]=(0,r.useState)(null),{control:ec,handleSubmit:ed,formState:{errors:eu},watch:em,reset:ep,setValue:ex,register:eh}=(0,G.cI)({});console.log("errors: ",eu),B&&B.units&&B.units.map((e,n)=>{ex("units[".concat(n,"].papel"),e.papel),ex("units[".concat(n,"].profissao"),e.profissao),ex("units[".concat(n,"].cargo"),e.cargos)});let[ej,ef]=(0,r.useState)({showPassword:!1,showConfirmPassword:!1}),eg=()=>{ef({...ej,showPassword:!ej.showPassword})},eZ=()=>{ef({...ej,showConfirmPassword:!ej.showConfirmPassword})},[ev,eb]=(0,r.useState)(!1),ey=async e=>{console.log("\uD83D\uDE80 ~ onSubmit:",e);try{if("new"===Q){let n=await l.h.post("".concat(X,"/novo"),e);J.replace("".concat(X,"/").concat(n.data.id)),F.ZP.success($.OD.successNew)}else"edit"===Q&&(await l.h.put("".concat(X,"/").concat(H),e),F.ZP.success($.OD.successUpdate),console.log("\uD83D\uDE80 ~ values:",e))}catch(i){i.response&&409===i.response.status?F.ZP.error($.OD.errorRepeated):console.log(i)}},eC=async()=>{try{await l.h.delete("".concat(X,"/").concat(H)),J.push(X),F.ZP.success($.OD.successDelete)}catch(e){e.response&&409===e.response.status?(F.ZP.error($.OD.pendingDelete),Y(!1)):console.log(e)}},eP=()=>{let e=[...B.units];e.push({unidade:null,papel:null,profissao:null,cargos:[],status:!0}),K({...B,units:e})},ew=e=>(n,i)=>{ea(!!i&&e)},eI=e=>(n,i)=>{er(!!i&&e)},eD=(0,r.useRef)(null),eS=()=>{eD.current.click()},ek=async e=>{let n=e.target.files[0];if(console.log("\uD83D\uDE80 ~ selectedFile:",n),n){let i=new FormData;i.append("photoProfile",n),await l.h.post("".concat(X,"/photo-profile/").concat(H),i).then(e=>{es(e.data),console.log("id",H),console.log("user.usuarioID",ee.usuarioID),ee.usuarioID==H&&en({...ee,imagem:e.data}),F.ZP.success("Foto de perfil atualizada com sucesso!")}).catch(e=>{console.log(e),F.ZP.error("Erro ao atualizar foto de perfil, tente novamente!")})}},eG=async()=>{try{await l.h.delete("".concat(X,"/photo-profile/").concat(H)),es(null),ee.usuarioID==H&&en({...ee,imagem:null}),F.ZP.success("Foto de perfil removida com sucesso!")}catch(e){console.log(e),F.ZP.error("Erro ao remover foto de perfil, tente novamente!")}};return(0,r.useEffect)(()=>{let e=async()=>{try{let e=await l.h.get("".concat(X,"/").concat(H,"?unidadeID=").concat(ei.unidadeID,"&papelID=").concat(ei.papelID,"&admin=").concat(ee.admin));K(e.data),es(e.data.imagem),console.log("\uD83D\uDE80 ~ getData: ",e.data)}catch(n){console.log(n)}};"edit"===Q&&e()},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("form",{onSubmit:ed(ey),children:[("new"==Q||B)&&(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(E.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>ed(ey),btnDelete:"edit"===Q,onclickDelete:()=>Y(!0)}),(0,o.jsxs)(p.Z,{children:[(0,o.jsx)("input",{type:"hidden",value:ee.admin,name:"admin",...eh("admin")}),(0,o.jsx)("input",{type:"hidden",value:null==B?void 0:B.usuarioUnidadeID,name:"usuarioUnidadeID",...eh("usuarioUnidadeID")}),(0,o.jsx)("input",{type:"hidden",value:null==ei?void 0:ei.unidadeID,name:"unidadeID",...eh("unidadeID")}),(0,o.jsx)("input",{type:"hidden",value:null==ei?void 0:ei.papelID,name:"papelID",...eh("papelID")}),(0,o.jsxs)(x.ZP,{container:!0,spacing:5,sx:{mt:2},children:[(0,o.jsx)(x.ZP,{xs:12,sm:4,md:2,container:!0,spacing:5,children:(0,o.jsxs)(x.ZP,{item:!0,xs:12,md:12,sx:{display:"flex",justifyContent:"center",alignItems:"center",mx:"17px",height:"250px",width:"250px",position:"relative",mb:"10px",md:{height:"auto",width:"auto"}},children:[el&&(0,o.jsx)(h.Z,{title:"Apagar foto do perfil",placement:"top",children:(0,o.jsx)(j.Z,{size:"small",sx:{position:"absolute",top:"30px",right:"9px",zIndex:"20",color:"white",opacity:"0.8",backgroundColor:"#FF4D49","&:hover":{backgroundColor:"#FF4D49",opacity:"1"}},onClick:eG,children:(0,o.jsx)(s.Z,{icon:"material-symbols:delete-outline"})})}),(0,o.jsx)(h.Z,{title:el?"Alterar foto":"Inserir foto",placement:"top",children:(0,o.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"95%",width:"95%"},children:[(0,o.jsx)("input",{type:"file",ref:eD,style:{display:"none"},onChange:ek}),(0,o.jsx)(g.Z,{variant:"rounded",alt:"Victor Anderson",sx:{width:"100%",height:"100%",cursor:"pointer"},src:el,onClick:eS})]})})]})}),(0,o.jsxs)(x.ZP,{xs:12,sm:8,md:10,container:!0,spacing:5,children:[(0,o.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(f.Z,{fullWidth:!0,children:(0,o.jsx)(Z.Z,{defaultValue:null==B?void 0:B.nome,label:"Nome",placeholder:"Nome","aria-describedby":"validation-schema-nome",name:"nome",...eh("nome",{required:!0}),error:eu.nome})})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(f.Z,{fullWidth:!0,children:(0,o.jsx)(O._,{dateAdapter:V.y,children:(0,o.jsx)(q.M,{label:"Data de Nascimento",locale:N().locale("pt-br"),format:"DD/MM/YYYY",defaultValue:N()(new Date(null==B?void 0:B.dataNascimento)),name:"dataNascimento",onChange:e=>ex("dataNascimento",e),renderInput:e=>(0,o.jsx)(Z.Z,{...e,variant:"outlined",error:null==eu?void 0:eu.dataNascimento})})})})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(f.Z,{fullWidth:!0,children:(0,o.jsx)(Z.Z,{defaultValue:null==B?void 0:B.email,label:"E-mail",placeholder:"E-mail","aria-describedby":"validation-schema-nome",name:"email",...eh("email",{required:!0}),error:eu.email})})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(f.Z,{fullWidth:!0,children:(0,o.jsx)(Z.Z,{defaultValue:null==B?void 0:B.cpf,label:"CPF",placeholder:"CPF","aria-describedby":"validation-schema-nome",name:"cpf",...eh("cpf",{required:!0,validate:e=>(0,d.sw)(e)||"CPF inv\xe1lido"}),error:eu.cpf,helperText:null===(e=eu.cpf)||void 0===e?void 0:e.message,inputProps:{maxLength:14,onChange(e){ex("cpf",(0,c.VL)(e.target.value))}}})})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(f.Z,{fullWidth:!0,children:(0,o.jsx)(Z.Z,{defaultValue:null==B?void 0:B.rg,label:"RG",placeholder:"RG","aria-describedby":"validation-schema-nome",name:"rg",...eh("rg",{required:!1}),error:eu.rg})})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(f.Z,{fullWidth:!0,children:(0,o.jsx)(Z.Z,{defaultValue:null==B?void 0:B.registroConselhoClasse,label:"Registro Conselho Classe",placeholder:"Registro Conselho Classe","aria-describedby":"validation-schema-nome",name:"registroConselhoClasse",...eh("registroConselhoClasse",{required:!1}),error:eu.registroConselhoClasse})})}),B&&0==ee.admin&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(f.Z,{fullWidth:!0,children:(0,o.jsx)(v.Z,{options:B.profissaoOptions,getOptionLabel:e=>e.nome||"",defaultValue:null!==(L=B.profissao)&&void 0!==L?L:"",name:"profissao",...eh("profissao",{required:!1}),onChange(e,n){let i=n?{id:null==n?void 0:n.profissaoID,nome:null==n?void 0:n.nome,edit:!0}:null;ex("profissao",i)},renderInput:e=>(0,o.jsx)(Z.Z,{...e,label:"Selecione a profiss\xe3o",placeholder:"Selecione a profiss\xe3o","aria-describedby":"formulario-error",error:null==eu?void 0:eu.profissao})})})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(f.Z,{fullWidth:!0,children:(0,o.jsx)(v.Z,{multiple:!0,limitTags:2,options:B.cargosOptions,getOptionLabel:e=>e.nome||"",defaultValue:null!==(W=null==B?void 0:B.cargo)&&void 0!==W?W:[],name:"cargo[]",...eh("cargo",{required:!1}),onChange(e,n){let i=n?n.map(e=>({id:null==e?void 0:e.id,nome:null==e?void 0:e.nome,edit:!0})):[];ex("cargo",i)},renderInput:e=>(0,o.jsx)(Z.Z,{...e,label:"Cargos",placeholder:"Cargos",error:null==eu?void 0:eu.cargo})})})})]}),B&&"edit"==Q&&(0,o.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(f.Z,{fullWidth:!0,children:(0,o.jsx)(b.Z,{variant:"outlined",startIcon:(0,o.jsx)(s.Z,{icon:"mdi:lock-reset"}),onClick(){eb(!ev),ev&&(ex("senha",null),ex("confirmarSenha",null))},sx:{height:"56px"},children:"Alterar Senha"})})}),("new"==Q||ev)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,o.jsxs)(f.Z,{fullWidth:!0,children:[(0,o.jsx)(y.Z,{htmlFor:"input-confirm-password",children:"Senha"}),(0,o.jsx)(C.Z,{label:"Senha",id:"input-password",type:ej.showPassword?"text":"password",name:"senha",...eh("senha",{required:"new"==Q}),endAdornment:(0,o.jsx)(P.Z,{position:"end",children:(0,o.jsx)(j.Z,{edge:"end",onClick:eg,children:(0,o.jsx)(s.Z,{icon:ej.showPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})})})]})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,o.jsxs)(f.Z,{fullWidth:!0,children:[(0,o.jsx)(y.Z,{htmlFor:"input-confirm-password",color:(null===(n=eu.confirmarSenha)||void 0===n?void 0:n.message)?"error":"",children:"Confirmar Senha"}),(0,o.jsx)(C.Z,{label:"Confirmar Senha",id:"input-password",type:ej.showConfirmPassword?"text":"password",name:"confirmarSenha",...eh("confirmarSenha",{required:"new"==Q,validate:e=>e===em("senha")||"As senhas n\xe3o conferem."}),error:eu.confirmarSenha,endAdornment:(0,o.jsx)(P.Z,{position:"end",children:(0,o.jsx)(j.Z,{edge:"end",onClick:eZ,children:(0,o.jsx)(s.Z,{icon:ej.showConfirmPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})})}),(null===(i=eu.confirmarSenha)||void 0===i?void 0:i.message)&&(0,o.jsx)(w.Z,{variant:"body2",color:"error",children:null===(a=eu.confirmarSenha)||void 0===a?void 0:a.message})]})})]})]})]})]})]}),1==ee.admin&&"edit"===Q&&(0,o.jsxs)(o.Fragment,{children:[B&&B.units&&B.units.map((e,n)=>{var i,a;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("input",{type:"hidden",value:e.usuarioUnidadeID,name:"units[".concat(n,"].usuarioUnidadeID"),...eh("units[".concat(n,"].usuarioUnidadeID"))}),(0,o.jsxs)(m.Z,{sx:{mt:4},children:[(0,o.jsxs)(p.Z,{children:[(0,o.jsxs)(w.Z,{variant:"subtitle1",sx:{fontWeight:600},children:[e.unidade?e.unidade.nome:"Nova Unidade",(null===(i=e.unidade)||void 0===i?void 0:i.id)===ei.unidadeID&&(null===(a=e.papel)||void 0===a?void 0:a.id)===ei.papelID&&(0,o.jsx)(u.Z,{size:"small",skin:"light",color:"success",label:"Atual",sx:{mx:2,"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,o.jsxs)(x.ZP,{container:!0,spacing:5,sx:{my:2},children:[e.unidadeID?(0,o.jsx)("input",{type:"hidden",value:e.unidadeID,name:"units[".concat(n,"].unidadeID"),...eh("units[".concat(n,"].unidadeID"))}):(0,o.jsx)(x.ZP,{item:!0,xs:12,md:3,children:(0,o.jsx)(v.Z,{options:B.unidadesOptions,getOptionLabel:e=>e.nome,defaultValue:null!==(T=null==e?void 0:e.unidade)&&void 0!==T?T:null,name:"units[".concat(n,"].unidade"),...eh("units[".concat(n,"].unidade"),{required:!1}),onChange(e,i){let o=i?{id:null==i?void 0:i.unidadeID,nome:null==i?void 0:i.nome}:null;ex("units[".concat(n,"].unidade"),o)},renderInput(e){var i,a;return(0,o.jsx)(Z.Z,{...e,label:"Selecione a unidade",placeholder:"Selecionar unidade","aria-describedby":"formulario-error",error:null===(i=eu.units)||void 0===i?void 0:null===(a=i[n])||void 0===a?void 0:a.unidade})}})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:3,children:(0,o.jsx)(v.Z,{options:B.papelOptions,getOptionLabel:e=>e.nome,defaultValue:null!==(U=e.papel)&&void 0!==U?U:null,name:"units[".concat(n,"].papel"),...eh("units[".concat(n,"].papel"),{required:!1}),onChange(e,i){let o=i?{id:null==i?void 0:i.id,nome:null==i?void 0:i.nome,edit:!0}:null;ex("units[".concat(n,"].papel"),o)},renderInput(e){var i,a;return(0,o.jsx)(Z.Z,{...e,label:"Selecione o papel",placeholder:"Selecione o papel","aria-describedby":"formulario-error",error:null===(i=eu.units)||void 0===i?void 0:null===(a=i[n])||void 0===a?void 0:a.papel})}})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:3,children:(0,o.jsx)(v.Z,{options:B.profissaoOptions,getOptionLabel:e=>e.nome||"",defaultValue:null!==(R=e.profissao)&&void 0!==R?R:"",name:"units[".concat(n,"].profissao"),...eh("units[".concat(n,"].profissao"),{required:!1}),onChange(e,i){let o=i?{id:null==i?void 0:i.profissaoID,nome:null==i?void 0:i.nome,edit:!0}:null;ex("units[".concat(n,"].profissao"),o)},renderInput(e){var i,a;return(0,o.jsx)(Z.Z,{...e,label:"Selecione a profiss\xe3o",placeholder:"Selecione a profiss\xe3o","aria-describedby":"formulario-error",error:null===(i=eu.units)||void 0===i?void 0:null===(a=i[n])||void 0===a?void 0:a.profissao})}})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:e.unidadeID?6:3,children:(0,o.jsx)(v.Z,{multiple:!0,limitTags:2,options:B.cargosOptions,getOptionLabel:e=>e.nome||"",defaultValue:null!==(_=e.cargos)&&void 0!==_?_:[],name:"units[".concat(n,"].cargo[]"),...eh("units[".concat(n,"].cargo"),{required:!1}),onChange(e,i){let o=i?i.map(e=>({id:null==e?void 0:e.id,nome:null==e?void 0:e.nome,edit:!0})):[];ex("units[".concat(n,"].cargo"),o)},renderInput(e){var i,a;return(0,o.jsx)(Z.Z,{...e,label:"Cargos",placeholder:"Cargos",error:null===(i=eu.units)||void 0===i?void 0:null===(a=i[n])||void 0===a?void 0:a.cargo})}})})]})]}),(0,o.jsx)(p.Z,{children:(0,o.jsxs)(I.Z,{expanded:eo==="panel-".concat(n),onChange:ew("panel-".concat(n)),sx:{border:"1px solid #e0e0e0",boxShadow:"none"},children:[(0,o.jsx)(D.Z,{id:"controlled-panel-header-1","aria-controls":"controlled-panel-content-1",expandIcon:(0,o.jsx)(s.Z,{icon:"mdi:chevron-down"}),sx:{display:"flex",alignItems:"center"},children:(0,o.jsx)(w.Z,{children:"Permiss\xf5es de Acesso"})}),(0,o.jsx)(S.Z,{children:e.menu&&e.menu.map((e,i)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(x.ZP,{container:!0,spacing:5,sx:{my:2},children:[(0,o.jsx)(x.ZP,{item:!0,xs:12,md:8,children:(0,o.jsx)(w.Z,{variant:"body2",children:e.nome})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,children:(0,o.jsx)(w.Z,{variant:"body2",sx:{textAlign:"center"},children:"Ler"})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,children:(0,o.jsx)(w.Z,{variant:"body2",sx:{textAlign:"center"},children:"Inserir"})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,children:(0,o.jsx)(w.Z,{variant:"body2",sx:{textAlign:"center"},children:"Editar"})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,children:(0,o.jsx)(w.Z,{variant:"body2",sx:{textAlign:"center"},children:"Excluir"})})]}),e.menu&&e.menu.map((e,a)=>(0,o.jsx)(o.Fragment,{children:e.rota?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(x.ZP,{container:!0,spacing:5,sx:{my:2},children:[(0,o.jsx)(x.ZP,{item:!0,xs:12,md:8,children:(0,o.jsx)(w.Z,{variant:"subtitle1",children:e.nome})}),(0,o.jsx)("input",{type:"hidden",value:e.rota,name:"units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].rota"),...eh("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].rota"))}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,sx:{textAlign:"center"},children:(0,o.jsx)(k.Z,{defaultChecked:e.ler,name:"units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].ler"),...eh("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].ler")),onChange(e){ex("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].edit"),!0)}})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,sx:{textAlign:"center"},children:(0,o.jsx)(k.Z,{defaultChecked:e.inserir,name:"units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].inserir"),...eh("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].inserir")),onChange(e){ex("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].edit"),!0)}})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,sx:{textAlign:"center"},children:(0,o.jsx)(k.Z,{defaultChecked:e.editar,name:"units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].editar"),...eh("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].editar")),onChange(e){ex("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].edit"),!0)}})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,sx:{textAlign:"center"},children:(0,o.jsx)(k.Z,{defaultChecked:e.excluir,name:"units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].excluir"),...eh("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].excluir")),onChange(e){ex("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].edit"),!0)}})})]})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(I.Z,{expanded:et==="item-".concat(n,"-").concat(i,"-").concat(a),onChange:eI("item-".concat(n,"-").concat(i,"-").concat(a)),sx:{border:"1px solid #e0e0e0",boxShadow:"none"},children:[(0,o.jsx)(D.Z,{id:"controlled-panel-header-1","aria-controls":"controlled-panel-content-1",expandIcon:(0,o.jsx)(s.Z,{icon:"mdi:chevron-down"}),sx:{display:"flex",alignItems:"center"},children:(0,o.jsx)(w.Z,{children:e.nome})}),(0,o.jsx)(S.Z,{children:e.submenu&&e.submenu.map((e,t)=>(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(x.ZP,{container:!0,spacing:5,sx:{my:2},children:[(0,o.jsx)(x.ZP,{item:!0,xs:12,md:8,children:(0,o.jsx)(w.Z,{variant:"subtitle1",children:e.nome})}),(0,o.jsx)("input",{type:"hidden",value:e.rota,name:"units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].rota"),...eh("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].rota"))}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,sx:{textAlign:"center"},children:(0,o.jsx)(k.Z,{defaultChecked:e.ler,name:"units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].ler"),...eh("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].ler")),onChange(e){ex("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].edit"),!0)}})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,sx:{textAlign:"center"},children:(0,o.jsx)(k.Z,{defaultChecked:e.inserir,name:"units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].inserir"),...eh("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].inserir")),onChange(e){ex("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].edit"),!0)}})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,sx:{textAlign:"center"},children:(0,o.jsx)(k.Z,{defaultChecked:e.editar,name:"units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].editar"),...eh("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].editar")),onChange(e){ex("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].edit"),!0)}})}),(0,o.jsx)(x.ZP,{item:!0,xs:12,md:1,sx:{textAlign:"center"},children:(0,o.jsx)(k.Z,{defaultChecked:e.excluir,name:"units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].excluir"),...eh("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].excluir")),onChange(e){ex("units[".concat(n,"].menuGroup[").concat(i,"].menu[").concat(a,"].submenu[").concat(t,"].edit"),!0)}})})]})}))})]})})}))]}))})]})})]})]})}),(0,o.jsx)(x.ZP,{container:!0,spacing:5,sx:{my:2},children:(0,o.jsx)(x.ZP,{item:!0,xs:12,md:3,children:(0,o.jsx)(b.Z,{startIcon:(0,o.jsx)(s.Z,{icon:"material-symbols:add-circle-outline-rounded"}),variant:"outlined",onClick(){eP()},children:"Inserir unidade"})})})]})]}),(0,o.jsx)(A.Z,{text:"Tem certeza que deseja excluir?",title:"Excluir dado",openModal:M,handleClose:()=>Y(!1),handleSubmit:eC,btnCancel:!0,btnConfirm:!0})]})};n.Z=W},45061:function(e,n,i){var o=i(85893),a=i(75084),t=i(29620),r=i(77745),l=i(95398),s=i(76779),c=i(44642);i(21609);var d=i(19604),u=i(29630),m=i(55343),p=i(67836),x=i(67294),h=i(82747);let j=e=>{let{title:n,text:i,handleClose:j,openModal:f,handleSubmit:g,cnpj:Z,inputEmail:v,btnCancel:b,btnConfirm:y,btnCancelColor:C,btnConfirmColor:P,closeAfterSave:w,listErrors:I}=e,[D,S]=(0,x.useState)(null),[k,G]=(0,x.useState)(!1);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(t.Z,{open:f,"aria-labelledby":"form-dialog-title",disableEscapeKeyDown:!0,onClose(e,n){"backdropClick"!==n&&j()},children:[(0,o.jsx)(r.Z,{id:"form-dialog-title",children:n}),(0,o.jsxs)(l.Z,{children:[(0,o.jsxs)(c.Z,{sx:{mb:3},children:[i,I&&I.status&&(0,o.jsxs)(d.Z,{variant:"outlined",severity:"error",sx:{mt:2},children:["Por favor, verifique os campos abaixo:",(0,o.jsx)(u.Z,{variant:"subtitle1",color:"error",sx:{mt:2},children:I.errors.map((e,n)=>(0,o.jsxs)(u.Z,{variant:"body2",color:"error",children:["- ",e]},n))})]})]}),v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(m.Z,{sx:{mt:2},fullWidth:!0,children:[(0,o.jsx)(p.Z,{defaultValue:"",type:"email",label:"E-mail do Fornecedor (opcional)",placeholder:"E-mail do Fornecedor (opcional)","aria-describedby":"validation-schema-nome",name:"email",error:(null==D?void 0:D.length)>0&&k,inputProps:{onChange(e){S(e.target.value),G(!(0,h.dI)(e.target.value))}}}),(null==D?void 0:D.length)>0&&k&&(0,o.jsx)(u.Z,{variant:"body2",color:"error",children:"Por favor, insira um e-mail v\xe1lido!"})]}),(0,o.jsx)(d.Z,{severity:"info",sx:{mt:2},children:"Se o e-mail for preenchido, o mesmo receber\xe1 as instru\xe7\xf5es de cadastro e preenchimento do formul\xe1rio no e-mail."})]})]}),(0,o.jsxs)(s.Z,{className:"dialog-actions-dense",children:[b&&(0,o.jsx)(a.Z,{variant:"outlined",color:"primary",onClick:j,children:"Cancelar"}),y&&(0,o.jsx)(a.Z,{variant:"contained",disabled:v&&(null==D?void 0:D.length)>0&&k||I&&I.status,color:P||"error",onClick:v&&Z?()=>{g(Z,D),S(null),w&&j()}:v&&!Z?()=>{g(D),S(null),w&&j()}:()=>{g(),w&&j()},children:"Confirmar"})]})]})})};n.Z=j},89191:function(e,n,i){i.d(n,{Z:function(){return y}});var o=i(85893),a=i(11163),t=i.n(a),r=i(67294),l=i(91359),s=i(61953),c=i(75084),d=i(72389),u=i(41664),m=i.n(u),p=i(21609),x=i(46749),h=i(73812),j=i(86378),f=i(9942);function g(e){let{disabled:n,dataReports:i,open:a,anchorEl:t,handleClick:r,handleClose:l,generateReport:s}=e;return(0,o.jsx)("div",{children:(0,o.jsx)(h.Z,{id:"fade-menu",MenuListProps:{"aria-labelledby":"fade-button"},anchorEl:t,open:a,onClose:l,TransitionComponent:f.Z,children:i.map(e=>(0,o.jsxs)(j.Z,{onClick(){l(),s(e)},children:[(0,o.jsx)("span",{children:e.identification}),(0,o.jsx)("span",{style:{padding:"0 5px"},children:"-"}),(0,o.jsx)("span",{children:e.name})]},e.id))})})}i(60565);var Z=i(40039),v=i(10160);let b=e=>{let{btnCancel:n,btnSave:i,btnSend:a,btnStatus:u,handleSubmit:h,disabledSubmit:j,handleSend:f,disabledSend:b,handleBtnStatus:y,btnDelete:C,onclickDelete:P,btnPrint:w,disabledPrint:I,disabled:D,dataReports:S,generateReport:k}=e,G=t(),{user:F,routes:A}=(0,r.useContext)(Z.V),[$,E]=(0,r.useState)(!1),[z,V]=(0,r.useState)(null),O=Boolean(z),q=e=>{V(e.currentTarget)},L=()=>{V(null)},N=(()=>{let e=G.pathname.split("/").slice(0,-1).join("/");return e||G.pathname})(),W=()=>{window.scrollTo({top:0,behavior:"smooth"})},T=()=>{window.history.back()};return(0,r.useEffect)(()=>{let e=()=>{E(!1),window.scrollY>0?E(!0):E(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsxs)(s.Z,{sx:{display:"flex",gap:"8px"},children:[n&&(0,o.jsx)(m(),{href:(0,x.g_)(G.pathname),children:(0,o.jsx)(c.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,o.jsx)(p.Z,{icon:"material-symbols:arrow-back-rounded"})})}),C&&A.find(e=>e.rota===N&&e.excluir)&&(0,o.jsx)(c.Z,{type:"button",onClick:P,variant:"outlined",color:"error",size:"medium",startIcon:(0,o.jsx)(p.Z,{icon:"material-symbols:delete-outline"}),children:"Excluir"}),u&&(0,o.jsx)(c.Z,{type:"button",onClick:y,variant:"outlined",color:"primary",size:"medium",startIcon:(0,o.jsx)(p.Z,{icon:"fluent:status-12-filled"}),children:"Status"})]}),(0,o.jsxs)(s.Z,{sx:{display:"flex",gap:"8px"},children:[w&&1===S.length&&(0,o.jsx)(c.Z,{id:"fade-button","aria-controls":O?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":O?"true":void 0,onClick:()=>k(S[0]),color:"primary",disabled:D||I,variant:"outlined",size:"medium",type:"button",startIcon:(0,o.jsx)(p.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),w&&S.length>1&&(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(c.Z,{id:"fade-button","aria-controls":O?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":O?"true":void 0,onClick:q,color:"primary",disabled:D||I,variant:"outlined",size:"medium",type:"button",sx:{mr:0},startIcon:(0,o.jsx)(p.Z,{icon:"material-symbols:print"}),children:"Imprimir"}),(0,o.jsx)(g,{generateReport:k,dataReports:S,handleClick:q,handleClose:L,open:O,anchorEl:z})]}),i&&A.find(e=>e.rota===N&&e.editar)&&(0,o.jsx)(c.Z,{onClick:h,type:"submit",variant:"outlined",size:"medium",color:"primary",disabled:D||j,startIcon:(0,o.jsx)(p.Z,{icon:"material-symbols:save"}),children:"Salvar"}),a&&(0,o.jsx)(c.Z,{onClick:f,type:"button",variant:"contained",size:"medium",color:"primary",disabled:D||b,startIcon:(0,o.jsx)(p.Z,{icon:"carbon:send-filled"}),children:"Concluir Formul\xe1rio"}),(0,o.jsx)("div",{className:"\n                        ".concat($?"fadeIn":"hidden"," trasition duration-200 fixed bottom-10 right-8 z-50 flex flex-col-reverse gap-3\n                    "),children:[{id:1,title:"Salvar",color:"primary",size:"large",type:"submit",variant:"contained",disabled:D||j,icon:"material-symbols:save",function:h},{id:2,title:"Imprimir",color:"default",size:"large",type:"button",variant:"outlined",disabled:D||I,icon:"material-symbols:print",function:q},{id:3,title:"Voltar ao topo",color:"default",size:"large",type:"button",variant:"outlined",disabled:!1,icon:"ion:arrow-up",function:W},{id:4,title:"Voltar para a p\xe1gina anterior",color:"default",size:"large",type:"button",variant:"outlined",disabled:!1,icon:"material-symbols:arrow-back-rounded",function:T}].map(e=>(1!==e.id||i&&A.find(e=>e.rota===N&&e.editar))&&(2!==e.id||w)?(0,o.jsx)(d.Z,{title:e.title,placement:"left",children:(0,o.jsx)("div",{children:(0,o.jsx)(v.Z,{color:e.color,size:"large",onClick:e.function,variant:"contained",type:e.type,disabled:e.disabled,children:(0,o.jsx)(p.Z,{icon:e.icon})})},e.id)},e.id):null)})]})]})})};var y=b},34175:function(e,n,i){function o(e){return e&&(e=(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2")),e}function a(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2")),e}function t(e){return e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d)(\d{4})$/,"$1-$2")).replace(/\)-/,")")}function r(e){return e=(e=e.replace(/\D/g,"")).replace(/^(\d{5})(\d)/,"$1-$2")}function l(e){return e=(e=e.toUpperCase()).replace(/[^A-Z]/g,"")}i.d(n,{Bk:function(){return t},CL:function(){return l},PK:function(){return o},Tc:function(){return r},VL:function(){return a}})},82747:function(e,n,i){function o(e){if(14!==(e=null==e?void 0:e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let n=e.length-2,i=e.substring(0,n),o=e.substring(n),a=0,t=n-7;for(let r=n;r>=1;r--)a+=i.charAt(n-r)*t--,t<2&&(t=9);let l=a%11<2?0:11-a%11;if(l!=o.charAt(0))return!1;n+=1,i=e.substring(0,n),a=0,t=n-7;for(let s=n;s>=1;s--)a+=i.charAt(n-s)*t--,t<2&&(t=9);return(l=a%11<2?0:11-a%11)==o.charAt(1)}function a(e){let n;if(11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let i=0;for(let o=1;o<=9;o++)i+=parseInt(e.substring(o-1,o))*(11-o);if((10==(n=10*i%11)||11===n)&&(n=0),n!==parseInt(e.substring(9,10)))return!1;i=0;for(let a=1;a<=10;a++)i+=parseInt(e.substring(a-1,a))*(12-a);return(10==(n=10*i%11)||11===n)&&(n=0),n===parseInt(e.substring(10,11))}function t(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}i.d(n,{dI:function(){return t},sw:function(){return a},zk:function(){return o}})}}]);